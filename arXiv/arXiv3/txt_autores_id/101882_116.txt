 Within the possibilistic approach to uncer tainty modeling  the paper presents a modal logical system to reason about qualitative  comparative  statements of the possibility  and necessity  of fuzzy propositions  We re late this qualitative modal logic to the many valued analogues MVS  and MVKD   of the well known modal logics of knowledge and be lief    and KD   respectively  Completeness results are obtained for such logics and there fore  they extend previous existing results for qualitative possibilistic logics in the classical non fuzzy setting  Keywords  Possibilistic Logic  Fuzzy Logic  Qualitative Possibility  Many valued Modal  Logic      INTRODUCTION  In the recent past  a lot of effort has been put in re lating numerical and symbolic approaches to uncer tain reasoning  Numerical formalisms attach degrees of belief to propositions  Belief degrees are understood as a measure on the set of possible worlds  possible state descriptions  that assigns to every proposition the measure of the set of worlds in which the proposi tion is true  Therefore  uncertainty measures are not truth functional  as it is welt known and established  i e  the measure of a compound formula can not be in general obtained as a function of the measures of its subformulas  Possibilistic logic  cf  e g   Dubois   Prade       is a particular numerical formalism based on the use of the so called possibility and necessity measures that provide to what extent a crisp piece of knowledge can be considered plausible and certain respectively  Even if formulas bear numerical possibilities  we may be in terested not in the values themselves but only in their comparison  i e  in formulas such as A  l B saying for instance that B is at least as possible as A  In this direction  a qualitative characterization of possi   a  Fuzzy Setting  Francese Esteva Pere Garcia  Lluis Godo  Artificial Intelligence Research Institute  IliA  Spanish Council for Scientific Research  CSIC  e mail   esteva pre godo   ceab es  bility measures was first given in  Dubois      where it was established a formal relation between possibil ity theory and qualitative possibility relations  Since then several logics of qualitative possibility have been proposed to allow specifying partial qualitative pos sibility relations and deriving consequences based on this partial information  Farinas and Herzig  Farinas   Herzig      axiomatize the logic of qualitative possibil ity called QP L  introducing a conditional connective     and they relate it to the Lewis  conditional logic V N  They also propose a multi modal logic based on sphere semantics to fully support possibility the ory  Boutilier presents in  Boutilier      a possible worlds semantics for qualitative possibility relations and defines two modal logics  co and co  and he makes use of two modalities to capture possibilistic logic  One corresponds as usual to truth at acces sible worlds while the other to truth to inaccessible worlds  Finally  in  Bendova   Hajek      qualitative possibilistic logic is related to a tense logic with finite linearly preordered time called F LPOT  pushing fur ther some aspects of the previous works  specially the incompleteness of Q P L and the ptecise relation of the above modal systems with unary modalities to QPL  It is also worth noticing that similar attempts of re lating other quantitative and qualitative uncertainty measures have been proposed in the literature  See for instance  Segerberg      or  Bacchus      for the case of probability measures or  Harmanec   Hajek        Resconi  Klir   St  Clair      for belief and plausibil ity measures  See also  Wong et a         On the other hand  vagueness  fuzziness  concerns de grees of truth  usually numerical  and therefore one is led to many valued logics as underlying formalism  In this sense  fuzzy logic deals with fuzzy propositions that may have intermediate degrees of truth and it is usually understood as truth functional  i e  the truth degree of a compound formula is a function of the truth degrees of its subformulas using suitable connectives  Because of this key feature  fuzzy logic departs from any uncertainty logic  So far  as argued elsewhere   Godo   Mantaras        Hajek        Hajek   Harmancova        we have seen that qualitative uncertainty  possibility  leads to   On Modal Logics for Qualitative Possibility in a Fuzzy Setting  modal logics  while fuzziness leads to many valued log ics  Therefore  presence of both fuzziness and uncer tainty leads to calculi that are both many valued and modal  Modal many valued logics have been already investigated by some authors  see for instance  Oster mann      or  Fitting       Our goal is to study logical systems of qualitative possibility dealing with fuzzy propositions  It is clear then that the first question one is faced with is how to compare formulas of fuzzy logic with respect to their possibility or  more general  with respect to the possibility measures of worlds on which they have a given truth value  This question has not an unique answer  For instance  in a recent and very related works  Hajek   Harmancova        Hajek  Harmancova   Verbrugge  oo  the possibility of a fuzzy formula is described by a fuzzy truth value  i e  a function that provides  for each truth value c r  the possibility of the fuzzy formula being a true  The corresponding modal calculus QF L of comparison of possibilities is there shown to have a faithful interpre tation in a certain many valued tense logic  with lin early preordered time   and thus naturally extending the results in  Bendova   Hajek       In the present paper we investigate qualitative fuzzy logics based on an alternative definition of possibility of a fuzzy formula  following the well known Zadeh s extension of classical possibility measures to fuzzy propositions  cf   Zadeh       Dubois   Prade        With this definition  the possibility of a formula of fuzzy logic is again only one value  Furthermore  in our setting the possibility of a formula is just a truth value  To simplify matters  we make the following de sign choices  we investigate finitely valued Lukasiewicz fuzzy logics where the set Values of truth values co incides with the set of allowed possibility degrees  We show that this notion is useful to express statements about qualitative possibility comparisons  The corre sponding comparative logic QF    is shown to sat isfy reasonable axioms and to be closely related to the many valued analogue MV   of the modal logic     In Artificial Intelligence     is often understood as the logic of knowledge whereas its weakening I  D   is understood as the logic of belief  cf  Voorbraak        Halpern   Moses        We relate our calculi also to K D   and its many valued counterpart MVKD    Completeness theorems for MV   and MVf  D   are obtained  This is not a too surprising result   Fit ting      has much about completeness of many valued modal logics and  Ostermann      too  But we present Hilbert style systems and get their completeness  Cf  also  Nakamura    a    b  for a different approach  The paper is organized as follows  In Section   the underlying many valued propositional calculus is de scribed  In Section    possible world semantics for the qualitative fuzzy logic Q F L  is introduced  while in Section   we prove its faithful interpretation on the many valued modal MV    also described in this sec   The subindex   distinguishes our logic from the logic  QF L  of   Hajek    Harmancova          tion  Finally  in Section   the logic MVf  D   is pre sented and proved that Q F L  can be also faithfully interpreted there  We end with some concluding re marks     MANY VALUED PROPOSITIONAL CALCULUS USED  Fix a natural number n        we base our investigations over the n valued propositional Lukasiewicz s logic Ln  as described e g  in  Gottwald       This choice does not imply that we claim Lukasiewicz s logic be the only formal logical system for fuzzy logic  Our set of truth values is Values         n                 Principal con nectives are implication and negation  denoted respec tively by   and       with Lukasiewicz semantics      A is interpreted by    x and A   B by min l  x   y     where x   y E Values are the interpretations of A and B respectively  occasionally we write I x  y  for min l  x   y      Other connectives are defined from   and    in particular  there are two conjunctions and two disjunctions  We have the connectives    and V  interpreted by min x  y  and max x  y  respectively  and   interpreted by max O  x   y      and its dual Y    interpreted by min l  x   y   The equivalence con nective     is interpreted by min I x  y   l y  x    A complete axiomatization of Ln extends the celebrated axiomatization of L    Rose and Rosser      by some few additional axioms  namely       A    B   A    A   B      B   C     A   C         B      A   A  B     A   B    B      B   A    A   i l  i    m   m A    A L cii y       L A     n     i   j    i    for      m   n     such that m     does not divide n    and where         A stands forAY         n        Y   A and       A for A        l        A  Note the   tautologies  A    B     C           A B     C  and       A   B           A   B   Further note the   tautology  A    B               B       A   We extend Ln by unary connectives  co efficients   i  for each i E Values  the value of  i A is   iff the value of A is i  otherwise the value of  i A is    In fact the connectives  i  are definable in Ln  see  Ostermann      or  Gottwald       Finally notice that Dienes and Godel s implications are also definable in Ln as   A V B and     A   B  V B respectively  In the sequel  the constant True will stand forA    A  False for   True  and B  formulas will be formulas generated from formulas of the form   i A using con nectives and coefficients  Clearly  each such a formula   Hajek  Hannancova  Esteva  Garcia  and Godo       is Boolean in the semantic sense  it takes only values   and     Later we introduce another class of formulas that are Boolean   We list next some axioms on formu las containing coefficients  cf   Hajek   Harmancova        in fact they are provable  by definability of coef ficients and completeness of axioms for Ln   v  i A   A    i A   j A       i f j   i A        i    A   i A     j B         t  i j   A  B    for   being     V      Y            and t  being the corre sponding truth interpretation     A    A   for B   formulas A  B  C  A       A   A     B    C        A    B      A    C     Definition      II A      supw rr w       II A llw   The corresponding dual notion of necessity can be then as N A      II    A   infw    rr w V II A llw  The idea behind the above definition is to use it in next sections to interpret in our comparative logic QF L  sentences of type B is at least as possible as A  being A and B many valued  as II A      II B   This inter pretation extends to the fuzzy  many valued  case   in a different way than QF L  the comparison of possibili ties that is present in the qualitative possibilistic logics QPL  CO and F LPOT mentioned in the introduction section  However  it is worth noticing that other ways of extending the notion of possibility for fuzzy propo sitions have been also advocated  see  Dubois   Prade      for a discussion of such extensions  Next lemmas show a characterization of possibility measures II given by possibilistic Kripke models  Lemma      cf   Dubois fj Prade         For each possibilistic Kripke model K  II satisfies the following    IIl  II True      II False           II   II A VB   max II A   II  B      II   if Ln f A    B then II A    II B   The only deduction rule is modus ponens  This ends our description of the underlying propositional calcu lus    II   II A        Proof  We only prove the last equality   KRIPKE MODELS  POSSIBILITIES  Our possibilistic Kripke models over a set Atom of propositional atoms have the form      W  lh rr   where W is a non empty set of possible worlds  If maps Atom x W into Values   r maps W into Values and maxw EW rr   w       Recall that we consider possi bilities taking values only in Values  We extend If  in the obvious way to a mapping  denoted again by If   of Forma x W into Values where Form  is the set of all formulas of our propositional logic satisfying the usual inductive conditions  We write II A llw  i for If  A  w    i  Concerning satisfiability  we shall write wlf A iff I I A llw      Note II A llw  i i ff wlf  i A   The corresponding notions of validity and semantical entailment are the usual ones  After Zadeh  cf   Zadeh         Dubois   Prade        we introduce the following notion of the possibility degree of a  fuzzy  formula A E Form  in a possibilis tic Kripke model  that extends to many valued propo sitions the notion of classical possibility measure for two valued propositions which plays a central role in possibilistic logic    Nate  that this formula is one of famous axioms of the  classical two valued propositional calculus  it is sound for boolean formulas but not for all formulas   V  i      II  i A    i  supw rr w  i   sup  i         II A  II A llw    sup   supiiAII     i T w   II  i A          Atom of propositional atoms to be finite  If a mapping II   Forma            satisfies the axioms  II    II   of the preceding lemma then there is a finite Kripke model f  such that II is the possibility given by f   Lemma     Assume the set  Proof  Note that  II   guarantees that it is enough to produce a Kripke model f  whose possibility coincides with II for B  formulas  Now it is easily seen that each B  formula  is equivalent to a Boolean combination of formulas of the form  i p where p is a propositional atom  Therefore  we may produce a model f  in full   analogy to the two valued case  each B  formula B is Ln equivalent to a disjunction of maximal elemen tary conjunctions of the form          j   p   where m is the cardinality of the set Atom  thus for each such B there is a maximal elementary conjunction C such that II B    II C   Thus we construct our model from the  elementary conjunctions in the usual way   Notice that  given a possibilistic Kripke model K    W  If   rr  over a set Atom of atoms  if p is a propo sitional variable not in Atom  I  clearly determines uniquely a model I      W  If    over Atom    Atom U  p  such that If   coincides with If  on Atom and lf   p  w    rr w  for each w E W   K  has no ex plicit structure on W    Models of the form  W  IH        On Modal Logics for Qualitative Possibility in a Fuzzy Setting  will be called MVS  models  for obvious reasons  see below   If        W  It    is an MVS  model over Atom U  p  such that max ll p llwl w       then it de termines uniquely a possibilistic model I     W  lh  r  where If  is the restriction of If   to At om x W and  r w    lf  p  w  for all w E W  We shall identify    and K  without any danger of misunderstanding  In the next section we shall introduce various modal ities defined in our Kripke models  among them the modality of comparison of possibilities     SOME MODALITIES  THE FUZZY LOGIC  QF L   AND ITS  RELATION TO THE MODAL  definable from    So it makes sense  for our purposes of investigating the logic of comparison of possibilities  to axiomatize the D modality  This is our next task  First  observe that if a formula A is Boolean  takes only values      then OA is also Boolean  but of course OpA need not be Boolean  Define the class of B formulas to be the class of formulas resulting from formulas of the form  i A  where A is an arbitrary formula  possibly containing modalities  using connec tives  Thus each B formula is Boolean  Definition        MANY VALUED LOGIC MVS   We enrich our language by three modalities     Op and  lp  for Atom    AtomU p   and define their seman tics as follows  II OA l w  max ll A llw l w  E W   II OpA llw   max ll pi  A llw l w  E W   A  lp B is OrA  OpB the corresponding duals DA  DpA and A   p B being defined as      A       op    A and          A  lp   B  respec tively   Note that formulas OA  OpA and A  lp B take a con stant value independently of a given wE W  Thus we shall write from now on II OA I I  II OpA II etc  Next lemma summarizes properties and relations among the above modalities  note that we work with models K  in which max ll p llwl w       i e  II Op II     Lemma     The  following properties hold for any  formulas A and B   a  II DA II  min II A llw I wE W    b  II OpA II  II A   II DpA II   N A    c  OpA is equivalent to O p A A   DpA is equivalent to D      p VA   d  A   p B is equivalent to DpA  DPB  e  II A  l p B I I     iff II  A      II  B   II A   p B II    iff N A      N B   propositional axioms as in Section   but the ax IOms A       l A  A   B     C     A     B    A  C    are postulated for all B formulas  not only formulas    where ll  and N  is defined by extension of definition     to any formula in the obvious way  Thus it is clear that the modality Op captures the pos sibility n whereas the binary modality  lp captures the comparison of possibilities  Furthermore  the lemma shows that OP and  l P are interdefinable and both are  Eo  modal axioms  D A    B     DA   DB  DA   A DA  DDA OA     DOA   i  DA        D  i A   Fitting  like   Clearly    i A stands for Vr    j A    Deduction rules are   modus ponens  necessitation and   from A infer    A     Completeness   MVS    A iff A is a   tauto ogy for MVSS models   Theorem      The proof is standard and sketched at the end of this section  Next step is to formally introduce our qualitative modal logic for comparison of possibilities of fuzzy propositions  and to faithfully embed it in MVS  Definition     The qualitative modal fuzzy logic QFL  over a set Atom of atoms has formulas built  up from atoms  propositional variables  using logical connectives and a binary modality  l  models are pos sibilistic models  W  lh rr  and the semantics is   f  OpA is equivalent to True  l P A   DpA is equivalent to True   p A  The modal logic MVSS has the fol  lowing axioms   II A   B II    I maxw ll A l w A r w    maxw ll B llw J  r  w      It is worth noticing that Jl A  l B II    ll B   Definition      iff  II A          Given a variable p not in Atom  the translation of QFL  formulas to MVSS formulas is de fined recursively as follows    Hajek  Harmancova  Esteva  Garcia  and Godo         q  is q for q E Atom    A         B   is A          B  and similarly for other con  nectives   A  l B    is A   lp B    Finally define A    to be    Op       A      The above mapping    is a faithful in terpretation of QFL  in MVS   i e  a formula A of Q F L  is a   tautology iff A   is a MVS  tautology  Proof  Let K    W  lh  r  be a rriodel of Q F L  and let  wlf  i A  Then K     W  I   constructed above is a model of MVS  and K lf   l Op  wlf   i A  and hence wlf  A    Thus if A   is a   tautology of MVSS  then A is a   tautology of QFL    Conversely  let K     W  I    be a MVS  model  of the language extended by p   If Kdf      l Op then clearly K lf   l A    if I d  l Op then I    I   for the obvious I   If wlf   i A   then wl  i A  and wlf  i A  Thus if A is a   tautology of QF L  then  A   is a   tautology of MVS   In the rest of this section we sketch a proof of the completeness of MVS   Recall B formulas  a theory is a set of B formulas in cluding all formulas    C where Cis MVS  provable  T f  C  T proves C  if there is a proof of C from T using only modus ponens  no necessitation   T is com plete if for each B formula C  T f  C or T f      c  As usual  it suffices to show the following Lemma  Lemma        Mazn Lemma  If To is a complete the ory and T  f   i A then there is a model       W  I  and a wE W such that wiHi A   To build such a model we need first some previous results   Let T and To be complete theories  We say that T and To are equivalent  written T Ri T   provided that for each i and A  T f   i  DA iff T  f  i DA  or equivalently  T f   i OA iff To f   i OA   Definition      MVS  f   i OC       D  S i C    O  i   C      Corollary       IfTo  f    i OC then  For each formula B  and each T E W  iff Tlf  i B   Lemma       T f   i B  Proof  Induction step for   B  Assume T f  i OB  T E W   Then T f  D  S  i B  thus for each T  E W  T  f  D  S i B  thus T  f    S i B  using D D       D   thus T lf  j B for some j  S i  by the in duction hypothesis  On the other hand  T  f     i B implies TB f   i B and by the induction hypothe sis  TBJf  i B  Hence i   max jj B JITJ T E W   i  II   B II  T hi s completes the proof of this lemma  and of the Main Lemma      Corollary       MVSS is complete with respect to the  given semantics     THE LOGIC  Q F L    b    TRiT   Tf  i C   The QF L  comparative modality  l introduced in the previous section relies fundamentally on the MVS  modality   p  Therefore it seems interesting to inves tigate a possible axiomatization of the modality Op itself  without needing to refer it to any other modal ity  To this end  in this section we relate our QF L  to a many valued version of the belief logic K D    see e g   Voorbraak    Our MV   D   will be a subtheory of MVS   like f  D   is a subtheory of      if there are only two values  Values          then MVK D   becomes K D   like MV    becomes     Moreover  a faithful embedding of QF L  into MV   D   is very easy to define  Models of MV    D   are again possibilistic Kripke structures          W           where     is a normalized possibility distribution on W with values in Values that can be understood as a many valued accessibility relation R defined as R w  w      r w     Such many valued accessibility relations already occur in  Fitting        IIOBII  maxw  IIBIIw l  r w      Proof  Easy  from compactness  like in  Hajek   Har   For each i and C such that To f  i OC  let Tc be a complete theory satisfying  b  in  D    is  as  IIDB II II     BII   Next lemmas show the M V f  D   validity of some for mulas that will be taken later as axioms of our logic   Now the definition of the model follows  Definition       AND A  MANY VALUED BELIEF LOGIC  The semantics of the MV    D   mod aliti es follows    a   VT Ri T    T f    S i C   mancova           Finally  completeness comes immediately from next lemma   Theorem      Lemma      the above corollary  We define the model I    W  If   such that the set of models is W  To  U  Tc I C arbitrary  and the forcing relation is defined by Tlf  i p i JT f   i p  for any T E W   Lemma      D A      B   The formulas          DA   t DB     On Modal Logics for Qualitative Possibility in a Fuzzy Setting  DA       DDA   j DA       D j DA  OA       DOA   j OA         D j OA and     True  are   tautologies  Proof  We only prove the first formula  axiom K   The rest are easily proved by straightforward compu tations  It suffices to show that  II DA    DB       D A    B  II  II DA  DB II  I minw    r w  v IIAIIw  minw l    r w   v IIBIIwl    maxwminwI l  r w  VIIA llw     r w   VIIBllw      min wi l  r w  VJIAIIw l  r w  V IIB IIw   and in the other hand II D A     B  II  minw l  r w  V I ll A llw  IIBllw    Thus if we prove We have in the one hand  I l  r w  v IIAIIw    r w  v IIBIIw            r w  v I I AIIw  I BII w          V     i O E A  i  A A  Proo   If i     it is obvious  If i   maxv   II A     A r v       then  it is easy to prove that  there ex ists vo and E such that II A JJ o A r  vo     i  vol f E and  r   vo    II OE II Therefore II A llvo A r vo    IIAIIvo A IIOE II  i  Thus II E A  i  A A OE  llvo     IIE A i  A AOE  IIvo A r  vo     i  and therefore  II O E A i  AA OE         i  Now  we  are  ready  to  present  our  axioms  of  MVKD    Definition     The modal logic MVKD   has the following axioms    axioms of propositional calculus  as above     axioms of KD     D A    B      DA    DB   DA       DDA  OA       DOA  the lemma will be proved  But observe that    I lf  i OA  Lemma      OE          I l    r w V II A llw     r w V II B llw    min I    r w      r w V II Bllw   I  IIAllw    r w  V I BIIw    I  IIAIIw    r w  V IIBIIw     I ll A IJw   II Bllw  I    r w V II A JJw      r w V II B JJw        r w V II B llw      r w   Thus the above inequality holds and the lemma too      j DA     D j DA   j OA       D j OA          True      j OA AE         j  A A           j OA   V E   O    E A  j  AA OE           being E a m  e  c    for j     and E being a m e c   Deduction rules are Modus Ponens  necessitation and  from A infer    A      Recall the notion of a maximal elementary conjunction  m e c   of the form         j  Pi Let I    W  lh  r  be a possibilistic model and let E be a m e c  and A any formula  Then we have the following further lemmas   Previous lemmas  MVI D          to       prove the soundness of  Therefore  the rest of this section is de  voted to get the completeness results for our logic as well as the embedding of Q F L  into M VI  D   as  Lemma      mentioned before   Proof  Evident for A atomic  induction step clear for  case of MVS   i e  for any formula provable in a com plete theory we can build a possibilistic model where it is satisfiable  First of all we need the following lemma   There exists a unique j E Values such that for each w E W  w lf  E      j A   connectives as well as for modalities  since the truth  value of a m odalized formula is independent of Lemma      w      KJf    O O  j A AE      E     j A   I IH  O O  j AAE  then there is awE W  r w  A II j A AE llw     thus IJ j AAE llw    wl f   j A A E  so this j is the unique j of Lemma      Thus  for each wo E W  wolf E      j A   Proof  If such that  Lemma      I Jf   i OA AE         i  A AOE   Proo   Assume wlf  i OA A E  then II OE II  max  r v  I vlf  E     r  v    and i   max   r v  A IJAJJ    Let j be such that  Vv  vlf E      j A   we have IIAAOE IIw IIAAOE IIva  since II Allw  II AIIvo  j  and IJAAOEIIvo IIAIIvo A r vo      IIOAII  i  Thus  JIAAOE IIw    i   Lemma       The techniques are similar to the  Let T  be a complete theory such that  T       i OC  Then   a    VT    T   VE  T       E         i  C A OE       b     JT    T     E  T       E A  i  C A OE      Proof   b   sketch  Assume To     j OC  j      Then for some E  To       O O E     j  C A OE    Put D    E     j  C A OE    Let To     ir  DBk   k            n   To    D ik D Bk and To    D   t ik DBk  note  ik DBk is a B formula    Since MVKD   proves OD    DH    O D A H   for H  D being B formulas  we get  for H      ik DBk  To    OD   O  D A H   thus To       O OD       O    D A H   thus To     O O D A H   and therefore D    H is consistent   then that   Recall that a formula A is MV K D   consistent  MV K D   fj  A   if        Hajek  Hannancova  Esteva  Garcia  and Godo  Consequently  D is consistent with the set of all To provable formulas of the form  i DB  completing this  theory we get our T  This last lemma enables us to define our model as fol lows  For each i and C such that To   i OC let Tc be a theory T as in  b  in the above lemma  We define the model  W  lh  r   such that the set of worlds is W   To  U  Tc I C   forT E W  the forcing relation is defined by TH   i p iff T f    i p  and finally  the possibility distribution is given by  r T    i i JT r E     i OE  Definition      more natural choice would be II DA II  minw    r   w     II A llw  but then to have duality of D and   we should have II OA II  maxw  r   II A llw   strict conj u nction   Unfortunately  for this semantics of D one of the basic axioms of modal logic  namely D A    B      DA    DB   is not a tautology            To find an elegant  non pedestrian  axiomatization of QF L  in its own language still remains  As a matter of fact  it is worth noticing that some of the axioms of Farinas and Herzig s QP L logic  e g      Completeness is obtained by proving next main lemma in a similar way as in lemma       Lemma      For each i  B  and for eachT E W  Tlf  Ci B iff T r  i B      A JB  v  B l A   A    B      A V C      B V C   A    True    True    False   are   tautologies of QF L  too  so they are potential candidates   com      Furthermore  one should give up the assumption that Values is finite and study the full Lukasiewicz s logic with real values   Finally  QF L  is related to MVKD   in the way next theorem shows       The relationship between the semantics of the com parative modality in  Hajek   Harmancova      and in this present paper it is also a matter of future research   Corollary       Completeness   MVKD   is plete with respect to the given semantics   Define an interpretation of QF L formulas in MV   D   by putting  A  l B    OA    OB  and extending trivially to all QF L formulas  Then   is a faithful interpretation of QF L  in M I V D    i e  a QF L  formula A is a QF L tautology iff A  is a MV I  D    t aut ol o gy  Theorem          CONCLUDING REMA RKS AND FUTURE WORK  In this paper we have investigated  from a logical point of view  a modality for comparison of possibilities of fuzzy propositions  In this sense  this paper tackles the same problem as in  Hajek   Harmancova      but with another approach  Taking as referen ce the Zadeh s extension of the concept of possibility mea sures to fuzzy propositions  the corresponding com parative logic QF L  has been related to two many valued modal systems namely MVS  and MVKD    for which complete axiom systems  Hilbert style  h ave been given  However a number of open questions re main for future investigation  Some of them are listed below      It would be desirable to replace axioms          of definition     by some other more elegant axioms  in particular not dealing explicitly with m e c  s   One tautology more similar to the axioms of MVS  is      i DC              i  D       i C       Our choice of semantics of DA in MVKD   might seem unnatural  II DA II  minw  l   r w   V II A llw   A seemingly  Acknowledgements  Francese Esteva  Pere Garcia and Lluis Godo have been partially supported by the Esprit III Basic Re serach Action      DRUMS II and by a grant from the Spanish DGICYT  Pr  No  PB        C        Petr Hajek and Dagmar Harmancova have been par tially supported by the grant Nr         of the Grant Agency of the Academy of Sciences of Czech Republic  Partial support by the COPERNICUS grant No        MUM  in the final stages of preparation of this paper is also acknowledged  
  The way experts manage uncertainty usually changes depending on the task they are performing  This fact has lead us to consider the problem of communicating modules  task implementations  in a large and structured knowledge based system when modules have different uncertainty calculi  In this paper  the analysis of the communication problem is made assuming that  i  each uncertainty calculus is an inference mechanism defining an entailment relation  and therefore the communication is considered to be inference preserving  and  ii  we restrict ourselves to the case which the different uncertainty calculi are given by a class of truth functional Multiple valued Logics      INTRODUCTION  Most expert system  ES  building tools with uncertainty management capabilities provide a unique and global method for representing and combining evidence  Nevertheless  human experts usually change the way they manage uncertainty depending on the task they are performing  To be able to model this behaviour  an ES building tool must allow to attach different uncertainty calculi to the structures implementing the different tasks  in modular ES shells the notion of task is usually implemented as goal oriented modules  However  tasks or modules in a knowledge base are not independent one of each other  they need to cooperate and communicate  as human experts do when solving complex problems  This can be shown in the following example  A physician diagnosing a pneumonia could ask to a radiologist about the results of a radiological analysis  The simplest and more frequent type of communication is to get an  atomic  answer like   it is likely that the patient has a cavitation in his left lung   Then  to use this information in his own reasoning  the physician must only interpret in his language the linguistic expression likely used by the radiologist  and perhaps to identify it with another uncertainty term  say for example acceptab le  used by himself  But the communication could have been richer than that  atomic  answer  and consist of a more complex piece of information  For instance  the radiologist could have answered    if from a clinical point of view you are very confident that the patient has a bacterial disease and he is also inmunodepressed  then its nearly sure he has a cavitation in his left lung   As in the previous case  to use the radiologist information the physician must again interpret it  However  this time the interpretation can not be only a matter of uncertainty terms  very confident  nearly sure  but also a matter of way of reasoning  if he wants to make use of this information in other situations  i e   patients  which do not match exactly the one expressed above  Therefore  if in a knowledge base we have different uncertainty calculi for different tasks  or modules   and these modules need to communicate  a correspondence between their uncertainty calculi must be established  To model the first type of communication shown in the example  in a modular ES shell only a way of translating the languages of different uncertainty calculi  attached to different modules  is required  However  to model the second type of communication the correspondence is also required to be made inference preserving  The need to preserve sometimes inferences through the communication among tasks can be made clearer by means of another little example from an existing expert system  PNEUMON IAl  Verdaguer         for the diagnosis of    PNEUMON IA is an application developped in the modular rule MILORD  Sierra         that manages linguistically expressed uncertainty  see section   for more details   based expert system shell       Agusti Cullell  Esteva  Garcia  God   and Sierra  pneumoniae  The module  task  Bacteria of this expert system comprises the following rule    If a patient has leukopenia and left deviation then he has a bacterial disease  sure  stating that the certainty about the bacterianicity of a disease depends on the certainty of the facts leukopenia and  eft deviation  which are investigated in another module named Laboratory  Let s suppose that these two modules have different uncertainty calculi  Then we could have two types of communication between them  A first possibility is that Bacteria asks to Laboratory for the two facts  translates the answers and makes its  and  combination to conclude about bacterianicity  The second possibility is Bacteria asks the certainty value of the non atomic sentence  leucopenia and  eft deviation  and translates it  In this last case the  and  combination of the certainty values is performed in the Laboratory module  and the result is afterwards translated to the Bacteria uncertainty calculus and used to conclude about bacterianicity  It seems clear that in order to keep the coherence of the whole diagnosis task  the certainty degree of bacterianicity found out in each case should be the same  To make this sure  the correspondence between the uncertainty calculi of those modules should preserve the inferences made in the Laboratory module when moving to the Bacteria module  The general problem of analyzing conditions under which a correspondence or communication between different tasks with different uncertainty calculi preserves inference is a very hard one  In order to deal with this problem  several approaches could be taken into account  from pure logical ones to more cognitive ones  In  Meseguer         in another but not very different setting  it is argued that   if the approach taken lacks a logical basis to serve as a criterion of correctness the result may be quite ad hoc and unsatisfactory  and it will probably involve a good deal of costly engineering trial and error   Following this  argument  the approach we have chosen is a logical one  but without forgetting cognitive aspects  More concretely  our analysis will be carried out from two main points    first  we will consider uncertainty calculi as inference mechanisms defining logical entailment relationships  Therefore  correspondences  or communications  between different uncertainty calculi will be analyzed as mappings between different entailment systems   interactive algorithm for defining such inference preserving correspondences is proposed  This algorithm has been thought as a mechanism to support human experts when developing applications      ENTAILMENT SYSTEMS  Inference engines of many rule based ES can be considered as implementations of proof calculi  from a set of axioms and a set of inference rules  of some underlying Logical Systems  As it is known  every logical system should have a syntactical and semantical formalizations  The theories of Institutions and Entailments Systems allow to formalize an intuitive notion of logical system from the model and proof theoretic approach point of view respectively   Goguen and Burstall          Meseguer          Harper et a            In this way the Institution approach takes the satisfaction relation between models and sentences as basic whereas the Entailment System approach takes the entailment relation  The communication problem among tasks or modules has been introduced as the problem of defining inference preserving mappings  Therefore  in this paper we focus our attention in the entailment systems approach rather than in the Institutions one  and thus  we are mainly interested in correspondences between different entailment systems  Although a categorical definition of Entailment Systems has been given  Meseguer         for our purposes an Entailment System will consist of a pair  L       where L is a language  a set of sentences  usually built from a set of connectives and a signature that provides a set of sorted symbols   and   is an entailment relation on zLxL  i e  a relation satisfying the following properties  El   reflexivity  for any sentence E   E I  E E    mono tonicity  if r    E and r  r  then r    E E    transitivity  if r    Ei  for iE I and ru Ei  iE I     E then r    E   where r and r  are sets of sentences  and E and Ei are sentences of L  In  Meseguer        the following notion of a map of entailment systems has been proposed     and second  we will use finite truth functional multiple valued logics  MY logics  for short  as uncertainty calculi  as long as this is a simplified view of the uncertainty reasoning model that our laboratory has been working with in developing applications with the MILORD system   Sierra         mainly in the medical diagnosis field   Definition       map of entailment systems  Given the entailment systems  L      and  L          a mapping H L   L  is said to be a map of entailment systems if the following condition If T   E then H T      H E   holds for all set of sentences rand for all sentence E of L  The map H is said to be conservative if r   E whenever H T     H E    The paper is structured in the following way  After this introductory section  in section two there is a general overview on entailment systems and their inference preserving mappings  In section three  we describe the class of finite truth functional multiple valued logics we will use as uncertainty calculi for different tasks  Section four is devoted to a detailed study of inference preserving mappings for our uncertainty calculi  and finally  an  A map between entailment systems allows to preserve inference in a strict sense  In partiCular  when the map is conservative one entailment system is an extension of the other one  However these strong conditions sometimes can be weakened in the uncertainty reasoning framework  From the point of view of the correspondence problem between different tasks with different uncertainty calculi  when a task imports information from another task  it   Combining Multiple valued Logics in a Modular Expert Systems  doesn t need always to deduce exactly the s ame   conclusions as the previous one could deduce  Sometimes it only needs that its conclusions be coherent with the   deduction system of the other task   In other words  It allows its reasoning to be less accurate when dealing with the other task information  but not incorrect in any case  To model this last situation a definition weaker than the conservative one is introduced below  We will call it weak conservative  Definition       weak con servative map   Given entailment systems  L      and  L          a map H from L to L   is called weak conservative if the following condition holds  If H r  J    E  then there exists a sentence Eof L such that Tj  Eand H E  f  E   for all set of sentences r of L and all sentence E of L    If H is also a map of entailment systems we call it weak conservative map      A C LASS OF MULTIPLE VALUED LOGICS FOR THE UNCERTAINTY MANA GEMENT IN RULE BASED EXPERT SYSTEMS  Taking the uncertainty management of MILORD as a reference  in this section we consider a restricted type of MV  logics which are expressive enough to model the uncertainty reasoning used in many rule based systems  The uncertainty management approach used in MILORD has the following characteristics  Godo et al             The expert defines a set of linguistic terms expressing uncertainty corresponding to the verbal scale he will use to weight facts and rules     The set of linguistic terms is supposed to be ordered  at least partially  according to the amount of uncertainty they express  being always the booleans  true  and  false  their maximum and minimum elements respectively     The combination and propagation of uncertainty is performed by operators defined over the set of linguistic terms  basically conjunction  disjunction  negation and detachment operators  A method for the elicitation of these operators from the expert has been proposed in  Lopez de Mantaras et al        The main difference of this approach with respect to other ones is that no underlying numerical representation of the linguistic terms is required  Linguistic terms are treated as mere labels  The only a priori requirement is that these labels should represent an ordered set of expressions about uncertainty  For each logical connective  a set of desirable properties of the corresponding operator is listed  Many of thes propertie are a finite counterpart of those of the uncertamty calcuh based on t norms and t conorms  which are in turn the basis of the usual        valued systems underlying Fuzzy Sets Theory  Alsina et al          The listed properties act as constraints on the set of possible solutions  In this way  all operators fulfilling them are gener ated  This   approach has been implemented by formulating  t as a constraint satisfaction problem  Godo and Meseguer         Finally  the expert may select the one he thinks  fits better his own way of uncertainty management in the current task  These characteristics make clear that the logics associated to the different MILORD uncertainty calculi are a class of finite multiple valued logics  taking the linguistic terms as truth values and the operators as the interpretations of the logical connectives  In other words  each linguistic term set  together with its set of operators  defines a truth values algebra and therefore a corresponding multiple valued logic  In  Agusti Cullell et al          MV logics have been analyzed from the semantic point of view and formalized as families of Institutions  Following that line  the main characteristics of our MV logics for uncertainty management we are concerned with are given by    An algebra of truth values  a finite algebra A    An         N  T  l  such that     The set of truth values An is a chain  represented by     ao   a         an      where   and   are the booleans False and T r u e respectively     The negation operator N is an unary operation such that the following properties hold  N   if a   b then N a    N b  N   N     Id     The  and  operation T is any binary operation such that the following properties hold  Tl  T a b  T b a  T   T a T b c     T T a b  c  T   T O a    T   T   a    a TS  if a    b then T a c  i  T b c  for all c  Note that in the unit interval these properties define t norms functions if we add the condition of continuity     The implication operator I is defined by residuation with respect to T   I a b    Max  c E An such that T a c     b  i e   I is the finite counterpart of an R implication generated by the  and  operator T  Trillas and Valverde           A set of Connectives   not         and     and  implication         A set of Sentences  sentences are pairs of classical like propositional sentences and intervals of truth values  The classical like propositional sentences are built from a set of atomic symbols and the above set of connectives  However the sentences we will consider through this case study are only of the following types   pJ  V    P    P          Pn   V    PI   P      Pn     q  V   where pJ        Pn are literals  atoms or negations of atoms   q is an atomic sentence and V is a subset of truth values  For each truth values algebra A  LA will stand for        Usually the set of truth values An stands for a totally ordered set of linguistic terms that the expert uses to express uncertainty  but nothing changes if it is only partially ordered            Agusti Cullell  Esteva  Garcia  God   and Sierra  the set of sentences with intervals of truth values belonging to A  Models   are defined by valuations  i e  mappings p from to the firsts components of sentences to An provided that  p   p    N  p p    P Pl   pz    T  P Pl   P P     p p     q    I p p   p q     Satisfaction Relation  between models and sentences is defined by  Mp I   p  V  if  and only if p p  E V  where Mp stands for the model eined by a valuation p    Entailment Relation  the rmmmal one generated by    the following set of axioms   A       p    pz  p       P    pz   p        A      p     pz  p        p   P    p       A     pl  pz   pz  pl       A         p   p        the following inference rules  which are sound with respect to the satisfaction relation  Agusti Cullell et a            RI     WEAKENING      p  V  I   p  V    where V c     V  and   is a set of sentences   RI    NOT introduction   p  V        p  N V     RI    AND introduction   Pl Vl     P   Vz      Pl   pz  T  V   Vz     RI    MODUS PONENS   p  V     p   q  Vz      q  MP V   Vz    being if a and b are inconsistent MP a b      a l   if b     T a b   otherwise where a and b are said to be inconsistent if there exists no c such that I a c    b        Notice that these inference rules are the only ones that an inference engine would need when working on sets of sentences of the above specified types  very common in fact in rule based ES  However  instead of the rule RI   and for the sake of simplicity  we will consider the following inference rule   RI     MODIFIED MODUS PONENS   p  V     p   q  Vz  I   q  T V   Vz    Although it is correct for instance in the usual case of upper intervals of truth valus  this inference rule is ot logically sound in general with respect to the sem n cs    satisfaction relation  above defmed  Nevertheless  It IS a well known fact that  from the cognitive point of view  detachment operators share the same properties required to conjunction operators   Bonissone         These arguments  together with self evident simplicity reasons  have lead us to adopt the inference rule RI     Therefore  from now on  given a truth values algebra A we will denote by MVLA the multiple valued logic defined above  and by  LA    A  its associated entailment system  The language of this entailment system is LA and its entailment relation is the minimal one determined by axioms A    A    A   and A    and by inference rules RI   RI    RI   and RI      On the other hand  the disjunction operator needed for parallel combination can be obtained from the negation and conjunction operators using the De Morgan laws  For these reasons  and for deductive purposes  only the ordered set of truth values  linguistic terms  and the conjunction and negation operators should be specified in the truth values algebra definitions  Therefore  from now on  truth values algebras will be represented by  A T N   omitting the booleans   and    as long as they belong to all algebras     INFERENCE P RESERVING BETWEEN MV  LOGICS  MAPS  The aim of this section is to analyze the problem of preserving inference in communicating modules  assuming that each one has its own finite MY  logic as uncertainty calculus  In section two  maps and weak conservative maps of entailment systems have been introduced in order to model inference preserving correspondences  In the first subsection of this section  it is shown that morphisms and quasi morphisms of truth values algebras generate maps and weak conservative maps respectively of the corresponding entailment systems  In the second and third subsection  morphisms and quasi morphisms of truth values algebras are studied  Finally  in the fourth subsection an interactive algorithm to define such mappings to assist human experts when developing applications  is proposed      WEAK CONSERVATIVE MAPS  Now we consider the problem of finding inference preserving correspondences between two of these logics MVLA and MVLB  where A   An  T  N  and B    Bm  T   N   are their corresponding truth values algebras  As  t has been noted in section    the mappings between therr entailment systems  LA  I A  and  LB I B  we are mainly interested in are the weak conservative ones  In order to give a sufficient condition for a mapping f  An     B m to generate a weak conservative mapping between the entailment systems of MVLA and MVLB  we need some new definitions and results  Given a truth values algebra A    A   T N   we consider the set of intervals of A    I An    a b l a b E An  where   a b     x   x E A n  a  x  b    We can define the following order relation in I An    I      ifab for all a E   and for all b E f   Let s consider now the following operations on I An     N   a b     N b   N a      T   at b J  a z bzJ      T apz   T bt bz J It is easy to check that N  is a negation mapping and T  fulfils T  TS  Moreover  identifying every element a of An with the interval  a a  of I An     An   T  N  is a subalgebra of d An   T  N    that is  we have the following proposition      Combining Multiple valued Logics in a Modular Expert Systems  Proposition      Any truth value algebra An  T  N  can be extended to an algebra I An    T   N    of the same type that has An  T  N  as a subalgebra  It is worth noticing that  I An      is only a partial ordered set with minimum         and maximum            and N  and T  are univocally defined by N and T  Next we give a small example of an algebra of intervals generated by a truth values algebra of four elements    Example  Let A      a   b      the chain of four elements  The set of intervals of A is I A     O a    O b           a b    a l    b l           a a    b b            Identifying every interval  x x  with the element x of A  the order relation on A and I A  can be represented by the graphs of figure       A  r r r    A n   T  N  and B  Bm  T   N   respectively  Then every quasi morphism of A to B generates a weak conservative mapping between the entailment systems of MVL A and MVLs     Proof  Let f  An     I B m   be a quasi morphism between A and B  and let r   pr  Vl         pn  Vn   a set of sentences of MVLA  We will denote by H f the translation function from MVLA to MVLa defined by H f  s V      s f V   Obviously H f translates axioms of MVLA into axioms of MVLa  Suppose that in MVLa a sentence E   q  V   can be derived from Hf r      Pl   f Vl          pn  f Vn    and axioms of MVLa by applying a sequence of RI    RI    RI   and RI    inference rules and let s denote by g  the composition of their corresponding inference functions  only functions N  and T  will appear   Then it must be the case that g  f V          f Vn    c V   We have to show that there exists a sentence E of MVLA such that it can be derived from r   A E and thatHf E    B E   Let E be the sentence  q  g Vr       Vn    where g is the function obtained from g  replacing the occurrences of N  and T  by N and T  Then it is clear that rI A E holds and  because f is a quasi morphism  we have f g Vr        Vn   c g  f V l          f Vn    c V   soH f E    B E  also holds and the theorem have been proved         In the particular case of algebra morphisms  the following proposition shows that they also generate maps of entailment systems  Proposition      Let MVL A and MVLB be the multiple valued logics defined on the truth values algebras A   An  T  N   and B  Bm   T   N   respectively  Then every order preserving morphism of A to B generates a map between the entailment systems of MVLA and MVLB        Figure    Graphs of the order relation of A and I A   Next we introduce what we call a quasi morphism of algebras as a weakened notion of morphism  allowing to map values of an algebra into intervals of the other  This tries to capture the possibility of being imprecise when renaming truth values from a MV logic to another  Definition      Given two truth values algebras A     A n   Tj  Nj  and B   Bm  T   N    a mapping f   A n     I Bm  is a quasi morphism from A to B if the following conditions hold  l   f is non decreasing  i e  ifa    b   then f a   f  f b      f  O           f   N J x      N     f x        f  TJ x y    c T     x f y    It is clear from this definition that    i  algebra morphisms are a particular case of algebra quasi morphisms  identifying every element b of B with the interval  b b   Moreover  a quasi morphism f is a morphism if  and only if  f Am  c Bm   ii  algebra morphisms from  A n  T   N    to  l Bm   T    Nz   are also quasi morphisms  Theorem      Let MVLA and MVLB be the multiple valued logics defined on the truth values algebras A         MORPHISMS OF TRUTH VALUES ALGEBRAS  In this subsection we tum our attention to the problem of relating truth values algebras by means of order preserving mappings which are algebra morphisms  and some necessary and or sufficient conditions for their existence are given  Although there can exist algebra morphisms which are not order preserving  for cognitive and logical reasons it seems reasonable to require this condition  Therefore  as long as we are only interested in order preserving mappings  from now on  and for the sake of simplicity  we will use the term morphisms as an abbreviation of order preserving morphism with f O     We begin with some well known results on negation operators  For each chain A   there exists only one negation N and it is defined by N ai    an i   Then every chain A  can be partitioned in three subsets    the set of negative elements Nn   xI x   N x     the set of fixed elements  Fn  xI x N x         the set of positive elements Pn  xI x   N x              Agusti Cullell  Esteva  Garda  God   and Sierra  being these subsets  F n    ak    Nn     ai I kk    P n     ai I i k    if n   k    and  F n     Nn     ai I kk  and     ai I ik    if n  k  The following equalities also hold  N Nn    Pn  N  F n     F n and N Pn   Nn   Pn  Proposition      Given two chains An and Bm   a mapping f  An     Bm is a morphism with respect to the negation operator if  and only if  the following conditions hold    f Nn is an order preserving mapping from Nn to  Nmu  m such that f O      f   n  F m    f ai belongs to Pn J ai    N  j an i      where N   is the negation associated to Bm        From this proposition it is easy to show that    If n is odd then  in order to be f a morphism  m must be also odd  as long as f  F n     F m        In the case of being n even or both n and m odd  every mapping ft  Nn     Nmu F m defines a negation morphism in the following way  if a i E N n f   ai       if a r E  F  n and  F  m    br   f ai   br   N  f   N ai     if a i E P n and reciprocally  every negation morphism  is defined by the mapping f    fiN n  We follow now with two propositions about how  and  operations can defined in order to have algebra morphisms  Proposition      Let  An   N  T   be a truth values  algebra and let Bm a chain containing An such that the negation N  associated to B fulfils N jAn   N  i e  if ai   bj then N  ai  bm j   Then there exists at least an  and  operation T  on Bm such that An  N  T  is a subalgebra of  Bm   N    T        Proof It can be easily checked that the mapping T  defined as  T p  q    if p     and q       T   p q  If q     p  q  if p     where p   max  x E An I x  S p    is an  and  operation on Bm   and that it also verifies T IAnxAn  T          Proposition      Let  An   T  N  be a truth values algebra and letf  An     Bm be a negation morphism  Then there exists an  and  operation T  on Bm such that f is an algebra morphism if  and only if  f is compatible with T  that is  for all a b c d E An fa      f  b  andf c    f d  imply f T  a c   f T b d       Proof  Obviously  if f is an algebra morphism it is compatible with T  On the other hand  if f is compatible with T  the relation  f defined as a  f b ifbEF f a    f b  is a congruence relation on An  Let   A nl f   Tf  Nf  be the quotient algebra  Therefore  identifying An  f with  f An   f will be a morphism from  An   T  N  to   f An   Tf  Nf   By proposition     there exists T  on Bm such that   f An   T f  Nf  is a subalgebra of  Bm   T   N    where N  is the negation associated to Bm   Now  taking into account the above results  it is interesting to point out some considerations about the problem of algebra morphism generation  In the following A will stand for a truth values algebra  An   T  N  and Bm for a chain of m elements     If n is odd and m even  there is no possible morphism between A and B  being B any truth values algebra defined on Bm  Then  this case will not be considered any more     In order to define a morphism f  An     Bm with respect to the negation operator we only need to take any mapping fi  Nn     N m u F  m with f        and to extend it in the way above indicated        The generation of possible operations T  on Bm   together with renaming mappings f from An to Bm such that f   An  T  N       B m   T   N   are morphisms  is a process that can be automated without difficulties  The problem reduces to    first  to generate all mappings f from all order  preserving mappings f   N n     N mu F m with f           second  to check which ones are compatible with T    and third  to generate all algebras B m containing f Am  as subalgebra  This method will provide us with a family of suitable algebras  Bm  T   N   for each mapping f      Nevertheless  in general  it can be the case that the set of possible solutions would be empty  As an example  consider the algebra  A   T N   where A    O al az l   and the  and  operation T is the one given in figure         J   a  az       a   az                    a       al az    a  az    Figure     And  operation in a chain of four elements It is easy to check that there exists no renaming mapping from A  to B  such that a morphism between  A  T N  and  B   T   N   can be defined for any  and  operation T   Let B     O b l   and thus N          F     b   and P       It is clear that if f      a        O b  is order preserving and f            then there are only two possibilities     f  a        and then the mapping f  A     B  is defined by f O    f a    and f az    f         but f is not compatible with T  because f az    f l  but f T az az            f T az        Combining Multiple valued Logics in a Modular Expert Systems      f  a    b  and then the mapping f  A      B  is defined by f O     f al    f az     b  and f         but again f is not compatible with T  because f al   f az  but     b f T az az    f T a  a               QUASI MO RPHISMS OF TRUTH VALUES ALGEBRAS  As we have seen in last section  given any truth values algebras A and B  it is not always possible to find a morphism between them  However  this is not the case of quasi morphisms because of the additional freedom of mapping  or renaming  a truth value of A to an interval of B  This point is proved in the following proposition  Proposition      Let A    An  TJ  NJ  and B  Bm  Tz  Nz  be two truth values algebras  Let C   Cko T   N   be an algebra that can be imbedded in both A and B  and let h  and hz their corresponding monomorphisms  Then there exists at least one quasi morphism f from A to B such that f hz c   hz c   for a   c E Ck     Figure     And  operations in chains of five and seven elements  It can be checked that there is no morphism from A to B  On the other hand C    C   T    N    being C     b l  and T  x y    min x y   is the maximal subalgebra that can be imbedded into A and B  and the monomorphisms h  and h  are defined by  hz O  o h       o hz b  b  h  b  a  h       hz  O    respectively  The above proposition     assures that the mapping f  As   I B   defined by  f O    f ai   O b   f az  b  f a      b  l  f l    is a quasi morphism from A to B                 Proof  First of all  notice that given A and B there always exists the algebra C  because at least the algebra of booleans satisfies the required condition for any pair of truth values algebras  So  let h  and h z be the corresponding monomorphisms from C to A and B respectively  and consider the mapping f  A n     l Bm   defined by  f x      h  Cx    h  Cx   l where ex  max c of Ck   h l  c  x  and ex   min   c of Ck   h   c   x    Straightforward computation shows that the required properties for f to be a quasi morphism hold  As an example  let s consider the algebras A     As  T  N  and B    B   T   N    where the  and  operations T and T  are given in figure   respectively      a   a   a        a  az a                    a  a  a     a  az az az    a  az a  a     a  az a      LJ     bl  b   b   bs       br         bl  bz   bj    bj    bj    bl    bj  bz b  b  bs             bj bl bj bj br  bz bz bz bz bz  bz b  b  b  b   bz b  b  b  b   bz b  b  bs bs  bz b  b  bs    lJ             P R AGMATICS OF INFERENCE PRESERVING MAPPINGS  In the previous sections we have seen that when two modules  that use different multiple valued logical languages  need to communicate  an inference preserving mapping between their logics has to be defined  The process of defining these mappings could be supported by an interactive algorithm based on the notion of morphism and quasi morphism between truth values algebras  This process could be as follows  Initially the expert determines a MV  logic for each module  giving the set of truth values and the  and  truth table  and proposes as many as needed renaming functions between different truth values sets  Then  for each pair of modules having different MV  logics  the interactive algorithm will take their truth values algebras and the renaming between them and check if the initial renaming is an algebra quasi morphism  If not  the algorithm presents to the expert the set of possible modifications of the renaming function  each one being a morphism or a quasi morphism  The expert may then select the one that fits better his aims  If no selection is made  possible modifications of the  and  truth table are suggested  keeping the initial renaming function  Finally  if there has not been any solution  possible modifications of both renaming and truth table are suggested  Next  we give an scheme of the algorithm in a Pascal like style  The notation used is the one of the previous sections  Quasi morphism generator  A n  T   Bm  T    f     An and Bm are the truth values sets    T and T  are the  and  connectives   and f is a renaming from An to I Bm       Renaming checking if quasi morphism  A  B  f    A   An  T  and B  Bm  T     This predicate is implicitly defined             Agusti Cullell  Esteva  Garda  God   and Sierra    in the previous sections  Then Return  A  B  f    If the renaming given by the expert   determines a quasi morphism we return   it       Renaming generation R      f  An   I Bm  I quasi morphism  A  B   f      R is the set of all acceptable   renaming functions   The way they are computed is described   below   print R   if select r    r E R is selected by the expert then return  A  B  r        And  truth tables generation C       T  IT  is an  and  operation on Bm and  quasi morphism  A   Bm   T    print C  if select c   f     on Bm such that f be a quasi morphism  The method for finding  and  operations is the following      If f is not a negation morphism  it returns the empty set     Find all  and  operations T  on Bm      Check if f is a quasi morphism  Remarks  A general algorithm for finding truth values algebras over a partially ordered set of n elements is given in  Godo and Meseguer          d  Renaming and truth table generation  Let A be a truth value algebra and let B m be a chain of m elements  Renaming and truth table generation is a  function that  given An and Bm  returns pairs  T  f   where T  is an  and  operation on Bm and f is a quasi morphism from A to  I Bm  T   N     In this case  the method for  finding pairs  T   f  is the following one      Define N   on I Bm       Define all the possible functions f  as in the case of renaming generation     For every f   define the negation morphisms as in the case of renaming generation     Find all  and  operations T  on Bm     Check if f is a quasi morphism     c E C is selected by the expert then return  A   Bm  c   f       Renaming and  and  truth table generation RC      f  T   If  An   I Bm  and quasi morphism  A   Bm  T    f     Final remarks   print RC  if select  x  y       x y  E RC is selected by the expert then return  A   Bm   y   x  else return nil  In the following a constructive description of predicates and functions used in the algorithm is given   a  Renaming checking  It is only a checking predicate  It checks if a given function  renaming  is a quasi morphism from A to B  where A and B are two given algebras  b  Renaming generation  Let A and B be two truth values algebras  Renaming generation is a predicate that  returns all possible quasi morphisms from the truth values algebra A to the interval algebra I B   The method to find these quasi morphisms is the following     Define the operations T   and N   on I B       Define mappings f     N u  f  such that f        f   x  I  f   y          f    f         N  u f      f     and x    y implies           For every f   define the negation morphism f by  f x      f  X    if X E N u   f   N   f  N x     if x E  P   Check if f is a quasi morphism  Remarks  The solutions  if any  contain as a particular case all the possible morphisms from A to B  By proposition      for every pair of algebras A and B  the renaming generation set  A B  is not empty     c   And  truth table generation  Let A be a truth value algebra  let B m be a chain of m elements and let f be a renaming function from A n to I Bm     And  truth table generation is a predicate that returns  and  operations      All these methods can be automated      Some of the functions can return the empty set   see examples of subsections      and          An order of preference on the sets R  C and RC should be given  There are many possibilities to do this  For example  several distances with respect to the initial renaming and truth table operation can be defined on the above sets to obtain preference orderings  It seems reasonable that in all cases algebra morphisms should be preferred to algebra quasi morphisms      The complexity of the algorithm is exponential in the number of truth values  However  two factors make acceptable the execution time of the algorithm   i  the number of different uncertainty linguistic terms used by an expert is usually not greater then nine  Miller         and  ii  the strong conditions required to  and  operations  see section    restrict the combinatorial explosion in the generation of such operations       CONC LUSIONS A N D FUTURE WORK  In this paper  the problem of communicating tasks with different uncertainty calculi has been introduced in a very general framework  This problem arises when dealing with large knowledge based systems in which a better modelling of reasoning for different tasks requires working together with different uncertainty reasoning systems In the framework of rule based expert systems  this problem has been analyzed in detail in the particular case in which different MY logics are used to model the management of uncertainty in different tasks  Necessary and or sufficient conditions for the correspondence mappings between them to be inference preserving have been given  Also an interactive algorithm to define such mappings has been   Combining Multiple valued Logics in a Modular Expert Systems  proposed to assist the human expert in relating tasks or modules by inference preserving correspondences  However the general problem of communicating different uncertainty reasoning systems is very complex  and further research is needed as much in the field of distributed knowledge based systems as in the case of considering more complex models of uncertainty reasoning systems  Acknowledgements This research has been partially supported by the CICYT id    j    project SPES  and by the ESPRIT II Basic Research Action DRUMS  
  In this paper we present a propositional logic programming language for reasoning under possibilistic uncertainty and represent ing vague knowledge  Formulas are repre sented by pairs  ip  a   where ip is a many valued proposition and a E        is a lower bound on the belief on ip in terms of necessity measures  Belief states are modeled by pos sibility distributions on the set of all many valued interpretations  In this framework   i  we define a syntax and a semantics of the gen eral underlying uncertainty logic   ii  we pro vide a modus ponens style calculus for a sub language of Horn rules and we prove that it is complete for determining the maximum de gree of possibilistic belief with which a fuzzy propositional variable can be entailed from a set of formulas  and finally   iii  we show how the computation of a partial matching be tween fuzzy propositional variables  in terms of necessity measures for fuzzy sets  can be included in our logic programming system     INTRODUCTION  Logic programming languages have been applied to a wide range of areas such as Artificial Intelligence or Deductive Databases  Among these languages  Prolog is the most representative but it is not powerful enough for reasoning and representing knowledge in situations where there is vague  incomplete or imprecise informa tion  To overcome this problem  new logic program ming languages have been developed  They are based on a variety of non standard logics such as multiple valued logics  Ishizuka and Kanai        Mukaidono et al         Li and Liu        Alsinet and Manya        Vojtas         possibilistic logic  Dubois et al          probabilistic logic  Heinsohn        Lukasiewicz         evidential logic  Baldwin        Baldwin et al         or fuzzy operator logic  Weigert et al          Depending on the underlying logic some systems are more suit able for dealing with vague knowledge  while others  Lluis Godo AI Research Inst   IliA  CSIC       Bellaterra  Spain godo iiia csic es  are more appropriate for reasoning under incomplete or imprecise knowledge  Although all of the fuzzy ex tensions of logic programming implement proof proce dures for fuzzy reasoning  only some of them allow to represent ill known information in the language  Our first objective in this paper is to define a proposi tional logic programming language for reasoning under possibilistic uncertainty and representing vague knowl edge  We represent formulas by pairs  ip  a   ip being a many valued proposition built on fuzzy propositional variables and a E        being a lower bound on the belief on ip in terms of necessity measures  On the one hand  fuzzy propositional variables pro vide us a suitable representation model in situations where there is vague  incomplete or imprecise infor mation about the real world  For instance  the fuzzy statement  Peter is abouL   years old  can be nicely represented by the fuzzy proposition P eter  is about   defined over the finite domain years old  In the case abouL   denotes a crisp interval of ages  the above proposition can be interpreted as   x E about   such that Peter is x years old   In the case abouL   denotes a fuzzy interval with a membership function   Labout     the above proposition can be interpreted in possibilis tic terms as   x E  P abouL   a such that Peter is x years old is certain with a necessity of at least    a  for each a E         where    LabouL    a denotes the a cut of   Labout     So  fuzzy propositions can be seen as  flexible  restrictions on an existential quantifier  see  Dubois et al           On the other hand  since we want to deal with fuzzy propositional variables in the language  the truth eval uation of formulas cannot be Boolean but many valued  and thus  our possibilistic logic programming language should be based on a many valued logic as in  Alsinet et al          Moreover  like in classi cal propositional logic programming systems  the lan guage should enable us to define an efficient proof method based on a complete calculus for determin ing the maximum degree of possibilistic belief with which a fuzzy propositional variable can be entailed from a set of formulas  To this end  first we define a general possibilistic logic based on the propositional      UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS       Godel fuzzy logic and then  we focus our attention on the possibilistic language that results from considering the Horn rule sublogic of Godel fuzzy logic  The reason for choosing Godel logic as the underlying many valued logic where to model fuzziness is two fold  first  truth functions of Godel logic are purely ordinal  that is  they are definable just from the ordering of the truth scale  see next section   no further algebraic op erations are required  and thus the use of this logic is in accordance with the simplest understanding  in terms of an ordering  of what a fuzzy  gradual property can be  and second  and non negligible at all  Godel logic has been proved to be fully compatible with an already proposed and suitable extension of necessity measures for fuzzy events  in the sense that Godel logic will al low to define a well behaved and featured possibilistic semantics on top of it  see Sections   and     Our second objective is to extend the possibilistic logic programming language with a partial matching mech anism between fuzzy propositional variables based on a necessity like measure  As we have recently proved in  Alsinet and Godo      b   this extension preserves completeness for a particular class of formulas  In our opinion  this is a key feature that justifies by itself the interest of such a logic programming system  The paper is organized as follows  In Section    we present the syntax and the many valued semantics of the language of propositional Godel fuzzy logic  In Section   we extend the language to allow possibilistic reasoning  In Section   we describe the uncertainty sublogic that our proof method can deal with and we prove that it is complete for determining the maximum degree of possibilistic entailment of fuzzy propositional variables  In Section    we show how the proof method can be extended to allow a semantical matching be tween fuzzy propositional variables  And  finally  in the last section we discuss some related work  Be cause of the lengthy proofs  proofs of propositions can be found in  Alsinet and Godo      a      MANY VALUED SEMANTICS  GODEL LOGIC  Following  Hajek          the language of propositional Godel fuzzy logic  denoted hereafter G  is built in the usual way from a  countable  set of propositional vari ables  a conjunction A  an implication tand the truth constant    Further connectives are defined as follows   p V  ljJ is    p  t If   t If         If  t p  t p   p is  p t   p   lj  is   p t lj  l       t p  The semantics of G is given by interpretations I of the propositional variables into the real unit interval        which are extended to arbitrary formulas by means of the following rules  I O         I  pi    J  I  p  t lj       min I  p   I  If       if I  p   I  lj   I  ljJ   otherwise  For the derived connectives the truth interpretations take these forms        max I  p   I  If       if I  p       otherwise       if I  p  I  lj   min I  p   I  lj     otherwise    The following is an axiomatization  of G   A    A    A    A    AS   A    A    A      p t   J  t     J tx   t   p tx     pl  lj   t p   p     If   t   If      p    p      p t If    t   If       If  t p     p  t    J  t x        p A    J  tx     p t   J  tx  t      J t p  tx  tx    t p  p t p     p The deduction rule of G is modus ponens  The no tion of proof is as usual  Completeness for G reads as follows   p is provable in G  written f a  p  iff I  p      for any interpretation I  Furthermore  G enjoys strong completeness as well  Namely  let T be an arbitrary theory over G  i e  just a set of formulas  An inter pretation I is a model ofT iff I  If     for all  ljJ ET  Then  T proves  p  written T f   p  iff I  p    for any interpretation I which is a model ofT           GENERAL POSSIBILISTIC  REASONING OV ER GODEL  LOGIC  We have seen that fuzzy propositional variables are suitable for representing imprecise information as in the statement  Peter is abouL   years old   Now  we are interested in extending the fuzzy propositional language to allow fuzzy reasoning under uncertainty which leads us to a more expressive language  For in stance  the statement  it is almost sure that Peter is abouL   years old  is represented in this setting by a certainty weighted fuzzy proposition  Peter  is about           where the certainty value     expresses how much is believed the fuzzy statement  Peter is abouL   years old  in terms of necessity measures  In general  certainty weights are employed to model statements of the form   p is a certain   where  p repre sents vague  incomplete or imprecise knowledge about the real world  In this framework  this is formalized   Actually  logic G is equivalent to the extension of lntu itionistic logic with the pre linearity axiom    p  t   J  V     J  t   p     UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS       as  rp is certain with a necessity of at least a  and is represented through a certainty weighted Godel logic formula  rp a   Within the possibilistic model of uncertainty  belief states are modeled by normalized possibility distribu tions  r   I          on a set of interpretations I  In the standard possibilistic logic  the uncertainty about whether a  Boolean  formula holds true or not is esti mated by the necessity measure N  rp l r      inf    r I  I IE I  I r p        However  in our framework and according to the pre vious subsection  the truth evaluation of a formula r p in each interpretation I is a value I r p  E         There fore  each formula does not induce a crisp set of inter pretations  but a fuzzy set of interpretations  rp   defin ing JL  P   I   I r p   for each interpretation I  Hence  to measure the uncertainty induced on a formula by a possibility distribution on the set of interpretations I we have to consider some extension of the notion of necessity measure for fuzzy sets  in particular for fuzzy sets of interpretations  In  Dubois and Prade        the authors propose to define N  rp  l  r   inf  r I      JL  PJ I   lEI where JL  PJ I   I r p  E       and      is the reciprocal of Godel s many valued implication  which is defined as x     y    if x  S y and x     y    x  otherwise     The following remarks are worth noticing  The first one is that this definition is indeed an extension of the classical definition  in the sense that we recover it whenever  rp  is a crisp set  The second one is that with this definition  the condition N  rp  I  r     a is equivalent to  r I   S max    a JL  P   I   for every I E I  analogously to the crisp case as well  And the third one is that the equivalence N  rp  l r     iff  r  S JL   J is also an interesting consequence  It is not difficult to see that this kind of necessity measures on fuzzy sets is characterized by the following set of axioms  N  N  N  N   N D      N       N A n B   min N A  N B     N niEIAi   inf iEI N Ai    if A is crisp     if    a  S N A    then N A U a    N  A   otherw se        Definition    Possibilistic satisfaction and en tailment  A possibilistic model  r   I           sat  isfies a weighted formula  rp a   written  r I   rp a     iff N  rp  I  r     a  Now let r be a set of weighted formulas  We say that r entails a weighted formula  rp a   written r I   rp a   iff every possibilistic model satisfying all the weighted formulas in r also satisfies   rp a    We propose now a Hilbert style axiomatization  of this logic  axioms of PGL  for Possibilistic Godel logic  are Godel logic axioms weighted by   plus the triviality axiom  rp     and PGL inference rules are   Generalized modus ponens    rp      J a   r p       l   min a      Weakening    rp a   if f   a   r p      Then the notion of proof in PGL is as usual and it will be denoted as f PG  The soundness of this axiomatic system is given in the next theorem  Theorem   PGL is sound with respect the possibilis tic entailment  i e  iff f  PG  rp a  then f F  rp a     Proof  Soundness of the axioms and the weakening rule is straightforward  thus we only prove the sound ness of the modus ponens rule  This reduces to check  for all possibilistic distribution  r on I  that if N  r p      J  I r     a and N  rp  l  r         then N   l J  I  r     min a      The two conditions amount to  for each interpretation I E I   r I       I r p       J     a and  r I       I rp         Thus  r I       min I rp        J  I r p        min a      But  by Godel semantics  min I rp        J  I r p     min I  l    I r p    S I  lf    Therefore  we have that  r I       I  lf      min a     for each interpretation IE I  and thus  N    l J  I  r     D min a       Unfortunately we have not been able so far to prove whether PGL is complete or incomplete  So it remains as an open question to be solved in the near future     A POSSIBILISTIC LOGIC  PROGRAMMING LANGUAGE  Definition    Possibilistic model  Let I be the set  In the previous section we have defined PGL  a general possibilistic logic over the many valued Godel logic  Our aim in this section is  as in classical propositional logic programming systems  to define a sublanguage  of  many valued  Godel interpretations over a given language  A possibilistic model is a normalized possi bility distribution r   I          on the set of interpre tations I    Dubois et a        c   here we have just replaced the ax ioms of classical propositional logic with those of many valued Godel logic   Now let us go into formal definitions    Notice the analogy with the classical Possibilistic logic      UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS       for logic programming which would enable us to de sign an efficient proof algorithm  based on a complete calculus for computing the maximum degree of pos sibilistic entailment of a propositional variable  called goal  from a set of weighted formulas  To this end  we restrict ourselves to a Horn rule sub language of the logic G  i e  to formulas of the form     Pk    q P     with k       where p           Pk   q are propositional vari ables  in the traditional logic programming style  As usual  we shall refer to the conclusion q and the set of premises p           Pk as the head and the body  respec tively  We distinguish between two types of formulas in this sublanguage  fact when k      empty body  and are simply written q  and rule  otherwise       Definition    PGL clause  A PGL clause is a pair of the form  P a   where P is either a fact or a rule and a E        is a lower bound on the belief on P in  terms of necessity measures   For PGL clauses we shall develop a simple and efficient calculus which will not need the whole logical appara tus of PGL of the previous section  But before we need to introduce some extra definitions and results  Definition    Maximum degree of possibilistic entailment  The maximum degree of possibilistic en  tailment of a goal q from a set of PGL clauses P  de noted by llqiiP   is the greatest lower bound a E       on the belief on q such that P f   q  a   Thus  llqiiP  sup  a E         P f   q  a      Theorem   The maximum degree of possibilistic en  Axiom   P     Generalized modus ponens      Pk    q   Y   Pl     Pl           pk   f k     q  min   Y              k               Obviously  the axiom is a valid PGL clause and the in ference rule is sound as already proved in the previous section  Definition    Degree of deduction  A goal q is deduced with a degree of deduction a from a set of PGL clauses P  denoted by P f    q  a   iff there exists a finite sequence of PGL clauses C        Cm such that Cm    q  a  and  for each i E             m   it holds that Ci E P  Ci is an instance of the axiom or Ci is ob  tained by applying the above inference rule to previous clauses in the sequence   Next  we define the syntactic counterpart of maximum degree of possibilistic entailment     Maximum degree of deduction  The maximum degree of deduction of a goal q from a set of PGL clauses P  denoted lqlp  is the greatest a E       such that P f    q  a    Definition  As the only inference rule of our proof method is the generalized modus ponens  within the framework of logic programming in which P is always a finite set of PGL clauses  there exists a finite number of proofs of a goal q from P  and thus  the above definition turns into lqlp  max a E         P f    q  a     tailment of a goal q from a set of PGL clauses P is the least necessity evaluation of q given by the models of P  Thus  llqiiP inf N   q  l  r   l r f  P    The following propositions are needed to prove com pleteness   Proof  We define a    sup a E       I P f   q  a   and az  inf  N  q  l r  l r f  P    Proposition     az    a   As a    sup a E       I P f   q  a   we have that P f   q  a   for all a   a   Then  for every model r of P we have that N  q  l r     a for all a   a   Thus  az   inf   N   q  l r  l r f  P     a  for all a   a   hence  az    a   az     a   As az   inf N  q  l r  l r f  P  we have that N  q  l r     a  for all model r of P  that is P f   q  az   and thus  az     sup a E         P f   q  a    a     Corollary   Let P be a of PGL clauses and let s be a propositional variable  Then  P f   s  l l sl l p    To provide our possibilistic logic programming lan guage with a complete calculus for determining the maximum degree of possibilistic entailment we only need the triviality axiom and a particular instance of the generalized modus ponens rule introduced in the previous section     If the only formulas in P with head q are recursive   then llqiiP  lqlp       Proposition   Let  p       and  p  clauses such that p    q  min      Y     t q   Y  be two PGL Then  llqll  p       p  q  y        Let P be a set of PGL clauses and let  r  t q   Y  be a clause of P  If llqiiP   llqiiP   r  q  y    then llqiiP   llqll  r   r   r  q  y    where ar   llriiP  Proposition  Proposition   Let P be a set of PGL clauses and let  q  t p  f  be a clause of P  It holds that llq llp   llqiiP   q tp  y     Theorem    Completeness  Let P be a set of PGL clauses and let q be a goal  Then  llqiiP  lqlp   Proof  By the soundness of the modus ponens infer ence rule  we have llqiiP    l ql p  Therefore  we must  A  with  recursive formula is of the form Pl         k       pk    q   q   UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS       prove llqiiP      lqlp and we proceed by induction on n  where n is the number of clauses of P   If llqiiP   llqiiP   by Proposition    llqiiP   llqll  p  ap   p   q      where a p    IIPIIP  and  by Proposition    llqll  p  ap   p   q       min ap   f   Now by Proposition    IIPIIP  IIPIIP  and by the induction hypothesis IIPIIP       IPIP  Since IPIP       IPIP and  p    q    f E P applying the modus po nens inference rule  we get P f    q  min IPIP   f   with min IPIP   f    min  ap    f   Then  lqlp   max a E         P f    q  a     min IPIP   f   and thus  lqlp   min a p   Y   llqiiP D  If n    then it must be that P contains only either one certainty weighted fact or rule  We assume that q occurs in P as the head of a non recursive formula  otherwise by Proposition    we have llqiiP  lqlp     Suppose that P contains only the certainty weighted fact  q        Let I  and h be two interpretations such that Io q           and ft q       Now  let  r be a possibility distribution with the following definition   r I           if I  I       f  if I  Io    otherwise  It is easy to check that  r f   q   f  and N  q I  r    f Then  by Theorem    we have llqiiP  inf N  qJI  r   I  r f   q             Y Now  lqlp  max a E       I  q      f    q a         and thus  llqiiP     lqlp   Suppose that P contains only the certainty weighted rule  r     q   Y   Let I  be an interpretation such that I   r       I   q      and let  r be a possibility distribution with the following definition   r  I           if I   I     otherwise     In the particular case that we do not allow recursive formulas in the language  the underlying uncertainty logic of our logic programming system is syntactical equivalent to the family of infinitely valued proposi tional logics the interpreter defined in  Escalada Imaz and Manya        can deal with  The interpreter is based on a backward proof algorithm for computing the maximum degree of deduction of a propositional variable from a set of formulas whose worst case time complexity is linear in the total number of occurrences of propositional variables in the set of formulas  We show bellow an example of PGL clauses the interpreter can deal with  Example   The maximum degree of deduction of the  It is easy to check that r f   r     q    f  and N  qJI  r     Then  by Theorem    we have llqllp  inf   N    q l  r   l r f   r    q             and thus llqiiP     lqlp    goal friend Mary J ohn from the set of clauses     Suppose now that for any set P  that contains n clauses it holds that llsiiP       lsiP  for any propositional vari able s  and suppose that P contains n     clauses  Since we are assuming that q occurs in P as the head of a non recursive formula  let    p   f  be a clause of P such that   p is a non recursive formula with head q and          for any clause    ljJ     of P such that  ljJ is a non recursive formula with head q  We distinguish two cases  Case     p   Y    q        Let I  and h be two interpreta tions such that I  q           and Io p      for any propositional variable p  J  q  and h   s     for any propositional variable s  Now let  r be a  possibility distribution with the following defini tion     if I  I   r I         f  if I  Io otherwise    Since         for any non recursive clause     J    of P such that q is the head of  ljJ  we have that r f  P and N  q l r    Y Therefore by Theorem    we have llqiiP  inf N  qJ I  r  I  r f  P        Y Now  lqlp  max a E        I P f    q a           and thus  llqiiP      lqlp       Case    p   f     p    q       If we define P   P   p    q        we have that llqiiP   llqiiP  If llqiiP  llqiiP   by the induction hypothesis  we have that llqiiP      lqiP   and thus llqiiP      lqiP  P    Mary i s young         John is young         Mary is young    John is young    friend Mary John          is     which corresponds with the deduction degree comp uted by the interp reter when taking as triangular norm the min  conjunction function and as imp lication Godel s many valued imp lication function     ADDING FUZZY UNIFICATION  Our aim is to extend the calculus of our possibilistic language to allow a semantical matching between fuzzy propositional variables based on a necessity evaluation of fuzzy events  For instance  given the set of PGL clauses P    Mary is young         John is aboutr          Mary is young    John is young    friend Mary John          where John is young and John is about   are two fuzzy propositional variables the maximum degree of deduction of the goal friend Mary John from P is   unless we be able to compute the necessity evaluation of the propositional variable John is young from the fact that the propositional variable John is about   is certain with a necessity of at lest      To tackle the fuzzy unification problem within our pos sibilistic framework we are lead  i  to fix a domain and an interpretation of fuzzy propositional variables      UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS       in terms of its membership functions  otherwise we would not be able to identify when two propositional variables A and B are related and  furthermore  we would not be able to reason about the certainty of the propositional variable B from the fact that the domain related propositional variable A is certain with a necessity of at least o   and  ii  to define some mea sure to compute the necessity evaluation of a fuzzy propositional variable B based on a domain related fuzzy propositional variable A       PROPOSITIONAL VARIABLES WITH FINITE DOMAINS  With respect the underlying uncertainty logic de scribed in Section    the main difference is that now we attach propositional variables with a sort  In doing so  we are introducing a minor change in the seman tics  Many valued interpretations should map a sort into a non empty domain and a propositional variable into a value of its domain  and thus  in turn we need to provide a new notion of interpretation  A more rigorous approach should be to define a first order language with typed regular predicates and sorted fuzzy constants  cf   Alsinet et al          which would allow us to represent  for instance  the fuzzy statement  Mary is young  as age M ary  young   However  since variables and function symbols are not allowed in the language  fuzzy propositional variables give us a more simple representation model without lost of expressiveness  Definition    Extended many valued interpre tation  An interpretation I   U  i  m  maps     each sort  a  into a non empty domain U       all propositional variables p of sort  value i p  E U   and     a propositional variable p of sort  malized  fuzzy set m p   U     t  a  a           into a same into a  nor  Notice that an interpretation I    U  i  m  is disjunc tive in the sense that i p  is a unique value of the domain U  for any propositional variable p of sort a  and i p       i p   iff p and p  are of different sorts  In what follows  we shall denote by J Lm p  the member ship function of m p   The truth value of a proposi tional variable p under an interpretation I   U  i  m   denoted by I p   is computed as I p   J Lm p   i p     fuzzy set m p   Therefore  in order to measure the certainty of a sorted propositional variable in a possi bilistic model we cannot take into account any possible interpretation  but only those which share a common interpretation of propositional variables  and hence which also share their domain  This leads us to de fine the notion of context  cf   Alsinet et al             Context  Let U be a collection of non empty domains and let m be an interpretation of propositional variables over U such that for every propositional variable p there exist u v E U   a being the sort of p  such that J Lm  p   u     and J Lm  p   v     We define the context determined by U and m  denoted by  Iu m   as the set of extended many valued interpre tations having U as domain and m as interpretation of propositional variables  Thus   Definition      Iu m    IE  I I I   U  i  m    where  I denotes the set of all extended many valued interpretations  Remark that given a context  Iu m and a proposi tional variable p  there exist at least two interpreta tions Io l E  Iu m such that Io p     and h  p       Let us briefly discuss the reason for defining the notion of context by means of an example  Example   Let age Mary around   be a proposi  tional variable of sort Mary years old and let Io  U  i  mo  and h    U  i  m   be two interpretations such that      UMary years old            years       i age Mary around             mo age Mary aroundlg                     trape zoidal fuzzy set   and    m   age M ary around                        Although the age of Mary is the same value in both interpretations  we have a different truth value in each interpretation depending on the membership function of the fuzzy set assigned to the propositional variable  Thus  Io age Mary aroundlg   J L l   B                and Il age Mary aroundlg   J L l          J          Then  for instance  the possibility distributions  r that satisfy the PGL clause  age Mary around g      These truth evaluations extend to rules in the usual way by using the truth functions described in Sec tion     are those such that  r I      and r h       and thus  Io can be fully plausible while h is inadmissible  how ever  Mary is twenty years old in both interpretations   Remark that the truth value of a propositional vari able p under an interpretation I    U  i  m  depends not only on the value i p  assigned to p  but on the    We represent a trapezoidal fuzzy set as  t   tz  t   t    where the interval  h  t   is the support and the interval  tz  t   is the core    UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS       Therefore  when fixing a particular context we are en suring that belief states modeled by normalized possi bility distributions on a set of possible interpretations  or possible states  are consistent  in the sense that possible states are sharing a common view of the real world  Finally  the notion of possibilistic satisfaction can be easily extended in a particular context Iu m in the fol lowing way  Given a context Iu m  the models of a set of PGL clauses P are the normalized possibility distributions on the set of extended many valued in terpretations Iu m that satisfy all the clauses in P       EXTENDED INFERENCE WITH POSSIBILISTIC PATTERN MATCHING  To provide PGL with a semantical matching mecha nism we need a measure for computing the necessity evaluation of the propositional variable B based on the domain related propositional variable A  Further more  this measure should enable us to include new in ference patterns in our previous calculus of Section   in order to keep completeness for determining the maxi mum degree of possibilistic entailment of a goal form a set of PGL clauses in a particular context  Again there are several alternatives  After a careful analysis we have chosen the same type of measure used when defining the possibilistic semantics for PGL  Namely  given a context Iu m  the necessity evaluation of B based on the domain related propositional vari able A is defined as N  m  B  I m A     inf f  Lm A  u     f  Lm B  u   uEU where    is the reciprocal of Godel s many valued im plication  At this point we are ready to extend the calculus to allow a semantical matching of propositional vari ables with finite domains through a possibilistic pat tern matching measure based on a necessity evaluation of fuzzy events  Although there may exist several ap proaches  we have finally decided to extend the calcu lus with three inference rules  Given a context Iu m  these inference rules are defined as follows  Semantical unification    p  a   SU     p   min a      where     N m  p   I m  p    Intersection   Pl  a    p        I N    p  min a      if f  Lm p       min f  Lm p    f  Lm p    Resolving Uncertainty   p  a   U N    p      if f  Lm p        max    a f  Lm p       Theorem   The SU  IN and UN inference rules are  sound in a context Iu m with respect to the possibilistic entailment of PGL clauses   Proof  Soundness of the IN and UN rules is straight forward  thus we only prove the soundness of the SU rule  We must prove that for all possibilistic distri bution  r   Iu m            if  r I   p  a  then  r I   p  min a       where    N  m  p   I m p    Assume that  r I   p  a   This means that  N   P  I  r       a  and thus   r I     I p      a  for all interpretation IE Iu m Then  we have the following consecutive inequalities         r J       f  Lm p  i  p     a     min  r I     f  Lm p  i  p    f  Lm p  i  p        Lm p   i  p         min a f  Lm p  i  p      f  Lm p   i  p     J  lm p  i  p    i     f  Lm p  p        Lm p   i  p       I   r    f  Lm p   i   p        min  r I           r I     f  Lm p   i  p        min a f  Lm p  i  p      f  Lm p   i  p        inflEiu m  r J      f  Lm p   i  p        infiEiu m min  a f  Lm p  i  p      f  Lm p   i  p         inflEiu m  r I     f  Lm p   i  p         min a infiEiu m f  Lm p  i  p      f  Lm p   i  p        N   p   l r      min a infuEU f  Lm p  u     f  Lm p   u      N   p    l r       min a  N  m  p    I m  p    Thus   r I   p    min  a   N  m  p   I m  p     as well   D  Moreover  for a given a context Iu m  the modus ponens style calculus extended with the SU  IN and UN inference rules is complete for determining the maximum degree of possibilistic entailment of a goal from a particular class of PGL clauses called well formed and satisfiable PGL programs  The formaliza tion of the notion of well formed and satisfiable PGL program and the proof of completeness for this class of PGL clauses can be found in  Alsinet and Godo      b     Let John is about    John is       and John is       be three propositional variables of sort John year s old  and let Iu m be a context such that  Example    U J ohn years old            yearS      m  John is aboutl                         m  John is                           and    m John is                                 UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS          Now  given the set of PGL clauses   Formato et al         extended the unification algo rithm of Martelli Montanari to allow a partial match ing between crisp constants through similarity rela tions  Finally   Dubois et al         proposed an exten sion of possibilistic logic dealing with fuzzy constants and fuzzily restricted quantifiers  called PLFC   and  Alsinet et al         provided PLFC logic with a for mal semantics and a sound resolution style calculus by refutation   P    John is             John is              we have that N m John is abouh   I m John is                and N m John is aboutl   I m John is              However  each model  r that     Iu m           of P verifies   r I       min J John is         I John is          for all I E Iu m  Therefore  because of the three propositional variables have the same domain  we have that i  John is        i  John is        i John is aboutl     for all IE Iu m Then  because of this particular interpretation m of propositional vari ables         r  I        JLm John is aboutl    i  John is aboutl     for all I E Iu m Hence  P f   John is aboutl          On the other and thus    John is about  IIP hand  applying the IN rule to  John is           and  John is           we deduce  John is  aboutl        and thus   John is abouh  P   John is abouh   P          RELATED WORK  The introduction of fuzzy constants in logic program ming languages was suggested in the early eighties by  Cayrol et al         and  Bel et al         with the aim of including fuzzy values in a pattern matching procedure  Subsequently   Umana        defined a fuzzy pattern matching process using the extension principle for one and two variate functions  and in  Baldwin et al         the authors implemented a se mantic unification procedure based on the theory of mass assignments which allows a unified framework for the treatment of fuzzy and probabilistic data   Godo and Vila        proposed a possibilistic based logic to deal with fuzzy temporal constraints based on many valued semantics and a necessity like measure to allow a pattern matching mechanism between fuzzy tempo ral constraints   Virtanen        defined a fuzzy unifi cation algorithm based on fuzzy equality relations and  Arcelli et al         proposed three different kinds of unification in the fuzzy context  the first one is based on similarity relations  the second one identifies sim ilar objects through an equivalence relation and the last one uses  semantic constraints  for defining a more flexible unification  More recently   Gerla and Sessa        formalized a methodology for transform ing an interpreter for SLD Resolution into an inter preter that computes on abstract values which express similarity properties on the set of predicate and func tion symbols of a classical first order language and  The main differences between this framework and PLFC  Alsinet et al         are  i  at the level of the syntax and semantics of the language   ii  at the level of providing the language with a complete calculus  and  iii  at the level of defining a semantical unifica tion mechanism between fuzzy propositions  In PLFC  formulas are pairs of the form   p x   f  Y    where x and y denote sets of free and implicitly uni versally quantified variables and y    x   p x  is a dis junction of literals with fuzzy constants  and f  Y  is a valid valuation function which expresses the certainty of  p x  in terms of necessity measures  Basically  val uation functions f  Y  are constant values and vari able weights which are not considered in our possibilis tic language  Variable weights  Dubois et al       a      b  are suitable for modeling statements of the form  the more x is A  or x belongs to A   the more certain is p x    where A is a fuzzy set  This is formalized in PLFC as  for all x   p x  is true with a necessity of at least JLA x    and is represented as  p x   A x     When A is imprecise but not fuzzy  the interpretation of such a formula is just  VxE A  p x    So A acts as a  flexi ble if it is fuzzy  restriction on the universal quantifier  On the other hand  fuzzy constants in PLFC can be seen as  flexible  restrictions on an existential quanti fier  In general   L B  is true at least to degree o    is represented in PLFC as  L B   o    where L is either a positive or a negative literal and B is a fuzzy set  For instance  if B is imprecise but not fuzzy   p B   o   and  p B   o   have to be read as   xE B  p x   and   x E B  p x    respectively  Therefore  because of the calculus for PLFC is defined by refutation through a generalized resolution rule be tween positive and negative literals  the unification  in the classical sense  between fuzzy constants is not al lowed  For instance  from s    p A  V    J     and s    p A       which  if A is not fuzzy  are interpreted respectively as    x E A  p x   V  l J  and    x E A  p x     we can infer    J iff A is a precise constant  However  a semantical unification between fuzzy events is per formed through variable weights and fuzzy constants  For instance  from s    p x  V    J  x   A x   and s    p B       which  if A and B are not fuzzy  are interpreted re spectively as   UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS        YxE A  p x  V   J x   and    xE B  p  x        
 This paper investigates the possibility of performing automated reasoning in probabilistic logic when probabilities are expressed by means of linguistic quantifiers  Each linguistic term is expressed as a prescribed interval of proportions  Then instead of propagating numbers  qualitative terms are propagated in accordance with the numerical interpretation of these terms  The quantified syllogism  modelling the chaining of probabilistic rules  is studied in this context  It is shown that a qualitative counterpart of this syllogism makes sense  and is relatively independent of the threshold defining the linguistically meaningful intervals  provided that these threshold values remain in accordance with the intuition  The inference power is less than that of a full fledged probabilistic constraint propagation device but better corresponds to what could be thought of as commonsense probabilistic reasoning     INTRODUCTION  Precise values of probabilities are not always available  Experts often assess probabilities under the form of intervals  e g   between    and      of A s are B s   or even linguistically  e g   almost all A s are B s    or are only able to rank order probability values  stating that a probability is certainly greater than another  Thus it raises the question of the possibility of reasoning with probabilities in a qualitative way  The main appeal of a qualitative approach  when such an approach is feasible   is that it requires less precision than a pure numerical representation while still leading to meaningful conclusions in the reasoning process  Also  the qualitative approach allows us to have a better interface with human users  in a way more compatible with their own reasoning processes  The idea of reasoning qualitatively with probabilities has been investigated along different lines by various researchers in Artificial Intelligence especially in the last five years  A first family of approaches works with inequalities between probabilities  e g Wellman          A second type of approach considers probability like functions which take  Lluis Godo Ramon L pez de Mantaras  Institut d Investigacio en Intelligencia Artificial CEAB CSIC Cami de Santa Barbara       Blanes  Spain  their values in a finite totally ordered set not related to        e g Yang  Beddoes and Poole         Another kind of qualitative probability approach is Adams         conditional logic  see also Pearl         which manipulates infinitesimal probabilities  For the sake of brevity we do not mention other logical approaches to probabilities here  The approach developed in this paper maintains an interpretation of qualitative  linguistic  probability values in terms of numerical intervals  Here  linguistic quantifiers such as most  few  etc     are viewed as imprecisely or fuzzily known conditional probabilities  i e  terms represented by crisp  or in the most general case  fuzzy subintervals of        Zadeh         Dubois and Prade         Here  an ordered set of elementary labels of quantifiers is chosen in order to provide a linguistic scale for conditional probabilities  or proportions  used in default rules like  Q A s are B s   where Q is viewed as the answer to the question    how many A s are B s     A qualitative algebra  Q algebra   Trave Massuyes and Piera        is defined on the set of possible labels  built from the elementary labels forming the scale  Inference rules which are the qualitative counterparts of numerical formulas for computing bounds on probabilities in quantified syllogisms or similar propagation rules  can be proposed for reasoning in qualitative probability networks  The next section discusses how to build a set of linguistic labels to be used in the qualitative probability computations  Section   gives the necessary background about local patterns of inference used to propagate constraints on probabilities known to belong to intervals  Section   defines qualitative versions of these rules of inference  Section   discusses the robustness of the approach  i e  to what extent the qualitative calculus remains unchanged when the numerical interpretation of the linguistic labels is slightly modified  A qualitative analysis of inference rules in Adams  probabilistic logic is given in Section    Section   discusses the problems encountered when trying to develop a qualitative constraint propagation rule based on Bayes theorem  Section   gives an example and shows how the constraint propagation based strategy  recalled in Section    to answer queries about conditional probabilities can be adapted to the qualitative setting    A Sym bo l ic Approach to Reasoning with L in gu is tic Quantifiers     LATTICES OF LABELS  Let us consider an ordered set of elementary labels of linguistic quantifiers that may account for any probability value  Each label corresponds to a subinterval of the unit interval  and the set of labelled subintervals completely covers it  So a linguistic scale will be made of the labels of a collection of subintervals covering       of the form  an   an     an          For         a     at  a            convenience we shall call a  partition  such a collection  although the intervals overlap at their edges  except in   and   which are dealt with separately due to their particular meanings corresponding to  none  and  all    Let fP be a partition of       in subintervals representing quantifiers from a linguistic scale  By convention  both the linguistic scale and the corresponding partition will be denoted fP  It seems reasonable that this linguistic scale should be symmetric with respect to     since the antonym of each linguistic quantifier in the scale should also be in the scale  Linguistic antony my  for instance ANT Almosr none   Almost all or ANT Few    Most  is expressed at the numerical level by relations like ANT  a b          b     a   since intervals are used to represent the meaning of linguistic quantifiers  As a consequence if P A  is the probability of event A  linguistically qualified by X E fP  then P A  the probability of the complementary event A should be ANT X  E fP   The universe of description U induced by a partition fP is defined as the set of intervals that are union of adjacent elements of fP  The set inclusion relationship      provides U with an ordered structure that has a tree representation  For instance  if we take parameters  a  and  b  to be smaller than      then       can be  non strictly  symmetrically partitioned as  Fi Nre      The set of elementary  most specific  linguistic quantifiers can also be ordered according to the usual certainty ordering in the unit interval    None Almost none Few About half Most Almost all  All This ordering enables us to consider higher level elements of the universe U as intervals defined on the partition set  for instance   Few Most     X E fP I Few s  X  S Most  and it is fully compatible with the above numerical interpretation in terms of probability intervals  The semantics of the higher level elements of the universe corresponds to the convex hull of the intervals attached to their edges  For instance  the  numerical  interpretation of  Few Most   i e   From few to most   is the interval  a    a   The certainty ordering can be partially extended to the whole universe U as well  by defining for every  Xt  Y      X   Y   E U  XI  YI        X   Y   if  and only if  Xt s  X  and Y   S Y    iP         O a    a  b    b    b      b     a      a          corresponding to the following linguistic quantifiers        None     a     Almost none  Al none for short   a  b     Few  b    b     About half  Ab half for short       b     a     Most      a        Almost all  Al a   for short       All The set fP constitutes the highest meaningful level of specificity with respect to the language  Between this level and the least specific one  i e  the whole interval          the universe of description U contains several internal ordered levels of specificity  For example  with the seven terms defined above we have five levels in between   see Figure     Specificityorderinl   giving rise to a structure which differs from the previous one  Such a double ordering structure is in accordance with bilattices as discussed in  Ginsberg             LOCAL PROPAGATION OF INTERVAL VALUED PROBABILITIES  In  Amarger  Dubois and Prade      b   a local computation approach which deals with interval valued conditional probabilities is presented  In the approach a basic pattern for local inference is the following so called  quantified syllogism    P BIA E  P   BIA  P  BIA    P AIB E  P  AIB  P  AIB   P CIB e  P  CIB  P  CIB   P BIC  e  P  BIC  P  BIC   P CIA         P AIC                Dubois  Prade  Godo  and Lopez de Mantaras  where P and P  respectively denote lower and upper bounds  and where we want to compute  the tightest  bounds which can be deduced for P CIA  and P AIC   The following bounds have been established in  Dubois and Prade        Dubois  Prade and Toucas        and have been shown to be the tig htes t ones when P BIA   P AIB   P BIC  and P CIB  are precisely known  i e  P BIA    P BIA    P  BIA   etc    and are different from   or        lower bound   P CIA       P BIA  max         l       B         upper bound   P  CIA        min  l     p BIA    P BIA P  CIB  P AIB      P    BIA  P    CIB    P AIB P BIC       P BIC     P    BIA  P AIB  P BIC  Related local patterns of inference for interval valued conditional probabilities have been independently developed by Guntzer  KieBling and TMne         Thane et al       a  and by Heinsohn        in the contexts of deductive data bases and of terminological languages respectively  Wh il e the above lower bound is still optimal when only bounds are known on P BIA   P AIB  and P CIB   Thline  Gilntzer and KieBling      b  have recently pointed out that the above upper bound can be improved when only lower and upper bounds on the probabilities are available in the syllogism  This is basically due to the fact that the third and fourth tenns are linearly increasing with respect to P BIA  while the second term is linearly decreasing in P BIA  if P  CIB    P  AIB   These authors show that the above upper bound becomes optimal provided that we add the following fifth term in the above minimum of four terms     P  CIB     P  AIB    P    CIB    This fifth term is simply obtained by computing the value of P BIA  that makes the second and third term equal  This fifth term does improve the upper bound if and only if P AIB    P  CIB   and moreover the interval  P BIA  P  BIA   contains the quantity  BIC   P  AIB   BIC   AlB    P  CIB          BIC    The local inference approach proposed in Amarger et al       b  also takes advantage of an extended form of Bayes rule expressed in tenns of conditional probabilities only  namely     k    P Ak A   fi  i l  P AjiAi l  P Ai tiAi    with all involved quantities positive   from which useful inequalities are obtained in the case where only lower and upper bounds are available  The constraint propagation method which is used is the following   recursively apply the quantified syllogism to generate upper and lower boWJds of missing probabilities  This step is performed until the probability intervals can no longer be improved  Then recursively apply the extended Bayes rule to improve the bounds thus generated  and continue the whole procedure until no improvement takes place  This constraint propagation method can somet imes give bounds as tight as the best ones computed by a global optimization method based on linear programming  see Amarger et al       b          p    BIA   p    CIB   P    CIB    P   BIC   VA       Ak  P A  Ak   THE QUALITATIVE QUANTIFIED SYLLOGISM COMPUTATION OF THE QUALITATIVE TABLE  In this section we will focus on the qualitative counterpart of the quantified syllogism inference pattern  recalled in the preceding section  We use the following notations  where Qi are linguistic labels  Ql A s are B s  Q  B s are A s Q  C s are B s   Q  B s are C s QS A s are C s  Q  C s are A s This inference rule is interesting from the point of view of commonsense reasoning since it offers a precise model of chaining uncertain  if    then      statements expressed by means of imprecise quantifiers or conditional probabilities  In the following we build the qualitative functions  Q fWictions  corresponding to that pattern  i e  we build a table giving qualitative values for Q  and Q  for any combi na ti on of possible qualitative values for Ql  Q   Q  and Q   The process of building the Q functions is perfonned according to the following steps      Consider a linguistic scale of linguistic quantifiers together with a suitable partition of the unit interval       that represents them  In what follows we will use the partition gp defined above with parameters a        and b        that is            Almost none               Few               About half              Most           Almost all     Consider all possible combinations of these linguistic values for P BIA   P AIB   P BIC  and P CIB      For each of such combinations  compute the lower and upper bounds of P CJA   and P AIC   using the numerical expression of the pattern given in Section   A Symbolic Approach to Reasoning with Linguistic Quantifiers     For example if Q    Most  Q   Almost all  Q    About half  Q    Almost all  then   P  BIA        P  AIB      P  BIC        P  CIB      which gives P  CIA      P  AIC     P  BIA       P AIB        P BIC        P CIB        P CIA        P AIC                These results are then approximated by means of the most specific element of the universe of description U  see Figure    which contains them  So  the interval           for P CIA  is approximated to the larger interval           that is  the resulting Q  is set to  About half  All   In the same way  Q  is approximated to  Few  All  ln this way  we have partially defined the qualitative functions QS and Q   i e  defined as functions Q   Q    fP  X  fP  X  fP  X  fP        U       Finally  the complete definition of the qualitative functions Q   Q    U x U x U x U         U can be easily derived from the above partially defined ones by simply applying them on the upper and lower bounds  which are elements of     of the non elementary elements of U  and then taking the convex hull  For instance  QS  Most  All   All   None  All   Almost all      convex hull of QS Most  All  None  Almost all   Q  All  All  None  Almost all   QS Most  All  All  Almost all   Q  All  All  All  Almost all      convex hull of  About half  All   Almost all   About half  Most   Almost all     About half  All     Note that in the above procedure  the qualitative calculation table for the quantified syllogism is computed by using the approximation step only at the end of the computation  Another approach one may think of would be to have precomputed tables for product and quotient  and to use them in the calculation of the bounds  However this latter approach would not be satisfactory because it yields too imprecise results  Remark        THE   QUANTIFIER CASE  In this section we analy se the results obtained on the most elementary type of qualitative scale of linguistic quantifiers  i e   none  few  about half  most  all  where few is of the form  E a  for some positive  infinitesimal value E  a is some number in           about half is interpreted as  a     a   and most is     a    E    Note that the name  about half  is indeed short for  neither few nor most  but in between   since the interval  a     a  may be quite imprecise  Table   gives the complete results when a         the table is sorted by putting together the   tuples  Q  Q  Q  Q   that lead to the same value of QS  A first remark  is that in many situations when none of the quantifiers mean  all   no information is obtained on P CIA   This is especially true when both P AIB  and P BIA  take small qualitative values  Some lines of the table may look surprising  For instance we see that nothing can be inferred from the four statements  all A s are B s    most B s are A s   all C s are B s    about half of the B s are C s   Especially  the lower bound P CIA     is attained in this case if pessimistic interpretations of  most  and  about half  are chosen  say     and     respectively  P BIA   P AIB   P CIB   P CIA   none  none   none most    none all    none all   few  few   few most    few most   few  half   few half    few most   few  most   few halfl  half   half all   most   few most   half   half all    few half    few most    few most   few most   P BJC   all   few half   aU  all  most  aU  half  few   few aU   none  none  few  half  most  most   few half   most  few  few  most   few half   all   few most   most  most  aU  half  few  half  most   few half   few  most  half  few  most  most  half  half   few half   all   few most   half   few all   none  none  most   few all   few    few   few half   all   few most   few  most  most  few  few half   few   most all   few  most  all  half  most  all  few  most   few all   none  none  none  none  all   few all    few all   none  few  few  none most  all  few   few all    few half   all   few half   most   few half   most  half  most  most  most  few  half  most  all  few  all  few  all  few  all  half  most  all   half most   half  all   few half  few  few  half  all  most  most  most  all   few most   half  few   most all   most   most all   half  half  all  most  all  half  most  half  all   non e half    none few    none none   few all    few most    few most   half  few   none  most   half  few  all   half most   half  all  most  all   few most   few  most  all  all  half   few half            D ub ois   Prade  Godo  and Lopez de Mantaras  few   few all   all  few  most  all  all most  half  few  most   few half   all  few  few  all  all  all  most all    half most  few  all   few all   few  all  few half  all  most all  all  half   few all    few most   all  most   few most   most  all  most  most  most  all  most  all  most  most  all   few all   most  half all   few all  all   few all   half  most   few all    few most   most all   few all  all   few all   most   few all    few all   all  all  all  all  P CIA     max O l   all  all  all   half all    half most   half half   most all   most most  fall  all   The case P BIA   all  and P BIC     all  represents a typical case of statistical inference  when  knowing the probability P CIB   and considering some individual in class B  one tries to say something about its probability of being a C  Namely B represents a population  C a subclass of this population for which the proportion or probability P CIB  is known  For instance B represents the inhabitants of some city and C the proportion of individuals in that population that are older than     Now take an individual xo in B  There are several ways of    a            P   CI A  min l   itself  Let us consider the situation where P CIB         If the degree of typicality t    P CIB    a then the probability P CIA  is no longer upper bounded  but can be lower than P CIB  as well  When the typicality t is low enough  that is t    min P CIB       P CIB   nothing can be inferred on P CIA   It corresponds to the case when A and C could be disjoint subsets of B  This phenomenon explains the presence of rows of Table I where despite the high values of some of the probabilities the results of the chaining is very imprecise   S  ROBUS TNES S          few few few  half  most  is  viewed as having nothing special   The problem is then  knowing P CIB  what is the probability that xo belongs  to C   This problem can be solved by computing P CIA  where A is a maximal subclass of B  of which xo is a typical element   This problem corresponds to all rows of Table   where P BIA    and P BIC     It can be checked that P CIA  can be much more imprecise than P CIB   since it can be  none  all   i e  unknown   in several cases     This phenomenon can be precisely studied in an analytical way  letting P CIB    a  and P AIB    t  Parameter t can be called a typicality index of set A with respect to B  It expresses the probability that selecting at random an individual in B  it lies in A  i e  it is  like xo  The commonsense saying that statistics should be cautiously used when making decisions about individual situations can be given a precise form thanks to the quantified syllogism  When P AIB    t  P BIA       P CIB  a  P BIC      we get the following results on  few  few  half          few  half   the choice of the value of a  Namely half      a  only if  a    d  where d  xo  most  few  The question mark     indicates some ambiguity due to  xo   particular as nobody is like him  to B itself  if  half  few  few       a      maximal subset of B containing individuals  just like Note that A can range from  xo   if xo is so  ANALYSIS  Table   is obtained for a specific value of the threshold a between  few  and  half   A legitimate question is whether such results are still valid for other values of the threshold  Let us start with qualitative tables for product and quotient  with  few   O a    most       a  I    half   a  I  a   The product table is defined as None Q  None  All  Q  Q  and  considering xo according to its peculiarities  Let A be the  P CIA         Table    Compactedtabl e of th e quantifiedsyllogism for the   element Partition   half means  about half         The only case when P CIA  can only be equal to P CIB  is when t    i e  when the reference class of xo is B  few   most all       few few           a               half   a      s  a  which requires             In that case   half   half  few and most  most     I   a     I  ex   a  I  when a   d  so that most   most   few  most   The latter equality does not sound natural  On the contrary if a   d  then half   half    few  half    most  most      half  most   From a commonsense point of view  it is not very unnatural to require that  few  may mean a proportion less than    or so  Again  half  is here short for  neither few nor most but in between   Hence it is clear that the product of qualitative probabilities is almost independent of the choice of the threshold a in     I     It fits the intuition and is completely threshold independent for  a  small enough  The same problem can be solved for the  bounded  quotient  and it leads to the following almost robust table  I none few half most all  none  none  all  all all all all  few none  none  all  all all all  half none  few  all   half  all  all all  most all none none  few  half  few half  half  all  most most all all   A Symbolic Approach to Reasoning with linguistic Quantifiers  The terms half half and few most are given for a  d  Only these terms change if a is larger  Note that the subdiagonal part of the table has been truncated to     In order t o study the robustness o f the quantified syllogism table  several runs of the program that generate this table have been done  with a varying between      and      Only a few lines of the qualitative table change  nine over       s  distinct   tuples of quantifiers for          a       In order to get a better insight  it is interesting to consider a significant subpart of the table  where quantifiers are either  few  or  most   i e  when P AIB   P BIA   P CIB   P BIC  are close to   or close to    In order to let the p arameter a appear we shall use the following notation P AIB  Vo  a  which means P AIB  a P AIB  V    a  which means P AlB  a  Then by applying the optimal bounds on P CIA  as described in Section   on the           tuples of extreme quantifiers  potential instability of the results was obtained for the   following cases only   P BIA  Vrf a    P AIB  VJ I a   P BIC  Vt l a   P CIB  Vrf  a    Vrf a    Vt l a    Vt l a   Vt l a   Vt l a   Vt l a   VrJ  a    Vrf  a   Vt l o    Vt l o    VrJ a   Vt l a   VJ l o    VJ I o    Vt l a   Vrf  a    Vt l a   Vt l a   Vt l a   Vt l a   P CIA  VrJ a      a l  Vo  a z    a l  a   Vo  a   VJ l  a       Vo a     a   a    VJ I  a    most most most  most most most  few most most  most few most   half  all   none  half   half  all   When the quantifier   about  half  is involved in the inference pattern  the resulting quantifiers P CIA  may get more precise  e g   few  all  becomes  half  all  when a becomes smaller   But the table obtained for a       remains correct but not optimally precise       A QUALITATIVE ANALYS IS OF ADAMS  INFERENCE RULES  Adams        has proposed a probabilistic inference system based on the three inference rules   triangularity   Bayes rule  disjunction    A  B  A  C   A   B  C A  B   A   B   C  A  C A  C  B  C   A v B   C  which are sound when A  B is understood as the probability P BIA   I    where e is arbitrarily small  These rules are used in Pearl        to build a probabilistic inference like default logic  It is interesting to consider finistic semantics for these rules in relationship with the linguistic probability scale  In this respect A B will be interpreted as  most A s are B s   First it is easy to verify that triangularity and Bayes rule axioms can be expressed in terms of the quantified syllogism  of which they are special cases  noticing that  P BIA      P AnBIA    Triangularity   P A n BIA    most   P AIA n B  P CIA    most  compute P CIA n B            Bayes rule   P AIA n B        P A n BIA    most     most   compute P CIA     It is easy to verify that for a s       P CIA n B   a  a            a   Taking  most        a      we easily get the lower bound on P CIA n B  and P CIA  in each case by using the quantified syllogism   a  s   as    a     a     a      a       a  since        a   a       P CIA n B   max      a    These inequalities guarantee that whatever the v alue of a         the value of P CIA   as shown in Table   remains within a given range  e g      a          a    a      corresponding to a symbolic label  even if there is a degradation of the result which is less specific than Vo a  or V        a   except in the first line of Table     Hence we get the following robust computation table for the quantified syllogism  we only give here the   tuples that lead to an informative output     few few few most  few most few most few  few most most few   none  most  few  few  all   few  half   none  half   P  AnBI A         l   a   a  P CIA   P  BIA  P  CIA n B     I  a      There is again a degradation of the lower bounds  However these lower bounds are again greater than a when a  d  The third axiom pertains to another kind of inference that does not directly relate to the quantified syllogism  In Amarger et al       a  the following identity was obtained   P CIA  P CIAuB   most most most most most     P  CIA      P BI A   P CI B   P CIA n B   P AIB     P BIA         P AIB       Hence a lower bound to P CIA u B  is obtained when n B       When P CIA     a  P CIB   I   a  both express  most    we get  P CIA           Dubois  Prade  Godo  and Lopez de Mantaras  P CJA u B     K       a       OP    AIB old  K             The right hand   P AJB  P BJA  term of the inequality is increasing with K  Hence the lower bound for P CJAuB         a    I        a  More generally P CJAuB       a  a  when P CJA       a  P CIB       a   On the whole  we have found finistic counterparts of Adams  axioms that enable to quantify how inaccurate we are when we apply these axioms for commonsense reasoning with high probabilities  where K    The three axioms can be summarized as A    a    B A  a  A B  An B A    a  a       C A  CAuB          a         kl Ili  Q P Ai JIAi  l  since this operation must be done for all cycles one might look for the counterpart of a longest path algorithm  here with qualitative values  But this is tricky if we want to compute quotients only at the end of the shortest path procedure  and keep separate the products of terms along cycles  The maximum operation  Q  Q   v  S   S    should be directly expressed as an operation v  between pairs  QJ Q   and  S    S    that furnishes a new pair of qualitative values  Moreover  longest path algorithms make an extensive use of the distributivity of the addition over the maximum  Here we would require a property such as  C  In the case of the generalized Bayes theorem  GBT   described in Section    we cannot use the same method as we did in Section   with the quantified syllogism rule because here the number of arguments  i e  the length of the involved cycle  is variable  This prevents us from having the qualitative inference pattern defined by a table  Then the only possibility left is to replace in the GBT expression the product and quotient operations by qualitative ones defined on the universe of description U  These more basic qualitative operations can be stored in tables     rr  A        OP    AI  ii   C  THE GENERALIZED BAYES THEOREM    for a given cycle  find a proper ordering for the computation  Especially  it is not obvious that  XlX   I  X  X    computing products first  is equal to  Xt X     X  X    computing quotients first   Because of the truncation effect of the quotient table  it seems better to compute products before quotients   B reads P BIA     a  In terms of a linguistic proportions  those rules can be  Written changing a into  most  and interpreting the resulting conditional probabilities as  more than few  in the three cases  provided that a        These rules enable probabilistic reasoning to be performed as a qualitative non monotonic logic  but where the validity of conclusions can be numerically assessed   where A  QP    BIA   i    a  C    a        a       A and v denote the min and max operations in the sense of the certainty ordering  But the computation of these quantities raises several problems    a    C B  C An B  A  Xl  v  Xz     X   X  X s  X         X     X   X I  X   v  X   Xs  X   X   It is not clear that this property holds in the qualitative algebra  But the basic question is whether this constraint propagation rule  which proved useful in the quantitative case leads to really improve qualitative probability bounds  This can be precisely studied on the   quantifier case of Section      The smallest expression to be computed with non extreme probabilities is of the form  Ql Q  Q    Q  Qs  with Qi E  few  half  most   It is easy to check from the product and quotient tables that   i  ii   Q   Q  E most         Q  above          few   few  most    few  half    half     can only belong to the same set as  Given a cyle  At       Ak  At  with AI  A  Ak B the qualitative probability QP AIB   known to lie in the interval  QP   AIB  ld QP  AIB otdl should be improved by letting  iii  the only case where a quotient can be significantly informative is when the operands are  few  most    half  most  and  half  half  since few most   few  half  and half half   half  all    half most   Q P  AIB new  As a consequence  QJ Q              Qs  can give  few  all  at the very best  This is when Q      Q     few  half  and    Qs    half  most   This is not likely to be very useful for improving probability bounds  In the   quantifier case  the best informative result can be     QP AIB old QP    AIB new       v        n  c    t Q P AiiA i I         Q P BIA                                    Il i   QP    Ai tiAi   l         A Symbolic Approach to Reasoning with Linguistic Quantifiers  shown  to be  Q     Q  Q  Q             half      all   corresponding to when   half  most    most  al  all    half  most    most  at  all      d     linguistic partition of the unit interval  can be recursively applied to any set of linguistic quantified statements of the form Q A s are Bi s which form a probabilistic  network  It is then possible to generate new statements of that kind  and to improve precision for the ones that were originally stated  Let us consider the following qualitative counterpart of a   predicate example of Amarger et al      la  b                        Most to almost all students are sportsmen  Q  most  al all  Almost all students are young  Q   al all  Half of the sportsmen are students  Q    half  Almost all sportsmen are single  Q   al all  At least almost all sportsmen are young  Q    al all  all   At least most singles are sportsmen  Q     most  all   Most singles are young  Q   most  Almost no singles have children  Q   al none  Few young people are students  Q  few  Almost all young people are sportsmen  Q   al all  At most almost no young people have children  Q    none  al none  At most almost no people who have children are single  Q  none  al none   At most almost no people who have children are young  Q  none  al none              These statements are but examples and must not be examined as to their actual truthworthiness  Let us consider a   element partition as follows partition                               none  al none  few  half  most  al all  all      The quantified syllogism rule is run until no improvement of the quantifiers  nor new statements can be generated  The following results were obtained         At least few students are single  Q    few  all   Not more than few sportsmen have children  Q   none  few   From almost none to half singles are students  Q    at none  half     Let us consider now a   element partition as follows partition                                                   S YMBOLIC CONSTRAINT PROPAGATION  The quantified syllogism rule  as precomputed for a given            none  al none  v few  few  half  most  v many  al all  all   where v  few stands for very few              and v many stand for very many               Using th e same input data  more results are obtained   At least half of the students are single  Q    half  all   Not more than half of the students have children  Q    none  half   Not more than very few sportsmen have children  Q    none  v few   Most to very many singles are sportsmen  Q    most  v many     These results are consistent but strong e r than thos e obtained with the   element partition  It is interesting to compare them with the results of the numerical procedure that directly handles interval probabilities given below under the form of incidence matrices giving P  column kroW     iltj J ut data  student  sp ort   young  children   ro  oo o  oo                             sport si   gle                              y oung J          Ql               children                              student  input data student sport si   gle young children  jl OOO          sin    le                              n  ooo   ooo                                                                           O OOO l OOQl                           Ql                             J          Ql  ll OOO l OOOJ  Inputdata saturated network  student                              single               young               children                 student  SJl Ort  saturated  y oung  student                                                                          network  sport sin gle young children  sport  single                                                                                                        r  ooo   ooo                               children                                                                     Probabilitiesafter constraintpropagation The main difference between the numerical and the symbolic results appears on the last row  The symbolic inference approach was not able to deduce that almost nobody having children is a student  and very few are sportsmen  Note that we have tried to develop a qualitative version of the generalized Bayes rule using longest path algorithms and the product and quotient tables of computation  However no improvement of the results has been observed  More work is to be done along that line            Dubois  Prade  Godo  and Lopez de Mantaras    C ONCLUDING REMARKS We have shown in this paper that a qualitative calculus for the probabilistic scale  none    few    from few to most    most    all  can be developed in agreement with a numerical interpretation of probabilities  provided that the intended numerical meaning of  few  is less than      in any case and the one of  most  is more than       These thresholds are quite in agreement with commonsense which seems to disagree that  most A s are B s  if less than      of A s are B s  or that  few A s and B s   when there are more than      of A s which are B s  However it does not mean that humans are currently able to provide the correct  in the sense of probability calculus  qualitative values given by the rules derived in this paper  It is well known  e g  Kahneman  Slavic and Tversky         that humans are often in trouble not only for correctly assessing probabilities  but also to make accurrate inference from them  One might wonder whether fuzzy intervals are useful or not in the modeling of linguistic quantifiers  Clearly the use of precise thresholds to delimit the extensions of  few    half    most  has something arbitrary  However since the linguistic computation tables obtained here are partially independent of the choice of the threshold  it turns out that using fuzzy partitions instead of non fuzzy ones would not make much difference here  especially if a fuzzy partition is viewed as an imprecise specification of the thresholds between the meanings of the basic terms  Nevertheless fuzzy intervals remain useful in the scope of feeding numbers in probabilistic networks  from the knowledge of linguistic values  rather than reasoning with linguistic values  Indeed  when looking for the numerical interpretation of linguistic quantifiers  fuzzy intervals look like a more faithful model than crisp ones  But then the constraint propagation algorithms must be adapted to handle fuzzy upper and lower probabilities in the numerical setting  Applying fuzzy arithmetic to the quantified syllogism rule  as done by Dubois and Prade          appears to be in total contrast with defining linguistic counterparts of numerical constraint propagation rules  as done here  Acknowledgments   This work is partially supported by the ESPRIT Basic Research project n      DRUMS   
