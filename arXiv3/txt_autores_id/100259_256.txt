

Qualitative probabilistic networks have been
introduced as qualitative abstractions of
Bayesian belief networks. One of the ma­
jor drawbacks of these qualitative networks
is their coarse level of detail, which may lead
to unresolved trade-offs during inference. We
present an enhanced formalism for qualita­
tive networks with a finer level of detail.
An enhanced qualitative probabilistic net­
work differs from a regular qualitative net­
work in that it distinguishes between strong
and weak influences. Enhanced qualitative
probabilistic networks are purely qualitative
in nature, as regular qualitative networks are,
yet allow for efficiently resolving trade-offs
during inference.

1

INTRODUCTION

The formalism of Bayesian belief networks is generally
considered an intuitively appealing and powerful for­
malism for capturing complex problem domains along
with their uncertainties. The usually large number
of probabilities required for a belief network, how­
ever, tends to pose a major obstacle to their applica­
tion. To mitigate this obstacle, qualitative probabilis­
tic networks have been introduced as qualitative ab­
stractions of Bayesian belief networks [Wellman, 1990].
Like a Bayesian belief network, a qualitative proba­
bilistic network encodes variables and the probabilis­
tic interrelationships among these variables in a di­
rected graph; the relationships are not quantified by
conditional probabilities as in a belief network, but are
summarised by qualitative signs instead. For inference
with a qualitative probabilistic network, an elegant al­
gorithm is available, based on the idea of propagating
signs [Druzdzel & Henrion, 1993].

One of the major drawbacks of qualitative probabilis­
tic networks is their coarse level of detail. As a conse­
quence of their high abstraction level, qualitative prob­
abilistic networks do not provide for modelling the
intricacies involved in weighing conflicting influences
and, hence, do not provide for resolving trade-offs. In­
ference with a qualitative probabilistic network for a
real-life domain of application, therefore, quite often
leads to ambiguous results.
Ambiguous results in inference can be averted by en­
hancing the formalism of qualitative probabilistic net­
works to provide for a finer level of detail. Roughly
speaking, the finer the level of detail, the more trade­
offs can be resolved during inference. The problem
of trade-off resolution within the framework of quali­
tative networks has been addressed before by others.
S. Parsons has introduced, for example, the concept of
categorical influences. A categorical influence is either
an influence that serves to increase a probability to 1
or an influence that decreases a probability to 0, re­
gardless of any other influences, and thereby resolves
any trade-off in which it is involved [Parsons, 1995].
C.-1. Liu and M.P. Wellman have designed two meth­
ods for resolving trade-offs based upon the idea of re­
verting to numerical probabilities whenever necessary
[Liu & Wellman, 1998]. While only some trade-offs
can be resolved by the use of categorical influences,
the methods of Liu and Wellman provide for resolving
any trade-off. Their methods, however, require a fully
specified, numerical belief network. We would like to
mention that various other approaches to dealing with
uncertainty in a qualitative way have been proposed in
the literature. These approaches are not tailored for
use within the framework of qualitative probabilistic
networks and therefore will not be reviewed here.
To provide for trade-off resolution without resorting to
numerical probabilistic information, we have designed
an intuitively appealing formalism of enhanced quali­
tative networks. An enhanced qualitative probabilis­
tic network differs from a regular qualitative network

560

Renooij and van der Gaag

in that it distinguishes between strong and weak in­
fluences. For inference, we have generalised the sign­
propagation algorithm for regular qualitative networks
to deal with the strong and weak influences of an en­
hanced qualitative network. Trade-off resolution dur­
ing inference is based on the idea that strong influences
dominate over conflicting weak influences.
The paper is organised as follows. In Section 2, we
provide some preliminaries from the field of qualita­
tive networks to introduce our notational conventions.
In Section 3, we present the formalism of enhanced
qualitative probabilistic networks. In Section 4, we
detail various properties of these enhanced networks,
thereby providing for a sign-propagation algorithm for
inference. The paper is rounded off with some conclu­
sions and directions for future research in Section 6.
2

PRELIMINARIES

Qualitative probabilistic networks have been intro­
duced as abstractions of Bayesian belief networks. Be­
fore addressing qualitative networks, we briefly review
their quantitative counterparts. A Bayesian belief net­
work is a concise representation of a joint probability
distribution on a set of statistical variables. It encodes,
in an acyclic directed graph, the variables concerned
along with their probabilistic interrelationships. Each
node in the digraph represents a variable; the prob­
abilistic relationships between the variables are cap­
tured in the digraph's set of arcs. Associated with
each variable is a set of conditional probability dis­
tributions describing the relationship of this variable
with its (immediate) predecessors in the digraph.
We introduce a small Bayesian belief network that will
serve as our running example throughout the paper.
Example 2.1 We consider the small belief network
shown in Figure 1. The network represents a fragment
Pr(a) =

0.70

I

=

Pr(d tJ) =
Pr(d tf)

I

iil

Pr{f
Pr(/ a

Pr(t �) 0.01
Pr(t a) = 0.35
=

0.95
0.15

ij_l

Pr(d
Pr(d tf

I

I

=
=

=
=

0.45
0.50

0.80
0.01

Figure 1: The Antibiotics Belief Network.
of fictitious and incomplete medical knowledge, per­
taining to the effects of administering antibiotics on
a patient. Node A represents whether or not a pa­
tient takes antibiotics. Node T models whether or not
the patient has typhoid fever and node D represents
presence or absence of diarrhoea in the patient. Node

F, to conclude, describes whether or not the composi­
tion of the patient's bacterial flora has changed. Ty­
phoid fever and a change in the patient's bacterial flora
are modelled as the possible causes of diarrhoea. An­
tibiotics can cure typhoid fever by killing the bacteria
that cause the infection. However, antibiotics can also
change the composition of the patient's bacterial flora,
thereby increasing the risk of diarrhoea. D
Qualitative probabilistic networks bear a strong re­
semblance to their quantitative counterparts. A qual­
itative probabilistic network also comprises an acyclic
digraph modelling variables and probabilistic interre­
lationships among variables. Instead of conditional
probability distributions, however, a qualitative prob­
abilistic network associates with its digraph qualitative
influences and qualitative synergies [Wellman, 1990].
A qualitative influence between two nodes expresses
how the values of one node influence the probabilities
of the values of the other node. A positive qualita­
tive influence of node A on its (immediate) successor
B, denoted s+(A,B), expresses that observing higher
values for A makes higher values for B more likely,
regardless of any other direct influence on B, that is,
Pr(b I ax)- Pr(b I iix) � 0
for any combination of values x for the set 7r(B) \ {A}
of (immediate) predecessors of B other than A. A
negative qualitative influence, denoted by s-, and a
zero qualitative influence, denoted by S0, are defined
analogously, replacing � in the above formula by ::;
and =, respectively. If the influence of node A on
node B is not monotonic or unknown, we say that it
is ambiguous, denoted S7 (A,B).
The set of influences of a qualitative probabilis­
tic network exhibits various convenient properties
[Wellman, 1990]. The property of symmetry guar­
antees that, if the network includes the influence
s+(A, B), then it also includes s+(B, A). The prop­
erty of tmnsitivity asserts that qualitative influences
along a trail, that specifies at most one incoming arc
for each node, combine into a single influence with the
®-operator from Figure 2. The property of compo­
sition asserts that multiple qualitative influences be­
tween two nodes along parallel chains combine into a
single influence with the $-operator.
®

+

+

+

0
?

0
?

+
0
?

0

?

0
0
0

?
0
?

Figure 2: The

0-

Ell
+

+
+

0
?

+

?

?

?

0
?

and $-Operators.

?
?
?

Enhancing QPNs for Trade-off Resolution

From Figure 2, we have that combining parallel qual­
itative influences with the Ell-operator may yield an
ambiguous result. Such an ambiguity, in fact, results
whenever influences with opposite signs are combined.
We say that the trade-off that is reflected by the con­
flicting influences cannot be resolved. Note that, in
contrast with the Ell-operator, the ®-operator cannot
introduce ambiguities upon combining signs of influ­
ences along trails.

bilities of the original belief network, in real-life appli­
cations, these relationships are elicited directly from
domain experts.
For reasoning with a qualitative probabilistic network,
an elegant algorithm is available from M.J. Druzdzel
and M. Henrion (1993); this algorithm is summarised
in pseudocode in Figure 4. The basic idea of the algoprocedure

Propagate-Sign(from, to, message):
sign[ to] +--- sign[to] Ell message;
for each (induced) neighbour V; of to
do linksign +--- sign of (induced) influence
between to and V;;
message +--- sign[to] ® linksign;
if V; f. from and V; ¢. Observed
and sign[V;] f. sign[V;] Ell message
then Propagate-Sign(to, V;, message)

In addition to influences, a qualitative probabilistic
network includes synergies, that express how the value
of one node influences the probabilities of the values
of another node in view of a given value for a third
node [Henrion & Druzdzel, 1991]. A negative product
synergy of node A on node B (and vice versa) given
the value c for their common successor C, denoted
x-({A,B},c), expresses that, given c, higher values
for A render higher values for B less likely, that is,
Pr(c I abx)- Pr(c I abx)- Pr(c I abx)- Pr(c I abx) :S 0
for any combination of values x for the set 71' ( C) \
{A,B} of predecessors of C other than A and B. A
product synergy induces a qualitative influence be­
tween the predecessors of a node upon observation;
the induced influence is coined an intercausal influ­
ence. Positive, zero, and ambiguous product synergies
again are defined analogously.
Example 2.2 We consider the qualitative abstraction
of the Antibiotics belief network from Figure 1. From
the conditional probability distributions specified for
node T, we have that
Pr(t I a)

-

Pr(t I a) :S 0

and therefore that s-(A,T); we further find that
s+(A,F ), s+(T,D), and s+(F,D). Either value for
node D, in addition, induces a negative intercausal
influence between the nodes T and F. The result­
ing qualitative probabilistic network is shown in Fig­
ure 3. D

Figure 3: The Qualitative Antibiotics Network.

We would like to note that, although in the previous
example,we have computed the qualitative probabilis­
tic relationships among the variables from the proba-

561

Figure 4: The Sign-Propagation Algorithm.
rithm is to trace the effect of observing a node's value
on the other nodes in the network by message-passing
between neighbouring nodes. For each node, a sign is
determined, indicating the direction of change in the
node's probabilities occasioned by the new observation
given all previously observed node values. Initially, all
node signs equal '0'. For the newly observed node, an
appropriate sign is entered, that is, either a '+' for
the observed value true or a '-' for the value false.
The node updates its sign and subsequently sends a
message to each neighbour and every node on which
it exerts an induced intercausal influence. The sign of
this message is the ®-product of the node's (new) sign
and the sign of the influence it traverses. This process
is repeated throughout the network, building on the
properties of symmetry, transitivity, and composition
of influences.
3

THE ENHANCED FORMALISM

Qualitative probabilistic networks model a problem
domain at a coarse level of detail. This coarseness
of representation is most visible in the way relation­
ships among variables are captured: the relationships
are summarised by qualitative influences without any
indication of their strengths. As a consequence of the
coarse level of detail, any trade-off encountered dur­
ing inference will remain unresolved. To allow for re­
solving trade-offs in a qualitative way, we enhance the
formalism of qualitative probabilistic networks by as­
sociating a relative strength with influences. If in a
trade-off, for example, the positive influence is known
to be stronger than the conflicting negative one, we
may then conclude the combined influence to be posi­
tive, thereby resolving the trade-off.

562

Renooij and van der Gaag

In our formalism of enhanced qualitative probabilistic
networks, we distinguish between strong and weak in­
fluences. We begin by focusing on the strong and weak
positive influences. The basic idea is to partition the
set of all positive influences into two disjoint sets of in­
fluences in such a way that any influence from the one
subset is stronger than any influence from the other
subset. To this end, a cut-off value 6 is introduced.
This value serves to partition the set of qualitative
influences into a set of influences that capture a differ­
ence in probabilities larger than 6 and a set of influ­
ences that model a difference smaller than 6. An influ­
ence from the former subset will be termed a strongly
positive influence; an influence from the latter subset
will be termed a weakly positive influence.
More formally, a strongly positive qualitative influence
of a node A on its successor B, denoted s++(A,B),
expresses, first and foremost, that observing higher
values for A makes higher values for B more likely,
regardless of any other influence on B; in addition, it
expresses that
Pr(b I ax)

-

Upon abstracting a Bayesian belief network to an en­
hanced qualitative probabilistic network, the cut-off
value 6 needs to be chosen explicitly. This cut-off
value will typically vary from application to applica­
tion. Note that it is always possible to choose a cut-off
value, as the value 6 = 1 yields a trivial partitioning
of the set of influences.
Example 3.1 We consider once again the Antibiotics
belief network from Example 2.1. Suppose that we
choose for our cut-off value 6 = 0.30. For the influence
of node A on node T, we now find that
Pr(t I a) - Pr(t I a) � 0, and
I Pr(t I a) - Pr(t I a) I = 0.34;::: 6
We therefore conclude that s--(A, T). We further
find that s++(T, D), s+(A, F), and s+(F, D). The
resulting enhanced qualitative probabilistic network is
shown in Figure 5. 0

Pr(b I ax) ;::: 6

for any combination of values x for the set 1r( B) \ {A}
of predecessors of B other than A, where 6 is the cut­
off value used. A weakly positive qualitative influence
of A on B, denoted s+(A, B), is a positive qualitative
influence such that
Pr(b I

ax

)

-

Figure 5: The Enhanced Antibiotics Network.

Pr(b I ax) � 6

for any combination of values x for the set 1r(B) \ {A}
of predecessors of B other than A, where 6 once again
is the cut-off value used. Strongly negative qualitative
influences, denoted s--' and weakly negative qualita­
tive influences, denoted s-' are defined analogously;
zero qualitative influences and ambiguous qualitative
influences are defined as in regular qualitative proba­
bilistic networks. In the sequel, we will use the phrase
strong influences to refer to both strongly positive and
strongly negative influences; the phrase weak influ­
ences is meant to have an analogous meaning. We
further say that a product synergy is strongly negative
if it induces a strongly negative intercausal influence.
Strongly positive product synergies are defined analo­
gously; zero product synergies and ambiguous product
synergies again are defined as in regular qualitative
networks.
We would like to note that, in our enhanced formal­
ism, the meaning of the sign of an influence has slightly
changed. W hile in a regular qualitative probabilistic
network, the sign of an influence represents the sign of
a difference in probabilities only, in an enhanced qual­
itative network a sign in addition captures the relative
magnitude of the difference.

We would like to note that, in real-life applications of
enhanced qualitative probabilistic networks, a cut-off
value need not be established explicitly. The parti­
tioning into strong and weak influences then is elicited
directly from the domain experts involved in the con­
struction of the network.
4

INFERENCE WITH AN
ENHANCED NETWORK

For inference with a regular qualitative probabilistic
network, an elegant algorithm is available. We recall
from Section 2 that this algorithm builds on the idea
of propagating signs throughout a network and com­
bining them with the 0- and Ell-operators. We fur­
ther recall that the algorithm exploits the properties
of symmetry, transitivity, and parallel composition of
influences. To generalise the idea of sign-propagation
to inference with an enhanced qualitative probabilis­
tic network, we enhance, in the Sections 4.1 and 4.2,
the 0- and Ell-operators to provide for the properties
of transitivity and parallel combination of strong and
weak influences; in Section 4.3, we address the prop­
erty of symmetry.

Enhancing QPNs for Trade-off Resolution

4.1

ENHANCING THE 0-0PERATOR

For propagating qualitative signs along trails of nodes
in an enhanced qualitative probabilistic network, we
enhance the 0-operator that is defined for regular
qualitative networks, to apply to strong and weak in­
fluences. We recall that the 0-operator basically pro­
vides for multiplying signs of influences. In a regular
qualitative probabilistic network, an influence captures
a difference between two probabilities. Upon multiply­
ing the signs of two influences, therefore, the sign of
the result of the multiplication of two such differences
is computed. In our formalism of enhanced qualitative
probabilistic networks, we have added an explicit no­
tion of relative magnitude to influences. It will be ev­
ident that these relative magnitudes need to be taken
into consideration when multiplying signs.
To address the effect of multiplying two signs in an en­
hanced qualitative probabilistic network, we consider
the network fragment shown in Figure 6. The frag-

-0
Figure 6: A Fragment of a Network.
ment includes the trail of nodes A, B, C, with two
qualitative influences between them; in addition, X
denotes the set of all predecessors of B other than A,
and Y is the set of all predecessors of C other than B.
For the qualitative influence of A on C,we have that
Pr(c I axy)- Pr(c I axy) =
(Pr(c I by)- Pr(c I by))· (Pr(b I ax)- Pr(b I ax))
for any combination of values x for the set of nodes X
and any combination of values y for the set Y.
Suppose that both qualitative influences in the net­
work fragment under consideration are strongly posi­
tive, that is, we have that s++(A, B) and s++(B, C);
suppose that we have used the cut-off value 8 for dis­
tinguishing between strong and weak influences. From
the expression stated above for the influence of node
A on node C, we now find that
Pr(c I axy)- Pr(c I axy) � ()2
for any combination of values xy for the set of nodes
XU Y. Since 8 ::; 1, we have that 82 :S 8. Upon mul­
tiplying the signs of two strong influences, therefore,

563

a sign results that expresses an influence that may or
may not be stronger than a single weakly positive in­
fluence.
Now suppose that both qualitative influences in the
network fragment from Figure 6 are weakly positive,
that is, we have that s+(A, B) and s+(B, C). For the
influence of node A on node C, we now find that
Pr(c I axy)- Pr(c I axy) :S (j2
for any combination of values xy for the set X U Y.
While the influence resulting from the multiplication
of two strong influences cannot be compared to a sin­
gle weak influence, the above observation shows that
the resulting influence will always be at least as strong
as an influence resulting from the multiplication of two
weak influences. To provide for comparing qualitative
influences along different trails with respect to their
magnitude, as required for trade-off resolution, there­
fore, we need to retain the length of the trail in the
network over which influences have been multiplied.
To provide for comparing qualitative influences along
different trails, we augment every influence's sign by
a superscript, called the sign's multiplication index. A
strongly positive qualitative influence with multiplica­
tion index i of node A on node B, written s++' (A, B),
is now taken to denote that
Pr(b I ax)- Pr(b I ax) � 8i
for every combination of values x for the set X of pre­
decessors of B other than A. A weakly positive quali­
tative influence with multiplication index i of A on B,
written s+; (A, B), is taken to indicate that
0 :s Pr(b I ax)- Pr(b I ax) :s 8i
for every combination of values x for the set X. The
signs associated with the arcs of the digraph are inter­
preted as having a multiplication index equal to 1.
Building on the concept of multiplication index, Fig­
ure 7 shows the table for the enhanced 0-operator.
From the table, it is readily seen that the +, -, 0, and
? signs combine as in a regular qualitative probabilistic
network; the difference is just in the handling of the
multiplication indices. In the table, there appear signs
+? and -7; we will elaborate on the meaning of these
signs in Section 4.2.
We like to further comment on the combination of the
signs +; and ++i. In doing so, we consider once again
the network fragment from Figure 6. Suppose that we
have s+" (A, B) for the influence of node A on node
B, and s++; (B, C) for the influence of B on C. The
weakly positive influence of A on B expresses that
Pr(b I ax)- Pr(b I ax) :s 8i

564

Renooij and van der Gaag

181

++

'

++j

+j

+?

0

-?

++'+i

+j
+'+i
+j

+?

0

-?

+?
0

0
0

-?

_i+j
_i

-?

0

+?
+i
+?

+j
+i+i
+j

+'

+'

+?

+?

-?

-?

0

?

0

0

__i+j

_j
_i+i
_j

?

?

+'

-?
?

0

0
0
0

0

?

i

_

i

_

0

?

__j
__

i+j

?
?
?

-?

?

+?
+i
+ +i+j

?

0

?

0
?
?
?

F igure 7: The Enhanced ®-Operator.
for every combination of values x for the set X of pre­
decessors of B other than A. The strongly positive
qualitative influence of B on C further expresses that
Pr(c I by)- Pr(c I by) 2 8i
for every combination of values y for the set Y of pre­
decessors of C other than B. For the influence of A
on C, we now find that
Pr(c I axy)- Pr(c I axy) � 8i

B, C, respectively, between the nodes A and C, and
various qualitative influences; in addition, X denotes
the set of all predecessors of B other than A, and Y
is the set of all predecessors of C other than A and B.
For the net qualitative influence of node A on node C
along the two parallel trails, we have that
Pr(c I axy)- Pr(c I axy) =
(Pr(c I aby)- Pr(c I aby)) Pr(b I ax)+
-(Pr(c I aby)- Pr(c I aby)) Pr(b I ax)+
+(Pr(c I aby)- Pr(c I aby))
·

·

for every combination of values xy for the set X U Y.
'
We therefore conclude that s+ (A, C). So, +;18>++; =
i
+ . Similar observations apply to any multiplication
of a weak and a strong influence.
4.2

for any combination of values x for the set of nodes X
and any combination of values y for the set Y.

ENHANCING THE EB-OPERATOR

For combining multiple qualitative influences between
two nodes along parallel trails in an enhanced quali­
tative network, we enhance the EB-operator that is de­
fined for regular qualitative probabilistic networks, to
apply to strong and weak influences. We recall that the
EB-operator basically provides for adding signs of influ­
ences. We further recall that, upon adding the signs of
two conflicting influences in a regular qualitative net­
work, the represented trade-off cannot be resolved and
an ambiguous influence results. In our formalism of
enhanced qualitative probabilistic networks, we have
added an explicit notion of relative magnitude to in­
fluences. These relative magnitudes can now be taken
into consideration when adding the signs of conflict­
ing influences and used to resolve trade-offs, thereby
forestalling ambiguous results.
When addressing the enhanced ®-operator, in the pre­
vious section, we have argued that the multiplication
of two influences yields an influence of possibly smaller
magnitude. We will now see that the addition of two
influences, in contrast, may result in an influence of
larger magnitude. To address the effect of adding two
signs in an enhanced qualitative probabilistic network,
we consider the network fragment shown in Figure 8.
The fragment includes the parallel trails A, C, and A,

Figure 8: Another Network Fragment.
Suppose that all qualitative influences in the network
fragment under consideration are weakly positive, that
is, we have that s+(A, B), s+(B, C), and s+(A, C);
suppose that we have used the cut-off value 8 for dis­
tinguishing between strong and weak influences. The
net influence of node A on node C equals the sum of
the influence with sign +1 along the trail A, C, and
the influence with sign +2 along the trail A, B, C.
From the expression stated above for the net influence
of A on C, we find that
Pr(c I axy)- Pr(c I axy) 2 0
The minimum of this difference is attained, for exam­
ple, for Pr(c I aby) = 0, which enforces Pr(c I aby) = 0,
and Pr(b I ax) = Pr(b I ax) = 0. We further find that
Pr(c I axy)- Pr(c I axy) � 8 + 82

Enhancing QPNs for Trade-off Resolution

E&
i
++
+'
+?
0
-?

?

'
++

'
+

m
'
++
'
++
'
++

i
++
+?

i
++

+?
'
+

+?

?
b)
?
?

?
?
c)
?

?
?
?
?

++

0

+?

+?

++
i
+
+?
0

+?

-?

?

j

-?
i

?
?
?

-?
-?
-?

?

__

a)
?
?

j

?
d)
?

j

_

__

-?

__

j

-?

?

?

?
?
?
?
?
?
?
?
?

565

where m = min(i,j),

a) +?,if i::::; j; ?, otherwise
b)

+7,

if j::::; i; ?, otherwise

c) -?,if i ::::; j; ?, otherwise
d) -?,if j ::::; i; ?, otherwise

Figure 9: The Enhanced E&-Operator.
This maximum is attained, for example, for Pr(c I
aby) = 1, Pr(c I aby) = 1- 8, Pr(c I aby) = 1- 2 · 8,
Pr(c I aby) = 1- 8, and Pr(b I ax) = 1. In computing
the maximum of the difference,we have used explicitly
the information that all influences are weakly positive.
From the maximum attained, it is readily seen that
the addition of two weakly positive influences yields a
result that may or may not be stronger than a weakly
positive influence. In general,we have that the result
of adding two positive or two negative influences is at
least as strong as the strongest of the influences added.
From the preceding observations, we have that the
qualitative influence that results from adding two
weakly positive influences,is either weakly positive or
strongly positive. So,although the resulting influence
is known to be positive, its relative magnitude is un­
known. To capture this ambiguity,we use +? to denote
the influence's sign. An ambiguously positive qualita­
tive influence of node A on node C,written s+'(A, C),
is therefore taken to indicate that
0::::; Pr(c I axy)- Pr(c I axy) ::::;

1

for any combination of values xy for the set X U Y.
Similarly, -7 is used to denote an ambiguously nega­
tive qualitative influence.
The enhanced EB-operator is shown in Figure 9. From
the table, it is readily seen that the +, -, 0, and ?
signs combine as in a regular qualitative probabilistic
network; the difference is just in the handling of the
multiplication indices and the ambiguity subscripts.
We like to further comment on the resolution of trade­
offs using the enhanced EB-operator. In doing so, we
consider once again the network fragment from Fig­
ure 8. Suppose that we have s++(A, C) for the direct
influence of node A on node C, and that we further
have s+( A,B) and s-(B,C). The net influence of
node A on node C equals the sum of the influence with
sign ++1 along the trail A, C,and the influence with
sign -2 along the trail A, B, C. From the expression
for the net influence of A on C,we find that
Pr(c I axy) - Pr(c I axy) � 8- 82

The minimum for the difference is attained, for ex­
ample, for Pr(c I aby) = 2 8, Pr(c I aby) = 8,
Pr(c I aby) = 8,Pr(c I aby) = 0,and Pr(b I ax)- Pr(b I
ax)= 6. In computing the minimum of the difference,
we have once again exploited the information with re­
gard to the signs and relative magnitudes of the in­
fluences involved. From the minimum attained, it is
readily seen that the net influence of node A on node
C is positive. However,as 8 -82 < 8,the net influence
may either be strong or weak. We conclude that the
net influence of A on C is ambiguously positive. So,
+ +1 EB-2 = +7. Similar observations apply to various
other trade-offs.
·

4.3

THE PROPERTY OF SYMME TRY

The sign-propagation algorithm for inference with a
regular qualitative network explicitly builds on the
properties of symmetry,transitivity,and parallel com­
position of influences. We have so far addressed the
0- and E&-operators and have thereby guaranteed the
transitivity and parallel-composition properties of in­
fluences. We now focus on the property of symmetry
to enable the propagation of qualitative influences over
a single arc in the network in both directions.
In a regular qualitative probabilistic network, the
property of symmetry guarantees that, if a node A
exerts an influence on a node B, then node B exerts
an influence of the same sign on node A. In an en­
hanced qualitative network, an influence and its re­
verse also are both positive or both negative. The
symmetry property,however, does not hold with re­
gard to the relative magnitudes of an influence and its
reverse. The reverse of a strongly positive qualitative
influence may be a weakly positive influence, and vice
versa. As the relative magnitude of the reverse of a
positive influence is unknown, the reverse is taken to
be ambiguously positive. A similar observation applies
to the reverse of a negative influence.
To conclude, we would like to mention that an alter­
native way of ensuring that the property of symmetry
holds in an enhanced qualitative network is to spec-

566

Renooij and van der Gaag

ify the signs of all reversed influences explicitly; these
signs will then have to be elicited from the domain
experts involved in the network's construction.
4.4

TRADE-OFF RESOLUTION: AN
EXAMPLE

In the previous sections, we have argued that the
properties of symmetry, transitivity, and parallel com­
position of influences hold in an enhanced qualita­
tive probabilistic network. The sign-propagation algo­
rithm from Section 2 therefore is generalised straight­
forwardly to apply to enhanced qualitative networks:
instead of the regular®- and E&-operators, it just has to
use the enhanced operators for propagating and com­
bining influences. We illustrate the application of the
algorithm by means of our running example.
Example 4.5 We consider once again the qualitative
Antibiotics network from Figure 3. Suppose that we
enter the sign + for node A. Node A propagates this
sign towards node T. Node T thereupon receives the
sign + ®- = - and sends it to node D. Node D in
turn receives the sign -® + = - ; it does not pass on
any sign. Node A also sends its positive sign to node
F. Node F receives the sign + ® + = + and passes
it on to node D. Node D then receives the additional
sign +® + = +. The two signs that enter node D are
combined and result in the ambiguous sign - E& + =?
.

Now, consider the enhanced Antibiotics network from
Figure 4. We enter the sign ++0 for node A; this sign
reflects a positive observation for A. We once again
apply the sign-propagation algorithm, this time using
our enhanced operators. Recall that initially all influ­
ences' signs have a multiplication-index of 1. Node A
propagates its sign towards node T. Node T receives
the sign + +0 ® - -1 = --1 and sends it to node
D. Node D receives - -1 0 + +1 = --2. Node A
sends its sign ++0 also to node F. Node F there­
upon receives the sign + +0 ®+1 = +1 and passes it
on to node D. Node D receives the additional sign
+1 ® +1 = +2. Combining the two signs that enter
node D results in the sign - -2 E&+2 = -? · Note
that, while in the regular qualitative network the rep­
resented trade-off cannot be resolved and results in an
ambiguous influence, the trade-off is resolved in the
enhanced qualitative probabilistic network. 0
5

Conclusions and further research

One of the major drawbacks of qualitative probabilis­
tic networks is their coarse level of detail. Although
it may suffice for some problem domains, the coarse­
ness of detail may lead to unresolved trade-offs dur­
ing inference in other domains. To provide for re-

solving trade-offs, we have enhanced the formalism
of qualitative probabilistic networks by distinguish­
ing between strong and weak influences. We have
enhanced the multiplication and addition operators
to guarantee the transitivity and parallel-composition
properties of influences, thereby generalising the basic
sign-propagation algorithm to apply to enhanced qual­
itative networks. We have shown that our formalism
provides for resolving trade-offs in a qualitative, yet
efficient way.
Our formalism of enhanced qualitative probabilistic
networks does not provide for resolving all possible
trade-offs during inference. Since qualitative abstrac­
tions do not have the same expressiveness as numerical
belief networks, it is hardly likely that any qualitative
abstraction will be able to resolve all possible trade­
offs. We suspect, however, that in our enhanced signs
more information is hidden than we currently exploit
upon multiplying and adding influences. In the near
future, we will therefore investigate whether still more
trade-offs can be resolved within the framework of our
enhanced qualitative networks. In addition, we will
address the non-associativity of the addition-operator
for influences and design heuristics to forestall unnec­
essary ambiguous results. To conclude, we will extend
our formalism to incorporate non-binary variables.



Qualitative probabilistic networks have been de­
signed for probabilistic reasoning in a qualita­
tive way. Due to their coarse level of represen­
tation detail, qualitative probabilistic networks
do not provide for resolving trade-offs and typ­
ically yield ambiguous results upon inference.
We present an algorithm for computing more in­
sightful results for unresolved trade-offs. The al­
gorithm builds upon the idea of using pivots to
zoom in on the trade-offs and identifying the in­
formation that would serve to resolve them.
1

INTRODUCTION

Qualitative probabilistic networks were introduced in the
early 1990s for probabilistic reasoning with uncertainty in
a qualitative way [Wellman, 1990]. A qualitative prob­
abilistic network encodes variables and the probabilistic
relationships between them in a directed acyclic graph.
The encoded relationships basically represent influences on
probability distributions. Each of these influences is sum­
marised by a qualitative sign indicating the direction of
shift in one variable's distribution occasioned by a shift in
another variable's distribution. For probabilistic inference
with qualitative networks, an elegant algorithm based upon
the idea of propagating and combining signs is available
[Druzdzel & Henrion, 1993a] .
Qualitative probabilistic networks capture the relationships
between their variables at a coarse level of representation
detail. As a consequence, these networks do not provide
for resolving trade-offs, that is, for establishing the net re­
sult of two or more conflicting influences on a variable's
probability distribution. If trade-offs are represented in a
qualitative network, then probabilistic inference will typi­
cally yield ambiguous results. Once an ambiguity arises,
it will spread throughout most of the network upon infer­
ence, even if only a very small part of the network is truly
ambiguous.

The issue of dealing with trade-offs in qualitative prob­
abilistic networks has been addressed before by several
researchers. S. Parsons has introduced, for example, the
concept of categorical influences. A categorical influence
is either an influence that serves to increase a probability
to 1 or an influence that decreases a probability to 0, re­
gardless of any other influences, and thereby resolves any
trade-off in which it is involved [Parsons, 1995] . C.-L. Liu
and M. P. Wellman have designed a method for resolving
trade-offs based upon the idea of reverting to numerical
probabilities whenever necessary [Liu & Wellman, 1998].
S. Renooij and L.C. van der Gaag have enhanced the ba­
sic formalism of qualitative probabilistic networks by dis­
tinguishing between strong and weak influences. Trade­
off resolution during inference is then based on the idea
that strong influences dominate over conflicting weak ones
[Renooij & Van der Gaag, 1999] . These approaches to
trade-off resolution are all based on a refinement of the rep­
resentation used in the basic formalism.
In this paper, we present a new algorithm for dealing with
trade-offs in qualitative probabilistic networks. Rather than
resolving trade-offs by providing for a finer level of rep­
resentation detail, our algorithm identifies the information
that would serve to resolve the trade-offs present in a quali­
tative probabilistic network. From this information, a more
insightful result than ambiguity is constructed.
Our algorithm for dealing with trade-offs builds upon the
idea of zooming in on the part of a qualitative probabilis­
tic network where the actual trade-offs reside. After a new
observation has been entered into the network, probabilis­
tic inference will provide the sign of the influence of this
observation on the variable of interest, given previously en­
tered observations. If this sign is ambiguous, then there are
trade-offs present in the network. In fact, a trade-off must
reside along the reasoning chains between the observation
and the variable of interest. Our algorithm isolates these
reasoning chains to constitute the part of the network that
is relevant for addressing the trade-offs present. From this
relevant part, an informative result is constructed for the
variable of interest in terms of values for the variables in-

516

UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS 2000

volved and the relative strengths of the influences between
them.
We believe that qualitative probabilistic networks can play
an important role in the construction of quantitative proba­
bilistic networks for real-life application domains, as well
as for explanation of their reasoning processes. The con­
struction of a probabilistic network typically sets out with
the construction of the network's digraph. As the assess­
ment of the various probabilities required is a far harder
task, it is performed only when the network's digraph is
considered robust. Now, by assessing signs for the influ­
ences modelled in the digraph, a qualitative network is ob­
tained that can be exploited for studying the projected prob­
abilistic network's reasoning behaviour prior to the assess­
ment of its probabilities. For this purpose, algorithms are
required that serve to derive as much information as possi­
ble from a qualitative probabilistic network. We look upon
our algorithm as a first step to this end.
The paper is organised as follows. In Section 2, we pro­
vide some preliminaries concerning qualitative probabilis­
tic networks. In Section 3, we introduce our algorithm for
zooming in on trade-offs informally, by means of an ex­
ample. The algorithm is discussed in further detail in Sec­
tion 4. The paper ends with some concluding observations
in Section 5.
2

PRELIMINARIES

A qualitative probabilistic network encodes the statistical
variables from a domain of application and the probabilis­
tic relationships between them in a directed acyclic graph
G
(V(G) , A(G) ) . Each node in the set V(G) repre­
sents a statistical variable. Each arc in the set A(G) can be
looked upon as expressing a causal influence from the node
at the tail of the arc on the node at the arc's head. More for­
mally, the set of arcs captures probabilistic independence
among the represented variables. We say that a chain be­
tween two nodes is blocked if it includes either an observed
node with at least one outgoing arc or an unobserved node
with two incoming arcs and no observed descendants. If
all chains between two nodes are blocked, then these nodes
are said to be d-separated and the corresponding variables
are considered conditionally independent given the entered
observations [Pearl, 1988] .
=

A qualitative probabilistic network associates with its di­
graph G a set � of qualitative influences and synergies
[Wellman, 1990] . A qualitative influence between two
nodes expresses how the values of one node influence the
probabilities of the values of the other node. A positive
qualitative influence of node A on its successor B expresses
that observing higher values for A makes higher values for
B more likely, regardless of any other direct influences on
B; the influence is denoted S6(A, B) , where'+' is the in­
fluence's sign. A negative qualitative influence, denoted

S(j, and a zero qualitative influence, denoted S2,, are de­
fined analogously. If the influence of node A on node B
is not monotonic or unknown, we say that it is ambiguous,
denoted Sb(A, B) .
The set of influences of a qualitative probabilistic net­
work exhibits various properties [Wellman, 1990] . The
property of symmetry states that, if the network includes
the influence Sb(A, B) , then it also includes Sb(B, A) ,
J E { +, -, 0, ?}. The property of transitivity asserts that
qualitative influences along a simple chain that specifies at
most one incoming arc for each node, combine into a single
influence with the ®-operator from Table 1. The property
of composition asserts that multiple influences between two
nodes along parallel chains combine into a single influence
with the EB-operator.
Table 1: The ®- and EB-operators.
0
+

+
+

0
?

0
?

+
0
?

0
0
0
0
0

?
?
0
?

EB
+

+
+
?

0

?

0
?

+
?

0
?

?
?
?

?

In addition to influences, a qualitative probabilistic net­
work includes synergies that express how the value
of one node influences the probabilities of the values
of another node in view of a value for a third node
[Druzdzel & Henrion, 1993b] . A negative product synergy
of node A on node B (and vice versa) given the value c for
their common successor C, denoted X0 ({A, B}, c) , ex­
presses that, given c, higher values for A render higher val­
ues for B less likely. Positive, zero, and ambiguous prod­
uct synergies are defined analogously. A product synergy
induces a qualitative influence between the predecessors of
a node upon observation of that node; the induced influence
is coined an intercausal influence. In this paper, we assume
that induced intercausal influences are added to a qualita­
tive probabilistic network's graph as undirected edges.
procedure PropagateSign(from,to,message):

sign[to] � sign[to] EB message;
for each (induced) neighbour Vi of to
do linksign � sign of (induced) influence
between to and Vi;
message � sign[to] 0 linksign;
if Vi #from and Vi � Observed
and sign[Vi] =I= sign[Vi] EB message
then PropagateSign(to, Vi,message)

Figure 1: The Sign-propagation Algorithm.
For probabilistic inference with a qualitative probabilis­
tic network, an elegant algorithm is available from
M.J. Druzdzel and M. Henrion (1993a); this algorithm is
summarised in pseudocode in Figure 1. The basic idea of
the algorithm is to trace the effect of observing a node's
value on the other nodes in a network by message-passing

UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS

between neighbouring nodes. For each node, a node sign
is determined, indicating the direction of change in the
node's probability distribution occasioned by the new ob­
servation given all previously observed node values. Ini­
tially, all node signs equal ' 0'. For the newly observed
node, an appropriate sign is entered, that is, either a '+'
for the observed value true or a '-' for the value false,
by calling PropagateSign(observed node, observed node, sign).
Each node receiving a message updates its sign and sub­
sequently sends a message to each neighbour that is not
d-separated from the observed node and to every node on
which it exerts an induced intercausal influence. The sign
of this message is the 0-product of the node's (new) sign
and the sign of the influence it traverses. This process is re­
peated throughout the network, building on the properties
of symmetry, transitivity, and composition of influences.
The process repeatedly visits each node that needs a change
of sign. Since a node can change sign at most twice, once
from 0 to +or-, and then only to ?, each node is visited
at most twice. The process is therefore guaranteed to halt.
3

OUTLINE OF THE ALGORITHM

If a qualitative probabilistic network models trade-offs, it
will typically yield ambiguous results upon inference with
the sign-propagation algorithm. From Table 1, we have
that whenever two conflicting influences on a node are
combined with the EEl-operator, an ambiguous sign will re­
sult. Once an ambiguous sign is introduced, it wil.l spread
throughout most of the network and an ambiguous sign is
likely to result for the node of interest. By zooming in on
the part of the network where the actual trade-offs reside
and identifying the information that would serve to resolve
these trade-offs, a more insightful result can be constructed.
We illustrate the basic idea of our algorithm to this end.

2000

517

Figure 3: The Result of Propagating '+' for NodeH.
has been observed for the node H and that we are inter­
ested in its influence on the probability distribution of node
A. Tracing the influence of the node sign'+' for nodeH,
indicating its observed value, on every node's distribution
by means of the sign-propagation algorithm, results in the
node signs shown in Figure 3. These signs reveal that at
least one trade-off must reside along the reasoning chains
between the observed node H and the node of interest A.
These chains together constitute the part of the network that
is relevant for addressing the trade-offs that have given rise
. to the ambiguous result for node A; we term this part the
relevant network. For the example, the relevant network is
shown in Figure 4 below the dashed line. Our algorithm
now isolates this relevant network for further investigation.
To this end, it deletes from the network all nodes and arcs
that are connected to, but no part of the reasoning chains
fromH to A.
A relevant network for addressing trade-offs typically in­
cludes many nodes with ambiguous node signs. Often,
however, only a small number of these nodes are actually
involved in the trade-offs that have given rise to the am­
biguous result for the node of interest. Figures 3 and 4,
for example, reveal that, while the nodes A, B, and C have
ambiguous node signs, the influences between them are not
conflicting. In fact, every possible unambiguous node sign
sign[C] for node C would result in the unambiguous sign
sign[C]0 ( ( +0-) EB-) sign[C]0- for node A. For
addressing the trade-offs involved, therefore, the part of the
relevant network between node C and node A can be dis­
regarded. Node C in fact separates the part of the relevant
network that contains trade-offs from the part that does not.
We call node C the pivot node for the node of interest.
=

Figure 2: The Example Qualitative Probabilistic Network.
As our running example, we consider the qualitative proba­
bilistic network from Figure 2. Suppose that the value true

In general, the pivot node in a relevant network is a node
with an ambiguous sign for which every possible unam­
biguous sign would uniquely determine an unambiguous
sign for the node of interest; in addition, no other node hav­
ing this property resides on an unblocked chain from the

518

UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS 2000

Figure 5: The Construction of a Sign for Node C.
network, the nodes from the resolution frontier exert two
separate influences on the pivot node C: the influence from
node I via node Don C and the influence from G on C.
For the sign 8 of the influence of node I via node Don C
and for the sign o' of the influence of G on C, we find that

8
Figure 4: The Relevant Network, below the Dashed Line.
observed node to the pivot node, that is, the pivot node is
the node with this property "closest" to the observed node.
Note that every network includes such a node. Our algo­
rithm now selects from the relevant network the pivot node
for the node of interest.
From the definition of pivot node, it can be shown that there
must be two or more different reasoning chains in the rel­
evant network from the observed node to the pivot node;
the net influences along these reasoning chains, moreover,
must be conflicting or ambiguous. To resolve the ambiguity
at the pivot node, the relative strengths of the various influ­
ences as well as the signs of some of the nodes involved
need be known. From Figures 3 and 4, for example, we
have that node I lies at the basis of the ambiguous sign for
the pivot node C. Note that it receives an ambiguous node
sign itself as a result of two conflicting (non-ambiguous)
influences. An unambiguous node sign for node I would
not suffice to fix an unambiguous sign for node C. Even
knowledge of the relative strengths of the two conflicting
influences from node I on the pivot node would not suf­
fice for this purpose, however: a positive node sign for
node I, for example, would still cause node G, residing
on one of the reasoning chains from I to C, to receive an
ambiguous node sign, which in tum gives rise to an am­
biguous influence on C. Node G therefore also lies at the
basis of the ambiguity at the pivot node. Now, every com­
bination of unambiguous node signs for the nodes G and
I would render the separate influences on the pivot node
unambiguous. Knowledge of the relative strengths of these
influences would suffice to determine an unambiguous sign
for the pivot node. We call a minimal set of nodes having
this property the resolutionfrontier for the pivot node.
In terms of signs for the nodes from the resolution frontier,
our algorithm now constructs a (conditional) sign for the
pivot node by comparing the relative strengths of the vari­
ous influences exerted on it upon inference. In the example

=

=

sign[I] 0 81 0 83
sign[I]0 +

8'

=

=

sign[G] 0 84
sign[G]0-

where Di, i
1, 3, 4, are as in Figure 5. For the node sign
sign[C] of the pivot node, the algorithm now constructs the
=

following result:
if 181 2: 10'1, then sign[C]

=

8, else sign[C]

=

8';

where 181 denotes the strength of the sign 8. So, if the two
influences on node C have opposite signs, then their rela­
tive strengths will determine the sign for node C. The sign
of the node of interest A then follows directly from the node
sign of C.
4

SPLITTING UP AND CONSTRUCTING
SIGNS

In this section we detail some of the issues involved in our
algorithm for pivotal pruning of trade-offs. In doing so, we
assume that a qualitative probabilistic network does not in­
clude any ambiguous influences, that is, ambiguous node
signs upon inference result from unresolved trade-offs. We
further assume that observations are entered into the net­
work one at a time. We also assume that sign propagation
resulted in an ambiguous sign for the network's node of in­
terest. For ease of reference, Figure 6 summarises the zoom
algorithm in pseudocode.
procedure PivotalPruning(Q):

Qrel +-- ComputeRelevantNetwork(Q);
pivot+-- ComputePivot(Qrel);
ConstructResults(Qrel ,pivot)

Figure 6: The Basic Algorithm.
In detailing the algorithm, we focus attention on identify­
ing the relevant part of a qualitative probabilistic network
along with its pivot node and on constructing from these an
informative result for the node of interest.

UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS

4.1

IDENTIFYING THE RELEVANT NETWORK

Our algorithm identifies from a qualitative probabilistic
network the relevant part for addressing the trade-offs that
have resulted in an ambiguous sign for the node of inter­
est. We begin by formally defining the concept of relevant
network.
Definition 1 Let Q
(G, �) be a qualitative probabilistic
network as defined in Section 2. Let 0 be the set of previ­
ously observed nodes in Q, let E be the node for which new
evidence has become available, and let I be the network's
node of interest. The relevant network for E and I given
0 is the qualitative probabilistic network Qrel
(G', �')
such that
=

=

•

•
•

V(G') consists of all nodes that occur on a chain from

E to I that is not blocked by 0;

A(G')

=

(V(G')

x

V(G') ) n A(G) ; and

�' consists of all qualitative influences and synergies
from � that involve nodes from G' only.

The concept of relevance has been introduced before, most
notably for quantitative probabilistic networks (see for ex­
ample [Druzdzel & Suermondt, 1994, Shachter, 1998]). In
fact, for quantitative and qualitative probabilistic networks
various different concepts of relevance have been distin­
guished. For a node of interest I, previously observed
nodes 0, and a newly observed nodeE, we say that a node
N is
•

structurally relevant to I, if N is not d-separated from
I given 0 U {E};

•

•

519

computationally nor dynamically relevant to the node of
interest A.
The concept of dynamic relevance was introduced to de­
note the nodes constituting the reasoning chains between a
newly observed node and a node of interest in a probabilis­
tic network [Druzdzel & Suermondt, 1994]. The set of all
nodes that are dynamically relevant to the node of interest
I and the newly observed nodeE, given the previously ob­
served nodes 0, can in fact be shown to induce the relevant
network forE and I given 0, as defined in Definition 1.
From a qualitative probabilistic network, the set of dy­
namically relevant nodes can be established by first deter­
mining all nodes that are computationally relevant to the
node of interest I and then removing the nodes that are not
on any reasoning chain from the newly observed node E
to I. For computing the set of all computationally rele­
vant nodes, the efficient Bayes-Ball algorithm is available
from R.D. Shachter (1998). The algorithm takes for its in­
put a probabilistic network, the set of all observed nodes
0 U {E}, and the node of interest I; it returns the sets
of nodes that are computationally relevant, or requisite,
to I. From the set of computationally relevant nodes, all
nodes that are not on any reasoning chain from the newly
observed node E to the node of interest I need be iden­
tified; these nodes are termed nuisance nodes for E and
I. An efficient algorithm is available for identifying these
nodes [Lin & Druzdzel, 1997]. The algorithm takes for its
input a computationally relevant network, the set of previ­
ously observed nodes 0, the newly observed node E, and
the node of interest I; it returns the set of nuisance nodes
for E and I. The algorithm for computing the relevant
part of a qualitative probabilistic network is summarised
in pseudocode in Figure 7.
function ComputeRelevantNetwork(Q):

computationally relevant to I, if the (conditional)
probabilities for N are required for computing the
posterior probability distribution for I given the ob­
servations for 0 U {E}; and

Qrel

requisites+--- BayesBaii(G, 0 U {E}, I);
V(G)+--- (V(G) \requisites) U {E};
A(G) +--- (V(G) x V(G)) n A(G);
nuisances+--- ComputeNuisanceNodes(G);
V(G)+--- V(G) \ nuisances;
A(G)+--- (V(G) x V(G)) n A(G);
L1 +--- {all influences and synergies from L1 in G};
return Qrel
(G, L1)

dynamically relevant to I andE, if N partakes in the
impact of E on I in the presence of the observations
forO.

In our example qualitative network, node D is structurally
relevant, computationally relevant, and dynamically rele­
vant to the node of interest A. NodeE is structurally rele­
vant to node A yet neither computationally nor dynamically
relevant. Node J is structurally irrelevant to the observed
nodeH, as is also evidenced by its node sign '0' upon in­
ference; it is both structurally and computationally relevant
to the node of interest A, yet dynamically irrelevant. The
newly observed node H is d-separated from A by its be­
ing observed. It therefore is not structurally relevant to A;
it is computationally as well as dynamically relevant to A,
however. Node M, to conclude, is neither structurally nor

2000

=

Figure 7: The Algorithm for Computing the Relevant Net­
work.
4.2

IDENTIFYING THE PIVOT NODE

After establishing the relevant part of a qualitative proba­
bilistic network for addressing the trade-offs present, our
algorithm identifies the pivot node. The pivot node serves
to separate the part of the relevant network that contains
the trade-offs that have given rise to the ambiguous sign
for the node of interest, from the part that does not con-

UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS 2000

520

tain these trade-offs. The pivot node will allow for further
focusing. We recall that the pivot node is a node with an
ambiguous node sign, for which every possible unambigu­
ous sign would uniquely determine an unambiguous sign
for the node of interest. We define the concept of pivot
node more formally.

Let Q
(G, � ) be a relevant qualitative
probabilistic network; let 0 be the set of previously ob­
served nodes, let E be the newly observed node, and let I
be the network's node of interest, as before. The pivot node
for I and E is a node P E V (G) such that

Definition 2

•

Sb(E, P)

•

Sb (P, I)

•

=

E
E

� with o

=

'?';

� with <5' =/:- '?';and

there does not exist a node P' with the above prop­
erties that resides on a chain from E to P that is not
blocked by 0.

The pivot node in a relevant qualitative probabilistic net­
work has various convenient properties. Before discussing
these properties, we briefly review the concept of an ar­
ticulation node from graph theory. In a digraph, an ar­
ticulation node is a node that upon removal along with
its incident arcs, makes the digraph fall apart into vari­
ous separate components. In the digraph of our example
network, as shown in Figure 2, the articulation nodes are
the nodes C, D, H, I, and L; for the relevant network, de­
picted in Figure 4, node C is the only articulation node,
however. Articulation nodes are identified using a depth­
first search algorithm; for details, we refer the reader to
[Cormen et al., 1990]. Theorems 1 and 2 now state impor­
tant properties of a pivot node that allow for its identifica­
tion.
Theorem 1

Theorem 2 Let Q
(G, � ) be a relevant qualitative
probabilistic network; let E and I be as before. The pivot
node for I and E is unique.
=

Proof

(sketch). From Definition 1 we have that the rele­
vant network consists of only nodes that reside on an un­
blocked chain from the newly observed node E to the node
of interest I. From the definition of articulation node, we
further have that every such chain must include all articula­
tion nodes in the relevant network. In fact, every reasoning
chain from E to I visits the articulation nodes in the same
order. From Definition 2 we have that no two pivot nodes
can reside on the same unblocked chain to the node of in­
terest. We conclude that the pivot node is unique. 0

From the proof of Theorem 2 we have that the articula­
tion nodes in a relevant network allow a total ordering. We
number the articulation nodes, together with the node of in­
terest I, from I, for the node closest to the newly observed
node, to m, for the node of interest. The pivot node now
is the node with the lowest ordering number for which an
unambiguous sign would uniquely determine an unambigu­
ous sign for the node of interest. To identify the pivot node,
our algorithm starts with investigating the articulation node
closest to the node of interest; this node is numbered m - 1.
The algorithm investigates whether an unambiguous sign
for this candidate pivot node would result in an unambigu­
ous sign for the node of interest upon sign propagation. By
propagating a '+' from the candidate pivot node to the node
of interest I, the node sign resulting for I is the sign of the
net influence of the candidate pivot node on I. If this sign is
ambiguous, then the node of interest itself is the pivot node.
Otherwise, the algorithm proceeds by investigating the ar­
ticulation node numbered m 2, and so on. The algorithm
is summarised in pseudocode in Figure 8.
-

function ComputePivot(Q):

candidates+- {I} U FindArticulationNodes(G);
order the nodes from candidates from 1 to m;
return FindPivot(m- 1);

Let Q
(G, � ) be a relevant qualitative
probabilistic network; let E be the newly observed node
and let I be the node of interest. The pivot node for I and
E is either the node of interest I or an articulation node in
=

function FindPivot(i): pivot

G.

PropagateSign(node i,node i,'+')
if sign[node i + 1]
'?'
then return node i + 1;
else FindPivot(i
1)

Proof (sketch).

By definition we have that every possible
unambiguous node sign for the pivot node determines an
unambiguous sign for the node of interest I. It will be ev­
ident that node I itself satisfies this property. Either the
node of interest I or another node on an unblocked chain
from E to I, therefore, is the pivot node. Now, suppose
that node I is not the pivot node. As a sign for the pivot
node uniquely determines the sign for I, we conclude that
all influences exerted upon I must traverse the pivot node.
Every unblocked chain from E to I, therefore, must include
the pivot node. As a consequence, removing the pivot node
along with its incident arcs from the relevant network will
cause the network to fall apart into separate components.
We conclude that the pivot node is an articulation node. 0

pivot

=

-

Figure 8: The Algorithm for Computing the Pivot Node.
4.3

CONSTRUCTING RESULTS

From its definition, we have that there must be two or more
different reasoning chains in the relevant network from the
newly observed node to the pivot node; the net influences
along these reasoning chains are conflicting or ambiguous.
Our algorithm focuses on the ambiguity at the pivot node
and identifies the information that would serve to resolve
it. For this purpose, the algorithm zooms in on the part

UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS 2000

of the relevant network between the newly observed node
and the pivot node; we call this part the pruned relevant
network. Note that the pruned relevant network is readily
computed by exploiting the property that the pivot node is
an articulation node. From the pruned relevant network, the
algorithm first selects the so-called candidate resolvers.
Definition 3 Let Q
(G, �) be a relevant qualitative
probabilistic network; let E be the newly observed node
and let I be the network's node of interest. Let P be the
pivot node for I and E. Now, let Qpru
(G', �1) be the
pruned relevant network for P. A candidate resolver for P
is a node Ri E V(G') , Ri =f. P, such that
=

where j8j once again is used to denote the strength of the
sign 8. We would like to note that as, in general, the resolu­
tion frontier includes a small number of nodes, the number
of signs to be computed for the pivot node is limited. In ad­
dition, we note that the process of constructing informative
results can be repeated recursively for the nodes in the pivot
node's resolution frontier, until the newly observed node is
reached. The basic algorithm is summarised in pseudocode
in Figure 9.
procedure ConstructResults(Q,pivot):

=

Ri

•

sign[Ri] ='?'and in-degree[Ri J 2: 2.

=

Qpru +- ComputePrunedNetwork(Q,pivot);
candidates +- ComputeCandidates(Qpru,pivot);
output ComputeResults(Qpru,pivot,candidates)

E, or

•

function

=

From among the candidate resolvers in the pruned relevant
network, our algorithm now constructs the resolution fron­
tier. We recall that the resolution frontier is a minimal set of
nodes for which unambiguous node signs would uniquely
determine the signs of the separate influences on the pivot
node.

function ComputeFrontier(pivotfrontier,
candidates): frontier
for all Vi

such that (Vi,pivot) or (pivot, Vi)
on a reasoning chain from E
do if Vi E candidates
thenfrontier +-frontier U {Vi}
else ComputeFrontier(Vi Jrontier,candidates)

=

The resolution frontier can be constructed by recursively
traversing the various reasoning chains from the pivot node
back to the observed node E and checking whether the
nodes visited are candidate resolvers.
Once the resolution frontier has been identified from the
pruned relevant network, the algorithm constructs a (con­
ditional) sign for the pivot node in terms of signs for the
nodes from the frontier. Let F be the resolution frontier
for the pivot node P. For each resolver Ri E F, let s;,
j 2: 1, denote the signs of the various different reasoning
chains from Ri to the pivot node. For each combination of
node signs sign[Ri], Ri E F, the sign of the pivot node is
computed to be
if

I EB(sign[R;]®s;

)=+

I EB(sign[R;]®s; )
then sign[PJ

=

=-

+,

( sign[Ri]

l8l

s}) 12:

( sign[Ri]

l8l

s}) I

else sign[P]

=

-

(I)

ComputeResults(Qpru.pivot,candidates):

frontier +- ComputeFrontier(pivot, 0,candidates);
for all Ri E frontier
do determines; , j 2 1;
for all R; Efrontier and sign[R;]
+,­
do return inequality (1);

The candidate resolvers for the pivot node are easily iden­
tified from the pruned relevant network.

Definition 4 Let Q
(G, �) be a pruned relevant quali­
tative probabilistic network; let E and I be as before. Let
P be the pivot node for I and E, and let R be the set of
candidate resolvers for P, as defined in Definition 3. The
resolution frontier F for P is the maximal subset of R such
that for each candidate resolver Ri E F there exists at
least one unblocked chain from E via Ri to P such that no
node Rj E R resides on the subchain from Ri to P.

521

Figure 9: The Algorithm for Constructing Results.
To conclude, we would like to note that for computing in­
formative results for a relevant network's pivot node, the
pruned network can be even further restricted. To this end,
a so-called boundary node can be identified for the newly
observed node. The boundary node is the articulation node
closest to the node of interest that has an unambiguous node
sign after propagation of the observation entered. Con­
structing results can then focus on the part of the relevant
network between the pivot node and the boundary node.
Moreover, if the thus pruned network includes many artic­
ulation nodes, it may very well be that trade-offs exist be­
tween the articulation nodes numbered k 1 and k, but not
between k and k + 1. Distinguishing between these com­
ponents is straightforward and allows for further focusing
on the actual trade-offs involved in inference.
-

5

CONCLUSIONS

We have presented a new algorithm for dealing with trade­
offs in qualitative probabilistic networks. Rather than re­
solve trade-offs by providing for a finer level of representa­
tion detail, our algorithm identifies from a qualitative prob­
abilistic network the information that would serve to re­
solve the trade-offs present. For this purpose, the algorithm
zooms in on the part of the network where the actual trade­
offs reside and identifies the pivot node for the node of in-

UNCERTAINTY IN ARTIFICIAL INTELLIGENCE PROCEEDINGS 2000

522

terest. The sign of the pivot node uniquely determines the
sign of the node of interest. For the pivot node, a more
informative result than ambiguity is constructed in terms
of values for the node's resolvers and the relative strengths
of the influences upon it. This process of constructing in­
formative results can be repeated recursively for the pivot
node's resolvers.
As we have already mentioned in our introduction, we be­
lieve that qualitative probabilistic networks can play an im­
portant role in the construction of quantitative networks for
real-life application domains, as well as for explanation of
their reasoning processes. For the purpose of explanation,
qualitative probabilistic networks have been proposed be­
fore. The concept of pivot node for zooming in on trade­
offs and constructing insightful results for a network's node
of interest is a very powerful concept to enable explanation
of complex reasoning processes in quantitative probabilis­
tic networks.
Acknowledgments

This work was partially supported by the EPSRC under
grant GR/L84117 and a Ph.D. studentship.



Straightforward sensitivity analysis of a probabilistic net­
work is highly time-consuming. The probability of interest

With the advance of efficient algorithms for

sen­
sitivity analysis of probabilistic networks, study­

has to be computed from the network for a number of devi­

ing the sensitivities revealed by real-life net­

eter. Even for a rather small network, this easily requires

works is becoming feasible. As the amount of
data yielded by an analysis of even a moderately­
sized network is already overwhelming, effective
methods for extracting relevant information from
these data are called for.
to study the

derivatives

One such method is

of the sensitivity func­

tions yielded, to identify the parameters that upon
variation are expected to have a large effect on
a probability of interest. We further propose to
build upon the concept of

admissible deviation,

which captures the extent to which a parameter
can be varied without inducing a change in the
most likely outcome.

We illustrate these con­

cepts by means of a sensitivity analysis of a real­
life probabilistic network in the field of oncology.

ations from the original assessment for every single param­
thousands of propagations.

Recently, however, efficient

algorithms for sensitivity analysis have become available,
rendering analysis of real-life probabilistic networks feasi­
ble [2, 3]. These algorithms build upon the observation that
the sensitivity of a probability of interest to parameter vari­
ation complies with a simple mathematical function; this

sensitivity function

basically expresses the probability of

interest in terms of the parameter under study. Computing
the constants for these sensitivity functions requires just a
limited number of propagations.
Sensitivity analysis of a real-life probabilistic network
tends to result in a huge amount of data. For example, for a
real-life network in the field of oncology, comprising some
lOOO parameters, we found that a single analysis yielded
close to 5000 sensitivity functions with two or three con­
stants each. Because the sensitivities exhibited by a prob­

1

abilistic network typically change with evidence, such

Introduction

The numerical parameters for a probabilistic network are
generally estimated from statistical data or assessed by hu­
man experts in the domain of application. As a result of
incompleteness of data and partial knowledge of the do­
main, the assessments obtained inevitably are inaccurate.
Since the outcome of a probabilistic network is built upon
these assessments, it may be sensitive to the inaccuracies
involved and, as a result, may even be unreliable.
The reliability of the outcome of a probabilistic network
can be evaluated by subjecting the network to a

analysis.

an

analysis has to be performed a number of times. For our

sensitivity

In general, sensitivity analysis of a mathematical

model amounts to investigating the effects of inaccuracies
in the model's parameters by systematically varying the
values of these parameters [1]. For a probabilistic network,
sensitivity analysis amounts to varying the assessments for
one or more of its numerical parameters and investigating
the effects on, for example, a probability of interest [2].

network, for example, we conducted over 150 analyses in­
volving data from real patients. For extracting relevant in­
formation from the data thus generated, effective methods
are called for that allow for (automatically) identifying pa­
rameters that are quite influential upon variation.

These

parameters should be selected for further investigation as

the inaccuracies in their assessments are likely to affect the
network's outcome.
In her work on sensitivity analysis of probabilistic net­
works, K. Blackmond Laskey introduced the concept of

sensitivity value [4]. The concept builds upon the (par­
derivative of the sensitivity function that expresses the

tial)

network's probability of interest in terms of a parameter

under study: the sensitivity value is the absolute value of
this derivative at the original assessment for the parame­
ter. As currently available algorithms for sensitivity anal­
ysis of probabilistic networks yield the probability of in-

UAI 2001

VAN DER GAAG & RENOOIJ

terest explicitly as a fimction of the parameter under study,
the derivative and its associated sensitivity value are read­
ily determined. In this paper, we study the derivatives of
sensitivity functions and show how sensitivity values can
be used for selecting parameters for further investigation.
In many real-life applications of probabilistic networks, the
outcome of interest is not a probability, but rather the most
likely value of a variable of interest. In a medical applica­
tion, for example, the outcome of interest may be the most
likely diagnosis given a patient's symptoms and signs. For
this type of outcome, the derivative of a sensitivity fimction
and its associated sensitivity value are no longer appropri­
ate for establishing the effect of parameter variation: a pa­
rameter with a large sensitivity value may upon variation
not induce a change in the most likely outcome, while a
parameter with a small sensitivity value may induce such a
change for just a small deviation from its original assess­
ment. To describe the sensitivities of this type of outcome,
we introduce the concept of admissible deviation. This
concept captures the extent to which a parameter can be
varied without inducing a change in the most likely value
for the variable of interest. We show how the concept of
admissible deviation can be used for selecting parameters.
The various concepts introduced in this paper will be illus­
trated by means of a sensitivity analysis of a moderately­
sized real-life probabilistic network in the field of oncol­
ogy. We would like to note that this network exhibits con­
siderable sensitivity to parameter variation. This observa­
tion contradicts earlier suggestions that probabilistic net­
works are highly insensitive to inaccuracies in the assess­
ments for their parameters I 5, 6]. Our results now seem
to indicate that the sensitivities exhibited by probabilistic
networks may vary from application to application.
The paper is organised as follows. In Section 2, we provide
some preliminaries on sensitivity analysis of probabilistic
networks. In Section 3, we briefly discuss the oesophagus
network with which we will illustrate the concepts intro­
duced in the subsequent sections. In Section 4, we study
the derivative of a sensitivity function and its associated
sensitivity value. In Section 5, we introduce the concept
of admissible deviation and discuss its use for extracting
relevant information from sensitivity data. The paper ends
with our conclusions and directions for further research in
Section 6.
2

Preliminaries

Sensitivity analysis of a probabilistic network amounts to
establishing, for each of the network's numerical parame­
ters, the sensitivityfunction that expresses the probability of
interest in terms of the parameter under study. In the sequel,
we denote the probability of interest by Pr( A a I e ) , or
Pr(a I e) for short, where a is a specific value of the vari­
able A of interest and e denotes the available evidence. The
=

531

network's parameters are denoted by x = p(bi I 1r), where
bi is a value of a variable B and 1r is a combination of val­
ues for the parents of B. We write !Pr(ale)(x) to denote the
sensitivity function that expresses the probability Pr(a I e )
in terms of the parameter x; for ease of exposition, we will

often omit or abbreviate the subscript for the fimction sym­
bol f, as long as ambiguity cannot occur.

Upon varying a single parameter x p(bi I 1r) in a prob­
abilistic network, the other parameters p(bi I 1r), j =f:. i,
specified for the variable B need to be co-varied. Each pa­
rameter p(bi I 1r) can thus be seen as a function gj(x) of
the parameter x under study. In the sequel, we assume that
the parameters p(bj I 1r) are co-varied in such a way that
their mutual proportional relationship is kept constant, that
is, a parameter p(bi I 1r ) is co-varied according to
=

if j

=

i

otherwise
for p(bi I 1r) < 1.
Under the assumption of co-variation described above, a
sensitivity function f(x) is a quotient of two functions that
are linear in the parameter x under study [2, 7]; more for­
mally, the function takes the form

f(x)

x+ b
c·x+ d

=a ·

where the constants a, b, c, and d are built from the assess­
ments for the numerical parameters that are not being var­
ied. From this property we have that a sensitivity function
is characterised by at most three constants. These constants
can be feasibly determined from the network, for example
by computing the probability of interest for a small num­
ber of values for the parameter under study and solving the
resulting system of equations [2]. An even more efficient
algorithm that is closely related to junction-tree propaga­
tion, is available from [3].
3

The oesophagus network

The oesophagus network that will be used to illustrate con­
cepts throughout this paper, is a real-life probabilistic net­
work for the staging of oesophageal cancer. The network
was constructed and refined with the help of two experts
in gastrointestinal oncology from the Netherlands Cancer
Institute, Antoni van Leeuwenhoekhuis, and is destined for
use in clinical practice [8].
As a consequence of a lesion of the oesophageal wall, a
tumour may develop in a patient's oesophagus. The char­
acteristics of the tumour, such as its location in the oe­
sophagus and its macroscopic shape, influence the tumour's
prospective growth. The tu±nour typically invades the oe­
sophageal wall and upon further growth may affect neigh-

VAN DER GMG & RENOOIJ

532

UAI 2001

\..Gutro-eirrami

�--��--.��F��

""""""""'

-:'

I
...
.
--

CT.­

': "

Figure 1: The oesophagus network.
bouring organs. In time, the tumour may give rise to lym­
phatic and haematogenous metastases. The characteristics,
depth of invasion, and extent of metastasis of the cancer
largely influence a patient's life expectancy and are indica­
tive of the effects and complications to be expected from
the various therapeutic alternatives. The three factors are
summarised in the stage of the cancer, which can be ei­
ther I, IIA, liB, III, IVA or !VB, in the order of progressive
disease. To establish the stage of a patient's cancer, typi­
cally a number of diagnostic tests are performed, ranging
from biopsies of the primary tumour to gastroscopic and
endosonographic examinations of the oesophagus.
The oesophagus network is depicted in Figure 1. It cur­
rently includes4 2 variables. The number of values per vari­
able ranges between two and six, with an average of 3.4.
The number of incoming arcs per variable ranges between
zero and three with an average of 1.7; the average number
of outgoing arcs is 2.5, with a minimum of zero and a maxi­
mum of 11. For the network, a total of932 probabilities are
specified. The variable with the largest number of proba­
bilities, 144 , models the stage of the cancer; this variable is
deterministic. The largest number of probabilities specified
for a non-deterministic variable is 80.
Building upon the concepts outlined in Section 2, we per­
formed a sensitivity analysis of the oesophagus network.
We took the probability of a specific stage for the proba­
bility of interest. As six different stages are defined, we
performed six separate analyses, each time focusing on an-

other stage. Of the prior network, that is, the network with­
out any evidence entered, we found 206 of the 932 param­
eters to be influential upon variation. For these parameters,
the analyses yielded a total of 1236 sensitivity functions
with two or three constants each. Because a network's
sensitivities typically change with evidence, we repeated
the analysis with data entered from 156 patients diagnosed
with oesophageal cancer. The number of data entered per
patient ranged between 6 and 21, with an average of 14 .8.
The parameters that we found to be influential upon vari­
ation differed between patients. The number of influential
parameters also differed considerably and was found to be
as high as 826.
4

The derivative and its sensitivity value

For extracting relevant information from the huge amount
of sensitivity data that is typically generated from a proba­
bilistic network, effective methods are needed. In this sec­
tion, we discuss a method for this purpose that is based
on the derivative of a sensitivity function and its associated
sensitivity value. This method provides for selecting pa­
rameters that upon variation have a large effect on a proba­
bility of interest. In the next section, we introduce another
method, based on the concept of admissible deviation, that
focuses on the most likely value of a variable of interest.
In Section 2, we argued that the sensitivity of a probability
of interest to variation of a parameter x can be expressed as

VAN DER GMG & RENOOIJ

UAI 2001

a function f ( x) of the form
f(x)

effect may break down rapidly, as noted before by Laskey
[4]. For some parameters, it may be that the sensitivity val­

a· x + b
=
c·x+d

ues for slightly smaller assessments are very large and the
sensitivity values for slightly larger assessments are quite

The first derivative r ( X) of this function is

especially the sensitivity values become quite large. Find­

The probability of interest is sensitive to deviations from
the original assessment x0 of the parameter under study, if

lf'(xo)l

is greater than zero.

As an example, Figure 2 depicts a sensitivity function that
we found for the oesophagus network. The function shows

p(Sono-cervix = yes I
probability Pr(Stage = III I

the effect of varying the parameter
=

no) on the

specific patient. The assessment for the pa­
=

0.07. For this assessment, we
find a sensitivity value of 0.53, which indicates that devia­
rameter under study is x0

tions from the original assessment would not greatly affect
the probability of interest. If the assessment would have
been 0.02 rather than 0.07, however, a much larger sensitiv­
ity value, of

4.74, would have been found, which indicates

that even minor deviations would have had a considerable
effect. For the value
value of just

0.07

ample, this property holds: the sensitivity value of the orig­

ing a relatively small sensitivity value for a parameter's as­

·

Metas-cervix
case 6) for a

small. For the parameter under study in Figure 2, for ex­
inal assessment is rather small, but for smaller assessments

a·d-b·c
f'(x) =
(c x + d)2

the sensitivity value

533

0.20,

on the other hand, a sensitivity

is found. If the assessment for the pa­

rameter would have been 0.20, therefore, deviations would
have had hardly any effect on the probability of interest.
Based upon the concept of sensitivity value, we might con­
clude that the parameters for whose assessments the sensi­
tivity values are the largest, are the most likely to be quite
influential upon variation and therefore should be selected
for further investigation. Sensitivity values, however, pro­
vide insight in the effect of small deviations only from a
parameter's assessment. When larger deviations are con­
sidered, the quality of the value

as

an approximation of the

sessment is therefore no guarantee that the probability of
interest is hardly affected by variation of this parameter.
From our discussion of the sensitivity function shown in
Figure 2, we have that the quality of a sensitivity value
for indicating the effect of parameter variation decreases
as the parameter's original assessment lies closer to the x­
coordinate of the function's

Therefore, to de­

"shoulder".

cide whether or not the probability of interest is likely to
be affected by inaccuracies in the assessment for a specific
parameter, we should consider not just the associated sen­
sitivity value but also the distance of the assessment to the
x-coordinate of the shoulder of the sensitivity function. We
define the concept of shoulder more formally.
A sensitivity function is either a linear function or a hyper­
bola. For

c = 0,

for example, the sensitivity function is

linear, as we then have that

f(x) =a·x + b = a·x + b
c·x+d

d

=

�.
d

x

+

�
d

If the sensitivity function is not linear, it takes the form of
a hyperbola:
f(x)

1"

x

=-

-s

+ t,

with

c2

1" = --:::­

s =

d
--,
c

and t

=

a
-

c

For ease of reference, Figure 3 depicts the general shape of
a hyperbola. The hyperbola has two asymptotes, parallel
to the x- andy-axes, in x
�
"'

.."

=

sand f(x)

= t, respectively.

The hyperbola further is symmetrical in the line that has

0.8

an absolute gradient of 1 and goes through the intersection

d
<>

point (s, t) of the hyperbola's asymptotes. The point

§" 0.6
II

is termed the

.."'
§.d 0.4

center

(s, t)

of the hyperbola. The point at which

the hyperbola intersects with the line in which it is symmet­
rical, is called the vertex of the hyperbola; this vertex is the

0::

point referred to before as the function's shoulder. As the

0.2

symmetry line has a gradient with an absolute value of

1,

the gradient of the hyperbola at the vertex also has an abso­
OL_�___L______L-----�------�----�
0
0.2
0.4
0.6
0.8
xo

p(Sono-�eTuiz = yes!Meta.:'I-CeTvix =no)

Figure

2:

Pr(Stage = III I case 6) in terms of the pa­
= p(Sono-cervix =yes I Metas-cervix = no).

probability
rameter x

The sensitivity function J(x) expressing the

lute value ofl. Using this property we can easily determine
the x-coordinate x of the vertex:

'
lf (x)l

=

I (x =rs)2 1

=

1 ¢::::::> x = s ±

vfrT

We now return to a sensitivity function f(x) expressing a

534

VAN DER GAAG & RENOOIJ

j(x)

,,

,,

,'/
t

--

�

,

,
-'

)

_

,,

,

,
,,

UAI 2001

tivity value can be used for selecting parameters that upon

,

variation have a large effect on a specific probability of in­
terest. Often, however, we are interested not in the effect of
parameter variation on a probability of interest, but in the
effect on the most likely value for a variable of interest. In
a medical application, for example, the most likely diagno­

vertex

sis given a patient's symptoms and signs may be the out­
come of interest. For this type of outcome, the derivative

45°

________________________________ _

center

of a sensitivity function and its associated sensitivity value
are no longer appropriate for establishing a parameter's ef­
fect upon variation. For some parameters, deviation from
their original assessment may have a considerable effect on

X

s

the probability of a specific outcome and yet not induce a
Figure3: Ahyperbolaf(x).

change in the most likely one; for other parameters, varia­

network's probability of interest in terms of a parameter x

nonetheless result in a change in the most likely outcome.

under study. As noted above, if this function is not linear, it

We would like to note that the idea of focusing on the most

takes the form of a hyperbola. The center of the hyperbola

likely value of a specific variable conforms to the practice

tion may have little effect on the probabilities involved and

is

(- �, �).

Because a sensitivity function is defined on

of sensitivity analysis of decision-theoretic models where

[9].

the entire probability interval [0, 1] and moreover is non­

the most preferred decision is the outcome of interest

negative, we have that -4
< 0 and .!!.
> 0. For the xc
c -

To provide for studying the effects of parameter variation

coordinate x of the vertex of the hyperbola, we find

,

x=

in view of a most likely outcome, we enhance the basic
method of sensitivity analysis for probabilistic networks

-d
± Jia d-b · c l
-___!_...!..._
...:

with the computation of an interval within which a param­

·

-

___

c

eter can be varied without inducing a change in the most

For the sensitivity function shown in Figure 2, for example,

the x-coordinate of the vertex of the hyperbola is x
We observe that the original assessment x0

=

=

0.05.

0.07 for the

likely value of a variable of interest. Now, let A be the

variable of interest. Let x be the parameter under study and
let xo be its assessment. The admissible

( r, s)

parameter under study lies quite close to this coordinate.

is a pair of real numbers

We recall that the sensitivity value for x0 is just 0.53. Be­

between the bounds max(xo

cause the assessment lies close to x, however, the sensitiv­
ity value cannot be considered a good approximation of the

effect of the parameter's variation: small deviations from
the assessment, especially to smaller values, have a con­
siderable effect on the probability of interest. We conclude
that this parameter should be selected for further investiga­

deviation

for x0

such that x0 can be varied

- r,

0) and min ( xo +

s,

1)

without inducing a change in the most likely value for the

variable A;

r

and s, moreover, are the largest numbers for

which this property holds. Note that the interval within
which a parameter can be freely varied can be bounded
for two reasons: either the most likely outcome changes

if the parameter is varied beyond the specified boundary,

tion, regardless of its small sensitivity value.
From the above observations, we have that for extracting

from the sensitivity data the parameters that deserve fur­
ther attention, parameters whose assessment has a sensi­
tivity value larger than 1 should be identified. In addition,
parameters whose original assessment lies close to the

x­

coordinate of the vertex of the associated sensitivity func­
tion should be selected.
To conclude our discussion of sensitivity values, we would
like to note that in the analysis of the oesophagus network
we found rather strong sensitivities. An example is shown

0.2

in Figure 4: for the parameter under study, a sensitivity
value of6.97 was found.

5

Admissible deviation

In the previous section, we focused on the derivative of a
sensitivity function and showed how its associated sensi-

Q UL------�

0.02

Figure

p(X-lung�

=

1/MIMetas-lungs

T he sensitivity function

4:

f(x)

=

110)

expressing the

Pr(Stage = IVB I case 1) in terms of the pa­
p(X-lungs yes I Metas-lungs = no).
rameter x
probability

=

=

VAN DER GAAG & RENOOIJ

UAI2001

or the boundary of the probability interval

[0, 1]

has been

535

Metas-lungs = no)

on the probabilities of the various

reached. To express that a parameter can be varied as far as

different values of the variable

the boundary of the probability interval, we use the symbol

tient. From the figure, it is readily seen that the param­

oo

eter's assessment has associated a small sensitivity value

in the admissible deviation associated with its assess­

Stage

for a specific pa­

ment.

from each of the sensitivity functions. The sensitivity func­

The admissible deviation for a parameter's assessment can

tion f1v8(x), for example, that expresses the probability
Pr(Stage = IVB I case 138) in terms of the parameter

be computed from the sensitivity functions
are yielded for the various values

a,

!Pr(a;le)

that

of the variable A.

under study, is

f

More specifically, the admissible deviation is established

xo
ai is the most likely value for

(

!VB X

by studying the points at which two or more of these func­

)

tions intersect. Suppose that for the original assessment

of the parameter x, the value

lf:vs(0.05)I = 0.71145

tion, that neither of the bounds of the admissible deviation

(r, s) ,

oo.

The admissible deviation for x0 now is the pair

where the leftmost deviation

number for which x0

-r

r

is the smallest real

is the x-coordinate of a point at

!Pr(a;le)(x) intersects with
fPr(a11e)(x) with j "1- i; the

which the sensitivity function
another sensitivity function
rightmost deviation

s

We further observe that the assessment

x0

=

0.05 for the

parameter lies relatively far from the x-coordinate i; of the
function's vertex:

i;

is defined analogously.

=

-1.17403+yi0.09208·l.l7403-1 '17403·11
1

-0.14

We present various examples to illustrate the difference be­
tween using sensitivity values and admissible deviations for

0.09208 ·X + 1.17403
X+ 1.17403

from which we find a sensitivity value of

the variable of interest. Also suppose, for ease of exposi­
equals

_

-

Based on the concept of sensitivity value as discussed in the

studying the effects of parameter variation. The examples

previous section, we conclude that the parameter does not

are taken from patient-specific analyses of the oesophagus

deserve additional attention. Inspection of Figure 5 now

network. The figures used display the sensitivity functions

further reveals that the admissible deviation for the param­

yielded for all the values of the variable

eter's assessment equals

Stage

that models

the stage of a patient's cancer. As we are now considering

( oo, oo) ,

which indicates that the

parameter can be varied over the entire probability interval

a variable of interest rather than a probability of interest,

[0, 1]

using the concept of sensitivity value for selecting interest­

Based on the concept of admissible deviation, therefore,

ing parameters amounts to examining the sensitivity values

the parameter should also be further disregarded.

from all functions for the parameter under study.

without inducing a change in the most likely stage.

For our next example, we consider a parameter that induces

Our first example addresses a parameter that induces small

large sensitivity values, but upon variation is not expected

sensitivity values and upon variation does not result in a

to result in a change in the most likely outcome. The sensi­

change in the most likely outcome. The sensitivity func­

tivity functions for the parameter are depicted in Figure

tions for the parameter are depicted in Figure 5: the fig­

the figure shows the effects of varying

ure shows the effects of varying

x = p( CT-lungs = yes I

yes I Metas-loco = no)

x

=

p( CT-loco

6:
=

on the probabilities of the dif-

0.6 ,-------,
IIA
"'
""
•
.,

�

8

"'
�

0.4

•

�
Q:

0.05

p(CT-Iung• = ye•IMetas-lungs =no)

5: The sensitivity functions expressing the prob­
Pr(Stage I case 138) in terms of the parameter
p(CT-lungs =yes I Metas-lungs =no).
Figure

abilities

p(CT-Ioco

=

li""IMetas-loco =no)

6: The sensitivity functions expressing the prob­
Pr(Stage I case 82) in terms of the parameter
p(CT-loco =yes I Metas-loco =no).
Figure

abilities

536

VAN DER GMG & RENOOIJ

Stage. For the parameter's
0.02, large sensitivity values

ferent values of the variable

original assessment x 0

=

are found from some of the six functions.

UAI 2001

computed to be

(0.10, oo).

As the leftmost deviation is

quite small compared to the assessment

0.20,

we find that

For example,

the parameter deserves further investigation. We would like

from the sensitivity function that expresses the probability

to note that, if the original assessment had been in the inter­

Pr(Stage

=

IIA

sitivity value of

I case 82) in terms of the parameter, a sen­

2.07 is found.

W hen studying the effects of

variation on the probabilities of interest, therefore, the pa­
rameter should be selected for further investigation. Now
consider the effects of variation on the most likely value
of the variable

Stage.

For the parameter's assessment xo,

we find that stage III is the most likely stage for the patient
under study. The sensitivity function for this stage inter­
sects with the sensitivity function for stage IIA at x

= 0.17.

Further inspection of the figure reveals that the admissible
deviation for the parameter's assessment is

(oo, 0.15).

We

observe that the rightmost deviation is relatively large com­
pared to the original assessment.

We therefore conclude

that inaccuracies in the assessment are not reasonably ex­
pected to affect the most likely outcome, and the parameter
should not be selected for further investigation.

values but upon variation affects the most likely outcome.
Figure 7 depicts the sensitivity functions for the parameter

x

= p(Wall-inv = T2 I Shape = polypoid, 5 :::; Length <
lOcm). For the original assessment x0 = 0.2 of the pa­

rameter, the largest sensitivity values are found from the

lf{IA(Q.2)1
lf{u(0.2)[

=

=

III:

then the sensitivity values would not have

extremely small for both directions of variation.
Our final example pertains to a parameter that induces large
sensitivity values and upon variation is expected to result
in a change in the most likely outcome.

The sensitivity

8: the
p( CT-organs =

functions for the parameter are displayed in Figure
figure shows the effects of varying x

medias! llnv-organs

=

none).

=

From two of the sensitivity

functions, we find relatively large sensitivity values:

lf{1A(0.05) I
lf{n (0.05) I

1.34333
0.99446

In addition, the original assessment x0

= 0.05

for the pa­

xm of the vertices of the two functions:

XnA
:i:m

= 0.0597
0.0499

Based upon the concept of sensitivity value, therefore, the
parameter should be selected for further investigation. We
now consider the effects of variation on the most likely out­
come. We observe that for the original assessment the most

0.32151
0.34832

likely stage is IIA. The admissible deviation for the assess­
ment is computed to be

As the sensitivity functions are linear in the parameter
under study, the computed sensitivity values describe the
effects of variation exactly.

[0.04, 0.10],

changed, but the admissible deviation would have become

rameter lies very close indeed to the x-coordinates :i:nA and

We now address a parameter that induces small sensitivity

functions for the stages IIA and

val

Based upon the concept of

sensitivity value, we therefore conclude that the parame­
ter should not be selected for further investigation. Now,
the admissible deviation for the parameter's assessment is

(0.002, oo).

We observe that the

leftmost deviation is extremely small, indicating that an in­
accuracy by just

0.002 in the original assessment will lead
Stage and

to a different most likely value for the variable

may in fact result in a different treatment decision for the
patient under consideration.
The above examples illustrate that admissible deviations

0.6 ,-------,---,

IIA

0.6

��-�-------j iiA
-------.__.j ill
0.2

0.2

p(Wall·inv

= T2ISI>ape =polypoid, 5::;

0.05

Length< 10)

Figure 7: The sensitivity functions expressing the prob­

Pr(Stage I case 120) in terms of the parameter
p(Wall-inv = T2[Shape =polypoid, 5:::; Length< 10cm).
abilities

p(CT-organl! = m.edia.!tllnv-organ.s =none)

8: The sensitivity functions expressing the prob­
Pr(Stage I case 63) in terms of the parameter
p(CT-organs =medias! [Inv-organs =none).
Figure

abilities

UAI 2001

VAN DER GAAG & RENOOIJ

provide additional insight into the sensitivity of a proba­
bilistic network's outcome to inaccuracies in its parame­
ters. We would like to note that the use of admissible de­
viations is especially of interest when decisions are to be
based on the most likely value of a variable of interest [10].

537

Acknowledgements. This research has been (partly) supported
by the Netherlands Computer Science Research Foundation with
financial support from the Netherlands Organisation for Scien­
tific Research (NWO). We are most grateful to Babs Taal and
Berthe Aleman from the Netherlands Cancer Institute, Antoni van
Leeuwenhoekhuis, who spent much time and effort in the con­

struction of the oesophagus network.

6

Conclusions




In building Bayesian belief networks, the elic­
itation of all probabilities required can be a
major obstacle. We learned the extent of
this often-cited observation in the construc­
tion of the probabilistic part of a complex
influence diagram in the field of cancer treat­
ment. Based upon our negative experiences
with existing methods, we designed a new
method for probability elicitation from do­
main experts. The method combines various
ideas, among which are the ideas of transcrib­
ing probabilities and of using a scale with
both numerical and verbal anchors for mark­
ing assessments. In the construction of the
probabilistic part of our influence diagram,
the method proved to allow for the elicita­
tion of many probabilities in little time.
1

INTRODUCTION

As more and more Bayesian belief networks are be­
ing developed for complex problem domains, it is be­
coming increasingly apparent that the elicitation of all
probabilities required is not an easy task. In fact,
the elicitation of probabilities is often referred to as
a major obstacle in building a Bayesian belief network
[Jensen, 1995, Druzdzel & Van der Gaag, 1995]. We
experienced the extent to which probability elicitation
can be an obstacle to advancement in the construc­
tion of the probabilistic part of a complex influence
diagram in the field of cancer treatment.
The Antoni van Leeuwenhoekhuis in the Netherlands,
hosting the Netherlands Cancer Institute, is spe­
cialised in the treatment of cancer patients. In the hos­
pital, every year some hundred patients receive treat­
ment for oesophageal carcinoma. Patients with oe­
sophageal carcinoma currently are assigned to a ther­
apy by means of a standard protocol, involving a small

and B.G. Taal
The Netherlands Cancer Institute
Antoni van Leeuwenhoekhuis
Plesmanlaan 121
1066 CX Amsterdam
The Netherlands

B.M.P. Aleman,

number of variables. Based upon this protocol, 80%
of the patients show a favourable response to the ther­
apy instilled. In the context of a project aimed at the
development of a more fine-grained protocol with a
higher favourable response rate, an influence diagram
is being developed for patient-specific therapy selec­
tion for oesophageal carcinoma. The influence diagram
is destined for use in the Antoni van Leeuwenhoekhuis.
The oesophagus influence diagram is being hand­
crafted with the help of two experts in oncology from
the Netherlands Cancer Institute. After carefully
modeling the characteristics of an oesophageal carci­
noma and the possible effects of the various different
therapeutic alternatives available in the graphical part
of the diagram, we focused on the elicitation of the
probabilities required for the diagram's quantitative
part. As in many problem domains, various differ­
ent sources of probabilistic information appeared to
be readily available for the elicitation task. Neither
data collection nor a thorough literature review, how­
ever, yielded any usable results. The single remaining
source of probabilistic information, therefore, was the
knowledge and personal clinical experience of the two
domain experts involved in the project.
For eliciting the conditional probabilities required for
the oesophagus influence diagram, we set out us­
ing various well-known methods with our domain
experts: we used a numerical scale for marking
assessments and we used the concept of lotteries
[Morgan & Henrion, 1990]. The various problems we
encountered with these methods and the amount of
time these methods tended to take for the separate
assessments, soon revealed that the elicitation of the
large number of probabilities required was infeasible
with these methods.
Based upon our negative experiences with existing
methods, we designed a new method for eliciting
probabilities from domain experts. We tailored our
method to eliciting a large number of probabilities
in little time. As assessments obtained in little

648

van der Gaag, Renooij, Witteman, Aleman, and Taal

time can be quite inaccurate, we envisage the use of
our method as the first step in an iterative proce­
dure of stepwise refinement of probability assessments
[Coupe et al., 1999]. Our method combines various
different ideas. Among these are the ideas of present­
ing conditional probabilities as fragments of text and
of providing a scale for marking assessments with both
numerical and verbal anchors. Using our method in
the construction of the probabilistic part of the oe­
sophagus influence diagram, we elicited from our do­
main experts the conditional probabilities required at
a rate of 150- 200 probabilities per hour. In an eval­
uation interview, the experts indicated that they had
felt very comfortable with the method.
The paper is organised as follows. In Section 2, we
provide some details of the oesophagus influence di­
agram and .discuss our initial experiences with prob­
ability elicitation for the diagram. In Section 3, we
describe the method we designed for eliciting a large
number of probabilities from domain experts. In Sec­
tion 4, we evaluate the use of our method in the con­
struction of the probabilistic part of the oesophagus
influence diagram; more specifically, we comment on
the observations put forward by the domain experts
using the method. The paper is rounded off with some
conclusions in Section 5.
2

reduction of the patient's primary tumour and an im­
proved passage of food through the oesophagus. The
various therapeutic alternatives available differ in the
extent to which these effects can be attained. Instilla­
tion of a therapy further is expected to be accompa­
nied not just by beneficial effects but also by various
complications; these complications can be very serious
and may even lead to death. The effects and com­
plications to be expected from the various therapeu­
tic alternatives available for a patient depend on the
characteristics of his or her carcinoma, on the depth
of invasion of the carcinoma into the oesophageal wall
and neighbouring structures, and on the extent of the
carcinoma's metastases. It will be evident that the
possible effects and complications require careful bal­
ancing before a therapy is decided upon.
The overall structure of the oesophagus influence di­
agram is shown in Figure 1. The graphical part of
the diagram was handcrafted with the help of two do­
main experts from the Netherlands Cancer Institute;
the construction of this graphical part took approxi­
mately two years, with one two-hour interview every
two or three weeks. The influence diagram currently

THE OESOPHAGUS INFLUENCE
DIAGRAM

As a consequence of a lesion of the oesophageal wall,
for example as a result of frequent reflux, a carci­
noma may develop in a patient's oesophagus. An oe­
sophageal carcinoma has various characteristics that
influence its prospective growth. These characteristics
include the location of the carcinoma in the oesopha­
gus, the histological type of the carcinoma, its length,
and its macroscopic shape. An oesophageal carcinoma
typically invades the oesophageal wall and upon fur­
ther growth may invade neighbouring structures such
as the trachea and bronchi. In due time, the carcinoma
may give rise to lymphatic metastases in distant lymph
nodes and to haematogenous metastases in, for exam­
ple, the lungs and the liver of the patient. The depth
of invasion and the extent of the metastases of the
carcinoma largely influence a patient's life expectancy.
While establishing the presence of an oesophageal car­
cinoma in a patient is relatively easy, the selection of
an appropriate therapy is a far harder task. In the
Antoni van Leeuwenhoekhuis, various different thera­
peutic alternatives are available, ranging from surgical
removal of the oesophagus, to radiotherapy, and po­
sitioning a prosthesis in the oesophagus. The effects
aimed at by instilling a therapy include removal or

complications

Figure 1: The Overall Structure of the Oesophagus
Influence Diagram.
includes one decision node and over 70 chance nodes.
Of these, 40 chance nodes pertain to the characteris­
tics of an oesophageal carcinoma, to the depth of its
invasion, and to the extent of its metastases; the re­
maining chance nodes model the possible effects and
complications of the various therapies available. For
the chance nodes, a total of almost 3000 probabilities
is required.
So far, we focused our elicitation efforts on the part
of the diagram that pertains to the characteristics,
depth of invasion, and metastases of an oesophageal
carcinoma. This part constitutes a coherent and self­
supporting Bayesian belief network. The 40 nodes in-

How to Elicit Many Probabilities

valved require some thousand probability assessments.
The node requiring the largest number of assessments,
144, models the staging of the carcinoma; this node is
a deterministic node, classifying an oesophageal carci­
noma according to the depth of its invasion and the ex­
tent of its metastases. The non-deterministic node re­
quiring the largest number of probability assessments
is the node describing the result of an echo-endoscopic
examination of a patient's oesophagus with respect
to the depth of invasion of the carcinoma in the oe­
sophageal wall; it requires 80 assessments.
The elicitation of the probabilities required for the 40
nodes indicated above proved to be a major obstacle
in the construction of our influence diagram. As in
many problem domains, various sources of probabilis­
tic information were available. We collected data from
historical patient records and we performed a litera­
ture review. Unfortunately, the Netherlands being a
low-incidence country for oesophageal carcinoma, we
were not able to compose an up-to-date, large and rich
enough data collection to allow for reliable assessment
of the probabilities required; after due consideration,
we decided instead to save the collected data for eval­
uation purposes. Our literature review, although very
thorough, also did not result in ready-made assess­
ments; in fact, hardly any results reported in the lit­
Prature turned out to be usable for our influence dia­
gram. The single remaining source of probabilistic in­
formation, therefore, was the knowledge and personal
clinical experience of the two domain experts involved
in the project. The problems of bias and poor cali­
bration that, unfortunately, are typically encountered
when eliciting judgemental probabilities from experts
are widely known [Kahneman et al., 1982].
In our first efforts to elicit conditional probabilities for
the oesophagus influence diagram from our domain ex­
perts, we focused on the use of a probability scale for
marking assessments, on the frequency method, and
on the concept of lotteries, as well-known methods
for probability elicitation [Morgan & Henrion, 1990,
Gigerenzer & Hoffrage, 1995]. These methods were
dPsigned to avert to at least some extent the typ­
ical problems found with human probability assess­
ment. Before commenting on our experiences with
these methods, we would like to emphasise that, prior
to the construction of the oesophagus influence dia­
gram, the domain experts involved had little or no ac­
quaintance of expressing their knowledge and clinical
experience into numbers.
The probability scale we used in the elicitation was a
horizontal line with the three anchors 0, 0.5, and 1.
The domain experts were asked to mark their assess­
ments for all conditional probabilities pertaining to
a single variable given some conditioning context on

649

the same line. The probabilities to be assessed were
presented to them in mathematical notation. Unfor­
tunately, the experts involved in the project had some
difficulties working with the mathematical notation.
In addition, they felt quite uncomfortable with the
probability scale, as it gave them very little to go by.
The request to mark various assessments on a single
line further appeared to introduce a bias towards aes­
thetically distributed marks.
With the frequency method, the domain experts were
asked to envisage a population of one hundred patients
suffering from an oesophageal carcinoma with certain
characteristics. They were asked to assess the num­
ber of patients from among this population who would
show a characteristic under study. Since oesophageal
carcinoma has a low incidence in the Netherlands, vi­
sualising one hundred patients with certain specific
characteristics turned out to be a demanding, if not
impossible, task.
The use of lotteries for probability elicitation, unfor­
tunately, also entailed various difficulties. The domain
experts indicated that they often felt confronted with
lotteries that were very hard to conceive because of the
rare, or unethical, situations they represented. More­
over, the use of lotteries tended to take so much time
that it soon became apparent that the elicitation of
several thousands of conditional probabilities in this
way was quite infeasible.
3

THE ELICITATION M ETHOD

For the probabilistic part of the oesophagus influence
diagram, several thousands of conditional probabili­
ties had to be assessed. As we argued in the previous
section, these probabilities had to be elicited from the
domain experts involved in the construction of the dia­
gram. Experience with well-known methods for prob­
ability elicitation had shown that assessing all prob­
abilities required was no easy task. Based upon the
negative experiences with these methods, we designed
a new method for eliciting probabilities from domain
experts that is tailored to the elicitation of a large
number of conditional probabilities in little time. In
this section, we present our method; its use will be
commented upon in Section 4.
Our method for probability elicitation from domain ex­
perts combines various different ideas. Although sev­
eral of these ideas were presented before by others, we
combined and enhanced them to yield a novel and, as
we will argue in the next section, effective elicitation
method. At the heart of our method lies the idea of
presenting domain experts with a separate figure for
every conditional probability that needs to be assessed.
Figure 2 shows, as an example, the figure pertaining

650

van der Gaag, Renooij, Witteman, Aleman, and Taal

certain
(almost)
probable

100

85
75

expected

polypoid oesophageal carci­
less than 5 em. How
carcinoma invades into the muscu­

Consider a patient with a

noma; the carcinoma has a length of
likely is it that this

laris propria {T2}

fifty-fifty

50

of the patient's oesophageal wall, but

not beyond?

uncertain
25
improbable
(almost)
impossible

15

0

F igure 2: The Fragment of Text and Probability Scale for the Assessment of the Conditional Probability
Pr(Invasion == T2 I Shape== polypoid, Length< 5 em ) .
to the conditional probability
Pr(

Invasion

==

T2

Shape

=

Length<

polypoid,

5

em

)

for the oesophagus influence diagram. On the left of
the figure is a fragment of text that transcribes the
conditional probability to be assessed. Using a frag­
ment of text to denote a probability circumvents the
need to use mathematical notation. The fragment is
stated in terms of likelihood rather than in terms of
frequency to forestall difficulties with the assessment
of a conditional probability for which the conditioning
context is quite rare. To facilitate the assessment of
a required probability, a vertical scale is depicted to
the right of the text fragment. Indicated on this scale
are various different numerical and verbal anchors. We
will presently comment on the specific anchors used.
The figures pertaining to the various conditional prob­
abilities to be assessed are grouped in such a way that
the probabilities from the same conditional distribu­
tion can be taken into consideration simultaneously;
the figures are presented in groups of two or three
on consecutive single-sided sheets of paper. Explic­
itly grouping related probabilities has the advantage
of reducing the number of times a mental switch of
conditioning context is required of the domain experts
during the elicitation.
The probability scale to be used with our method spec­
ifies both numerical and verbal anchors. Research on
human probability judgement has indicated that most
people tend to feel more at ease with verbal probabil­
ity expressions than with numbers. Verbal expressions
of probability are considered to be more natural than
numerical probabilities, easier to understand and com-

municate, and better suited to convey the vagueness
of one's opinions [Wallsten et al., 1993]; this observa­
tion also holds for physicians and other health workers
[Merz et al., 1991]. Words, however, should not self­
evidently be preferred to numbers, as neither should
numbers to words. In fact, the two modes of commu­
nicating probabilistic information can both be used
[Brun & Teigen, 1988]. Motivated by these observa­
tions, we decided to search for a probability scale for
marking assessments that is based on both numbers
and verbal probability expressions.
To develop a scale of verbal probability expressions
to be used with numbers, we undertook four separate
studies. In the first study, we asked subjects to pro­
vide a list of the verbal probability expressions they
commonly use. This study yielded seven most fre­
quently used expressions, being (translated from the
corresponding Dutch expressions) "certain" , "proba­
ble" , "expected" , "fifty-fifty" , "uncertain" , "improba­
ble" , and "impossible" . In the second study, (other)
subjects were asked to rank order these expressions.
The results from this study indicated that the seven
verbal probability expressions had a considerably sta­
ble rank ordering between subjects. To establish the
relative distances among the seven expressions, in the
third study, subjects were asked to compare each pair
of expressions and assess the degree to which the two
expressions conveyed the same probability. The dis­
tances yielded by this study were used to project the
verbal probability expressions onto a numerical scale.
The expression "certain" was calculated to be equiva­
lent to 100%, "probable" to be equivalent to approx­
imately 85%, and "expected" approximately to 75%;
"fifty-fifty" was calculated to be equal to 50%, "uncer-

How to Elicit Many Probabilities

tain" approximately to 25%, "improbable" to approx­
imately 15%, and "impossible", to conclude, was cal­
culated to denote 0%. Using this projection of verbal
probability expressions onto numbers, the fourth study
focused on the question whether decisions were influ­
enced by the mode in which probability information
was presented. The results indicated that the decisions
made were independent of whether the probability in­
formation was expressed numerically or verbally. We
would like to note that the four studies included sub­
jects from the field of medicine. For further details of
the studies, we refer the reader to an extended paper
[Renooij & W itteman, 1999].
The fact that the subjects in our studies interpreted
the verbal probability expressions as intended, moti­
vated us to further elaborate on a scale with both nu­
merical and verbal anchors for use as an aid for prob­
ability elicitation. Since the verbal probability expres­
sions were explicitly intended as independent anchors
on the scale rather than as translations for the nu­
merical probabilities, we decided to position the verbal
probability expressions close by rather than simply be­
side the numerical anchors. We further decided to add
the moderator "(almost)" to the most extreme ver­
bal expressions to indicate the positions of very small
and very large probabilities. The resulting probability
scale is the scale shown in Figure 2.
4

EVA LUATION OF THE
ELICITATION M ETHOD

We used our newly designed method for probability
elicitation from domain experts in the construction of
the probabilistic part of the oesophagus influence di­
agram. In this section, we evaluate the use of our
method. More specifically, we comment upon the ob­
servations put forward by the domain experts involved.
In addition, we briefly review the preliminary results
from an initial evaluation of the influence diagram in
the making.
4.1

USING THE METHOD

The elicitation of the conditional probabilities required
for the part of the oesophagus influence diagram out­
lined in Section 2, took approximately two months,
with one two-hour interview with the domain experts
every two weeks. Each interview focused on a small
coherent part of the diagram. Prior to every inter­
view, the elicitors spent some ten hours preparing the
fragments of text to be presented with our probability
scale to the experts.
In the first interview, the domain experts were in­
formed of the basic ideas underlying the new elicitation

651

method. The intended use of the probability scale was
detailed to them. In addition, the experts were told
that their initial probability assessments would be sub­
jected to a sensitivity analysis to reveal the sensitivi­
ties of the diagram's results to the various assessments,
and that we would try and refine the most influential
ones later on in the project; for details of our proce­
dure for stepwise refinement of assessments, we refer
the reader once again to [Coupe et al., 1999]. The ba­
sic idea of sensitivity analysis was explained to the
domain experts in depth to reassure them that rough
assessments for the requested conditional probabilities
would suffice at this stage in the construction of the
influence diagram.
Following the last interview, the domain experts were
asked to evaluate the new method we had used with
them for probability elicitation. For this purpose, a
written evaluation form was designed so as to not influ­
ence their observations. In the evaluation, the domain
experts indicated that they had felt very comfortable
with the elicitation method. They found the method
most effective and much easier to use than any method
for probability elicitation they had used before.
We recall from Section 3 that one of the ideas under­
lying our method for probability elicitation is the use
of a fragment of text to indicate a conditional prob­
ability that needs to be assessed. The use of these
fragments of text seemed to work very well. The two
domain experts mentioned that they had had no dif­
ficulties understanding the described patient charac­
teristics. During the interviews, the elicitors had of­
ten noted that the described characteristics served to
call to mind various different concrete patients. Al­
though the experts could not envisage a large group of
patients with certain specific characteristics, their ex­
tensive clinical experience with cancer patients in gen­
eral and their knowledge of reactive growth of cancer
cells, along with information recalled from literature,
enabled them to provide the requested assessments.
With respect to the probability scale used for marking
assessments, the domain experts indicated that they
had found the presence of both numerical and verbal
anchors helpful. They mentioned that, upon thinking
about a conditional probability to be assessed, they
used words as well as numbers. Depending on how fa­
miliar they felt with the characteristics described in a
fragment of text, they preferred using verbal or numer­
ical expressions. The more uncertain they were about
the probability to be assessed, for example, the more
they were inclined to think in terms of words. The
verbal anchors on the scale then helped them to deter­
mine the position that they felt expressed the proba­
bility they had in mind.

652

van der Gaag, Renooij, Witteman, Aleman, and Taal

The two domain experts further mentioned that they
had felt comfortable with the specific verbal anchors
used with the probability scale. They indicated, how­
ever, that the expression "impossible" is hardly ever
used in oncology. Especially in their communication
with patients, oncologists appear to prefer the more
cautious expression "improbable" to refer to almost
impossible events. As a consequence, our domain ex­
perts tended to interpret the expression "improbable"
as a 5% or even smaller probability rather than as a
probability of around 15%. Since the probability scale
provided both words and numbers, they had no dif­
ficulties indicating what they meant to express. The
experts also mentioned that an extra anchor around
40% would have been useful. Note that these ob­
servations pertain to the lower half of the scale only.
We would like to add to these observations that our
probability scale hardly accommodates for indicating
extreme probability assessments, that is, assessments
very close to 0 or 1. During the various interviews,
however, the domain experts never seemed to want to
express such extreme assessments. When asked about
extreme probabilities, they confirmed our observation.
Another idea underlying our method is the idea of
grouping the figures used in such a way that the prob­
abilities from the same conditional distribution can
be taken into consideration simultaneously. During
the elicitation interviews, the domain experts were ad­
vised first to focus on the probabilities from a condi­
tional distribution that were the easiest to assess, and
then to distribute the remaining probability mass over
the more difficult probabilities. This turned out to be
a most effective heuristic for eliciting assessments for
variables with more than two or three values.
To conclude, we would like to point out that, during
the earlier, rather unsuccessful, elicitation efforts, our
domain experts had acquired some acquaintance of ex­
pressing their knowledge and personal clinical experi­
ence into numbers. As a result, they now appeared to
be less daunted by the assessment task.

into the oesophageal wall and the worse off the pa­
tient is. For the variable Invasion, various conditional
probabilities had to be assessed, pertaining to differ­
ing shapes and varying lengths of a carcinoma. Upon
assessing the conditional probabilities required for the
variable Invasion, the domain experts started with the
probabilities for the depth of invasion of a polypoid oe­
sophageal carcinoma with a length of less than 5 cen­
timeters. They subsequently indicated that patients
with ulcerating tumours of this length were 10% worse
off with regard to the depth of invasion of the carci­
noma than patients with equivalent polypoid tumours.
They thus explicitly related two conditional probabil­
ity distributions for the variable Invasion to one an­
other. As trends appeared to be a quite natural way
of expressing probabilistic information, we encouraged
our domain experts to provide trends wherever appro­
priate.
We designed a generic method for handling the trends
provided by our domain experts in an intuitively ap­
pealing and mathematically correct way. The method
is best explained in terms of the example trend stated
above. Suppose that, given a polypoid oesophageal
carcinoma of less than 5 centimeters, the probabilities
for the four different values of the variable Invasion
have been assessed at x1, x2, x3, and x4 - x; be­
ing the probability assessment for the value Ti. After
consultation with our domain experts, we interpreted
the specified trend as follows: 10% of the patients with
a polypoid tumour of less than 5 centimeters with Ti
for its depth of invasion would have had Ti +

for

an ulcerating tumour, i = 1, 2, 3. The basic idea of
the interpretation of the trend is depicted in Figure 3.
For the probability assessments Yt, Y2, Y3, and Y4 for

�
10%

1

10%

T1
4.2

1

the depth of invasion if the tumour would have been

T2

T3

T4

THE USE OF TRENDS

Figure 3: Handling Trends.
During the elicitation interviews with our domain ex­
perts, the concept of trend emerged. We use the term
to denote a fixed relation between two conditional
probability distributions for the same variable given
different conditioning contexts.
To illustrate the concept of trend, we address the vari­
able Invasion modelling the depth of invasion of an
oesophageal carcinoma into the wall of a patient's oe­
sophagus. This variable can take one of the values
Tl, T2, T3, and T4; the higher the number indicated
in the value, the deeper the carcinoma has invaded

the different values of the variable Invasion given an
ulcerating oesophageal carcinoma of less than 5 cen­
timeters, we thus find
Yt

+--

Y2

+--

Y3

+--

Y4

+--

0.10 ·X!
0.10 · X2 + 0.10 ·X!
X2
0.10 ·X3 + 0.10 ·X2
X3
X4 + 0.10 X3
X!

-

-

-

·

It is readily verified that the resulting assessments Yt,
Y2, Y3, and Y4 each lie between 0 and 1, and together

How to Elicit Many Probabilities

add up to 1. In addition, it will be evident that this
method for handling trends can easily be generalised to
variables with another number of values and to trends
specifying other percentages and other directions of
change.
4.3

AN INITIAL EVALUATION OF THE
DIAGRAM

With our new method, we elicited from the domain
experts involved all conditional probabilities required
for the part of the oesophagus influence diagram that
pertains to the characteristics, depth of invasion, and
metastases of an oesophageal carcinoma. As men­
tioned before in Section 2, this part of the diagram
constitutes a coherent and self-supporting Bayesian
belief network; it provides for predicting the stage of
a patient's oesophageal carcinoma from the results of
various different diagnostic tests. To get some prelim­
inary insight in the quality of the influence diagram
in the making, we performed an initial evaluation of
the 40-node belief network with patient data from 184
patients, available from the Netherlands Cancer Insti­
tute. Before detailing this evaluation and its results,
we would like to note that the data collection used is
known to be biased, to contain inconsistencies, and to
be incomplete in a non-random way.
For each patient from our data collection, we instan­
tiated, in the belief network, all nodes pertaining to
diagnostic tests for which a test result was available
for the patient under consideration. These diagnos­
tic tests range from a biopsy of the primary tumour
to an echo-endoscopic examination of the oesophagus,
and an X-ray of the patient's chest. From the thus
partially instantiated belief network, we computed the
most likely stage of the patient's oesophageal carci­
noma and compared it with the stage recorded in the
data. The stage of an oesophageal carcinoma can be
either I, IIA, liB, III, IVA, or IVB.
For 29 patients from our data collection, unfortu­
nately, the stage of the oesophageal carcinoma was not
recorded, which left us with 155 patients for our eval­
uation. In 94 of these 155 patients, the stage of the
carcinoma recorded in the data matched the stage with
highest probability computed from the belief network.
Under the assumption that the stages recorded in the
data are correct, therefore, in 61% of the patients the
network predicted the correct stage. We would like to
note that this percentage is not uncommon in evalua­
tions of knowledge-based systems [Berner et al., 1994].
Careful examination of the data of the patients for
which the belief network returned an incorrect stage
learned that the network's prediction deviated from
the data most notably for patients with an oesophageal

653

carcinoma of stage IVB. For some 70% of the patients
with a IVB-staged carcinoma, another stage was pre­
dicted by the network; the stage IVB was quite often
yielded as the second most likely stage, however. Af­
ter removing all patients with a IVB-staged carcinoma
from our data collection, the network predicted the
correct stage for 68% of the remaining patients.
To conclude our initial evaluation, we re-addressed the
data of patients for whose oesophageal carcinoma the
belief network predicted a stage that differed from the
stage recorded in the data; in doing so, we once again
included the patients with a IVB-staged carcinoma.
Since most probability assessments for the network
had been rounded off at 5%, we investigated the effect,
on the percentage of correct predictions, of consider­
ing certain stages as (almost) correct. To this end, we
considered an oesophageal carcinoma as (almost) cor­
rectly staged by the network, if for the stage recorded
in the data a probability was computed from the net­
work that differed by at most 5% from the probability
of the most likely stage. The percentage of correct pre­
dictions then approached 70%. Given that the proba­
bilities used are rough, initial assessments and that the
patient data definitely require clearing out, the results
from the initial evaluation are quite encouraging.
5

CONCLUSIONS

We experienced the extent to which probability elici­
tation can be an obstacle to advancement in the con­
struction of the probabilistic part of the oesophagus
influence diagram. Motivated by our negative ex­
periences with existing methods, we designed a new
method for eliciting probabilities from domain experts.
Our method combines various different ideas, among
which are the ideas of transcribing probabilities and of
using a scale with both numerical and verbal anchors.
We used our new elicitation method for eliciting the
probabilities required for the oesophagus influence di­
agram and evaluated its use with the domain experts
involved. The experts indicated that they found the
method much easier to use than any method for prob­
ability elicitation they had used before.
For the construction of the oesophagus influence dia­
gram, our newly designed elicitation method entailed
a major breakthrough. Prior to the use of our method,
we had spent over a year experimenting, on and off,
with other methods for probability elicitation without
success. Using our elicitation method, the probabili­
ties for a major part of the oesophagus influence di­
agram were elicited in just two months' time. Our
method tends to take considerable time on the part of
the elicitors in preparing the various interviews with
the experts. However, the ease with which probabili-

654

van der Gaag, Renooij, Witteman, Aleman, and Taal

ties are elicited with the method makes this time cer­
tainly well spent.

