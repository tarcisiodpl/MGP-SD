. UCT, a state-of-the art algorithm for Monte Carlo tree
search (MCTS) in games and Markov decision processes, is based
on UCB1, a sampling policy for the Multi-armed Bandit problem
(MAB) that minimizes the cumulative regret. However, search differs from MAB in that in MCTS it is usually only the final “arm
pull” (the actual move selection) that collects a reward, rather than
all “arm pulls”. In this paper, an MCTS sampling policy based on
Value of Information (VOI) estimates of rollouts is suggested. Empirical evaluation of the policy and comparison to UCB1 and UCT is
performed on random MAB instances as well as on Computer Go.

1

Er =

Background and Related Work

Monte-Carlo tree search was initially suggested as a scheme for
finding approximately optimal policies for Markov Decision Processes (MDP). MCTS explores an MDP by performing rollouts—
trajectories from the current state to a state in which a termination
condition is satisfied (either the goal or a cutoff state).
Taking a sequence of samples in order to minimize the regret of a
decision based on the samples is captured by the Multi-armed Bandit problem (MAB) [11]. In MAB, we have a set of K arms. Each
arm can be pulled multiple times. When the ith arm is pulled, a
1

Definition 1. The simple regret of a sampling policy for MAB is
the expected difference between the best expected reward µ∗ and the
expected reward µj of the empirically best arm X j = maxi X i :

Introduction

MCTS, and especially UCT [9] appears in numerous search applications, such as [4]. Although these methods are shown to be successful empirically, most authors appear to be using UCT “because it
has been shown to be successful in the past”, and “because it does a
good job of trading off exploration and exploitation”. While the latter statement may be correct for the Multi-armed Bandit problem and
for the UCB1 algorithm [1], we argue that a simple reconsideration
from basic principles can result in schemes that outperform UCT.
The core issue is that in MCTS for adversarial search and search in
“games against nature” the goal is typically to find the best first action
of a good (or even optimal) policy, which is closer to minimizing the
simple regret, rather than the cumulative regret minimized by UCB1.
However, the simple and the cumulative regret cannot be minimized
simultaneously; moreover, [3] shows that in many cases the smaller
the cumulative regret, the greater the simple regret.
We begin with background definitions and related work. VOI estimates for arm pulls in MAB are presented, and a VOI-aware sampling policy is suggested, both for the simple regret in MAB and for
MCTS. Finally, the performance of the proposed sampling policy is
evaluated on sets of Bernoulli arms and on Computer GO, showing
the improved performance.

2

random reward Xi from an unknown stationary distribution is encountered. In the cumulative setting, all encountered rewards are collected. UCB1 [1] was shown to be near-optimal in this respect. UCT,
an extension of UCB1 to MCTS is described in [9], and shown to
outperform many state of the art search algorithms in both MDP and
adversarial search [5, 4]. In the simple regret setting, the agent gets
to collect only the reward of the last pull.

Ben-Gurion
University
{tolpin,shimony}@cs.bgu.ac.il

of

the

Negev,

Israel,

email:

K
X

∆j Pr(X j = max X i )

(1)

i

j=1

where ∆j = µ∗ − µj .
Strategies that minimize the simple regret are called pure exploration strategies [3].
A different scheme for control of sampling can use the principles of bounded rationality [8] and rational metareasoning [10, 6]. In
search, one maintains a current best action α, and finds the expected
gain from finding another action β to be better than the current best.

3

Upper Bounds on Value of Information

The intrinsic VOI Λi of pulling an arm is the expected decrease in the
regret compared to selecting the best arm without pulling any arm at
all. Two cases are possible:
• the arm α with the highest sample mean X α is pulled, and X α
becomes lower than X β of the second-best arm β;
• another arm i is pulled, and X i becomes higher than X α .
The myopic VOI estimate is of limited applicability to Monte-Carlo
sampling, since the effect of a single sample is small, and the myopic
VOI estimate will often be zero. However, for the common case of a
fixed budget of samples per node, Λi can be estimated as the intrinsic
VOI Λbi of pulling the ith arm for the rest of the budget. Let us denote
the current number of samples of the ith arm by ni , and the remaining
number of samples by N :
Theorem 1. Λbi is bounded from above as
Λbα ≤
Λbi|i6=α

≤

N Xβ
N +nα

0

Pr(X α ≤ X β ) ≤

N (1−X α )
N +ni

0
Pr(X i

N Xβ
nα

≥ X α) ≤

0

Pr(X α ≤ X β )

N (1−X α )
ni

0
Pr(X i

(2)

≥ X α)

0

where X i is the sample mean of the ith arm after ni + N samples.
The probabilities can be bounded from above using the Hoeffding
inequality [7]:

1+

n/N

)2 > 1.37.

Corollary 1. An upper bound on the VOI estimate Λbi is obtained by
substituting (3) into (2).

2N X β
exp −1.37(X α − X β )2 nα
nα

2N (1 − X α )
≤ Λ̂bi =
exp −1.37(X α − X i )2 ni (4)
ni

4

VOI-based Sample Allocation

Following the principles of rational metareasoning, for pure exploration in Multi-armed Bandits an arm with the highest VOI should
be pulled at each step. The upper bounds established in Corollary 1
can be used as VOI estimates. In MCTS, pure exploration takes place
at the first step of a rollout, where an action with the highest utility must be chosen. MCTS differs from pure exploration in Multiarmed Bandits in that the distributions of the rewards are not stationary. However, VOI estimates computed as for stationary distributions work well in practice. As illustrated by the empirical evaluation
(Section 5), estimates based on upper bounds on the VOI result in a
rational sampling policy exceeding the performance of some stateof-the-art heuristic algorithms.

5

●

7000

10000

15000

Nsamples

Go: winning
rate each
— VOI
against UCT
10000, andFigure
150002.samples
per ply,
experiment
was repeated
1000 times. Figure 2 shows the winning rate of VOI against UCT vs.
the number of samples. For most numbers of samples per node, VOI
outperforms UCT.

6

Summary and Future Work

This work suggested a Monte-Carlo sampling policy in which sample selection is based on upper bounds on the value of information.
Empirical evaluation showed that this policy outperforms heuristic
algorithms for pure exploration in MAB, as well as for MCTS.
MCTS still remains a largely unexplored field of application of
VOI-aware algorithms. More elaborate VOI estimates, taking into
consideration re-use of samples in future search states should be considered. The policy introduced in the paper differs from the UCT
algorithm only at the first step, where the VOI-aware decisions are
made. Consistent application of principles of rational metareasoning
at all steps of a rollout may further improve the sampling.

Empirical Evaluation
